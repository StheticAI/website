import{e as Ln}from"https://app.framerstatic.com/chunk-EEWACHBQ.mjs";import{K as ct,eb as An}from"https://app.framerstatic.com/chunk-YTUKC2MA.mjs";import{sa as Fn}from"https://app.framerstatic.com/chunk-QDAF25HK.mjs";import{cf as dt,ff as En,gf as Le,hf as Dn,if as Mn,jf as On}from"https://app.framerstatic.com/chunk-4AXEU7ER.mjs";import{a as fe}from"https://app.framerstatic.com/chunk-ZUDQXE4C.mjs";import{r as Nn}from"https://app.framerstatic.com/chunk-XLWENXPN.mjs";import{Cd as rn,Jd as sn,M as Se,Za as nn,ab as at,bf as ln,ef as un,ob as on}from"https://app.framerstatic.com/chunk-COMKKZLF.mjs";import{f as an}from"https://app.framerstatic.com/chunk-L7VKNP5U.mjs";import{a as Ae}from"https://app.framerstatic.com/chunk-TADJBFME.mjs";import{e as _t}from"https://app.framerstatic.com/chunk-75ILXMIH.mjs";import{a as Wn}from"https://app.framerstatic.com/chunk-RDUOSMUC.mjs";import{$e as yn,Ie as fn,Je as pn,Oe as mn,Pe as gn,Se as hn,Te as vn,Ve as lt,af as xn,cg as Rn,dg as Pn,ff as ut,jf as bn,kf as Cn,mf as Tn,nf as kn,of as In,rg as De,sg as wn,tg as Me}from"https://app.framerstatic.com/chunk-E3BFIQ3T.mjs";import{a as F}from"https://app.framerstatic.com/chunk-QFU6OGL3.mjs";import{E as we,Ef as Qt,F as q,He as qt,Ie as it,K as $t,Le as Gt,Ne as Xt,Ve as Yt,We as st,Wg as Zt,sg as Jt,tn}from"https://app.framerstatic.com/chunk-XTLBFCBM.mjs";import{b as z}from"https://app.framerstatic.com/chunk-6YI2XN42.mjs";import{c as Oe,d as Fe}from"https://app.framerstatic.com/chunk-4UOLYURC.mjs";import{a as Sn}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{l as dn,n as Ee,s as cn}from"https://app.framerstatic.com/chunk-YEZP3BBL.mjs";import{b as Kt}from"https://app.framerstatic.com/chunk-GZI43NW3.mjs";import{a as ft,b as ce}from"https://app.framerstatic.com/chunk-NPD757A7.mjs";import{$b as Et,D as qe,Dn as Vt,Ep as zt,Fp as Ut,Hm as ot,Me as de,Mm as Wt,Nh as E,Oh as tt,On as Bt,Sj as Ft,Tn as rt,Vr as Ne,_s as en,bk as At,cm as Lt,ec as J,ed as et,fa as Q,ji as W,ko as jt,lb as wt,nb as St,ob as Ze,pk as nt,qb as Nt,qd as Dt,vd as ue,wd as Mt,wn as Z,xd as Ot,xp as Ht,yn as Pe}from"https://app.framerstatic.com/chunk-NBRM3IAP.mjs";import{b as Xe,d as Ye,p as Re}from"https://app.framerstatic.com/chunk-7QB5YDW7.mjs";import{b as x,d as Qe,e as T,f as le,h as Je,j as _,k as Pt,l as Ie}from"https://app.framerstatic.com/chunk-CMAEAGWD.mjs";import{a as O,b as P,i as Ge}from"https://app.framerstatic.com/chunk-M6MHZBU3.mjs";import{g as Y}from"https://app.framerstatic.com/chunk-JLNGOKO7.mjs";import{B as Ce,Oa as Rt,T as Te,Z as Ct,aa as Tt,ea as K,fa as kt,j as bt,ra as It}from"https://app.framerstatic.com/chunk-5V7XAOIL.mjs";import{a as C,b as be}from"https://app.framerstatic.com/chunk-YOOGIIWU.mjs";import{a as ke}from"https://app.framerstatic.com/chunk-HMF7T2NG.mjs";import{e as v,j as u,k as R,l as _e,m as xe}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var H=v(O(),1);var We=v(O(),1);function Lo(n){try{return x(n)?JSON.parse(n):null}catch{return null}}function pt(n,e){let t=localStorage.getItem(n),o=Lo(t);return e(o)?o:null}function Fr(n,e){let[t]=(0,We.useState)(()=>pt(n,e)),o=(0,We.useCallback)(r=>{let i=JSON.stringify(r);localStorage.setItem(n,i)},[n]);return[t,o]}var G=v(O(),1);var Vn="wuk326o",Bn="n283lgw",jn="pue1ity";var A=v(P(),1),Hn=.1,mt=9999999999999;function Vo(n,e){let r=e.width-n.width,i=e.height-n.height;return{minX:0,minY:0,maxX:r,maxY:i}}function zn(n){let e=n.trim(),t=parseInt(e);return T(t)?e.endsWith("%")?{value:t,unit:"%"}:e.endsWith("px")?{value:t,unit:"px"}:null:null}var pe=class extends G.default.Component{constructor(){super(...arguments);u(this,"containerRef",G.default.createRef());u(this,"contentWrapperRef",G.default.createRef());u(this,"setContainerRefs",t=>{this.containerRef.current=t;let{containerRef:o}=this.props;o&&(o.current=t)});u(this,"setContentWrapperRefs",t=>{this.contentWrapperRef.current=t;let{contentWrapperRef:o}=this.props;o&&(o.current=t)});u(this,"hasMoved",!1);u(this,"dragStartRect",null);u(this,"getConstraintsRect",()=>{let t=this.containerRef.current;return t?t.getBoundingClientRect():null});u(this,"getWindowRect",()=>{let t=this.getConstraintsRect();if(!t)return null;let o=this.contentWrapperRef.current;if(!o)return null;let r=o.getBoundingClientRect();return{x:r.left-t.x,y:r.top-t.y,width:r.width,height:r.height}});u(this,"onDragStart",t=>{this.dragStartRect=this.getWindowRect(),this.hasMoved=!1});u(this,"onDrag",t=>{if(!this.dragStartRect)return;let o=this.getWindowRect();if(!o)return;let{width:r,height:i}=o;!this.hasMoved&&t.offset.x===0&&t.offset.y===0||(this.hasMoved=!0,this.setRect({...qe.add(t.offset,this.dragStartRect),width:r,height:i},{rubberBandingEnabled:!0,snapToEdges:!0,fixedTop:!1}))});u(this,"onDragEnd",t=>{this.dragStartRect&&(this.dragStartRect=null,this.hasMoved&&(this.setFloatingWindowProperties({x:0,y:0,transition:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}),this.props.onDragEnd?.()))});u(this,"persistCurrentTopOffset",()=>{let t=this.getWindowRect();t&&this.setFloatingWindowProperties({fixedTop:t.y,top:1,bottom:0})});u(this,"hasPersistedTopOffset",()=>{let t=this.containerRef.current?.style.getPropertyValue("--floating-window-fixed-top"),o=parseInt(t||"");return T(o)&&o!==mt})}componentDidMount(){let{restorationKey:t}=this.props;if(!t)return;let o=pt(t,Un);o&&this.setFloatingWindowProperties(o)}render(){let{initialTopOffset:t,initialLeftOffset:o,visible:r,className:i,zIndex:s,constraintBy:l}=this.props,a=mt,d=0,c=1,p=0,f=1;if(x(t)){let g=zn(t);g&&(g.unit==="%"?(d=Ge(0,100,g.value),c=100-g.value):g.unit==="px"?(a=g.value,d=1,c=0):(g.unit,void 0))}if(x(o)){let g=zn(o);g?.unit==="%"&&(p=Ge(0,100,g.value),f=100-g.value)}let y=Ee.css.panelPadding,m=`calc(${a}px - var(--framerInternalUI-chromeMarginTop) - ${y})`;return(0,A.jsxs)("div",{ref:this.setContainerRefs,className:F(Bn,i),style:{position:"absolute",top:`calc(var(--framerInternalUI-chromeMarginTop) + ${y})`,left:l==="app"?y:`calc(var(--framerInternalUI-chromeMarginLeft) + ${y})`,right:l==="app"?y:`calc(var(--framerInternalUI-chromeMarginRight) + ${y})`,bottom:`calc(var(--framerInternalUI-chromeMarginBottom) + ${y})`,display:"flex",visibility:r?"visible":"hidden",flexDirection:"row",zIndex:s},children:[(0,A.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-left, ${p})`}}),(0,A.jsxs)("div",{style:{width:"auto",display:"flex",flexDirection:"column"},children:[(0,A.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-top, ${d})`,maxHeight:`var(--floating-window-fixed-top, ${m})`}}),(0,A.jsx)("div",{ref:this.setContentWrapperRefs,onPointerDownCapture:this.props.onPointerDownCapture,draggable:!1,className:F(jn,ct),style:{position:"relative",height:"auto",width:"auto",maxHeight:"100%",flexShrink:0,transform:"translate(var(--floating-window-x, 0px), var(--floating-window-y, 0px))",transition:"var(--floating-window-transform)"},children:(0,A.jsx)($n.Provider,{value:this,children:this.props.children})}),(0,A.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-bottom, ${c})`}})]}),(0,A.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-right, ${f})`}})]})}setPosition(t,{snapToEdges:o}){let r=this.getConstraintsRect(),i=this.getWindowRect();if(!i||!r)return;let s=qe.subtract(t,r);this.setRect({...s,width:i.width,height:i.height},{rubberBandingEnabled:!1,fixedTop:!0,snapToEdges:o})}setRect(t,{rubberBandingEnabled:o,snapToEdges:r,fixedTop:i}){let s=this.getConstraintsRect();if(!s)return;let{minX:l,minY:a,maxX:d,maxY:c}=Vo(t,s),p=t.x,f=t.y;if(r){let D=Math.abs(p-l),I=Math.abs(p-d),k=Math.abs(f-a),oe=Math.abs(f-c);D<16?p=l:I<16&&(p=d),k<16?f=a:oe<16&&(f=c)}let y=0,m=0;p<=l?(p=0,y=t.x-l):p>=d&&(y=t.x-d),f<a?(f=a,m=t.y-a):f>=c&&(m=t.y-c);let g=0,b=0;o&&(g=y*Hn,b=m*Hn);let h=qo({...t,x:p,y:f},s);this.setFloatingWindowProperties({top:i?1:h.top,bottom:i?0:h.bottom,fixedTop:i?h.top:void 0,right:h.right,left:h.left,x:g,y:b,transition:""})}setResizeRect({top:t,right:o,bottom:r,left:i}){this.setFloatingWindowProperties({top:t,right:o,bottom:r,left:i,fixedTop:void 0,x:0,y:0,transition:""})}setFloatingWindowProperties(t){let o=this.containerRef.current;if(!o)return;let r={};T(t.top)&&(r["--floating-window-top"]=t.top.toString()),T(t.right)&&(r["--floating-window-right"]=t.right.toString()),T(t.bottom)&&(r["--floating-window-bottom"]=t.bottom.toString()),T(t.left)&&(r["--floating-window-left"]=t.left.toString()),T(t.fixedTop)?r["--floating-window-fixed-top"]=`${t.fixedTop}px`:r["--floating-window-fixed-top"]=`${mt}px`,T(t.x)&&(r["--floating-window-x"]=`${t.x}px`),T(t.y)&&(r["--floating-window-y"]=`${t.y}px`),x(t.transition)&&(r["--floating-window-transform"]=t.transition);let i=Object.keys(r);for(let l of i){let a=r[l];o.style.setProperty(l,a)}let{restorationKey:s}=this.props;if(s&&Un(t,{strict:!1})){let l={top:t.top,bottom:t.bottom,left:t.left,right:t.right,fixedTop:t.fixedTop},a=JSON.stringify(l);localStorage.setItem(s,a)}}};u(pe,"defaultProps",{visible:!0,constraintBy:"canvas"});var Bo="top",jo="right",Ho="bottom",zo="left",Uo="fixedTop",$o="x",Ko="y",_o="transition";function Un(n,{strict:e}={strict:!0}){if(!le(n)||e&&($o in n||Ko in n||_o in n)||!T(n[Bo])||!T(n[jo])||!T(n[Ho])||!T(n[zo]))return!1;let t=n[Uo];return T(t)||_(t)}var $n=G.default.createContext(null),Kn=G.default.forwardRef(function(e,t){let o=G.default.useContext($n);return(0,A.jsx)(De,{ref:t,...e,className:F(e.className,Vn,ct),onDragStart:o?.onDragStart,onDrag:o?.onDrag||Sn,onDragEnd:o?.onDragEnd,cursor:"-webkit-grabbing"})});function qo(n,e){let t=n.y,o=t+n.height,r=n.x,i=r+n.width,s=t,l=r,a=e.height-o,d=e.width-i;return{top:s,bottom:a,left:l,right:d}}var V=v(O(),1);var w=v(O(),1),Gn=v(P(),1),gt=(0,w.createContext)(()=>()=>{});function Jr(n,e){let t=(0,w.useContext)(gt),[o,r]=(0,w.useState)(!1);return(0,w.useLayoutEffect)(()=>t(i=>{r(()=>n?n.some(s=>i.variantOverrideKeys.has(s)):e?e.some(s=>i.variantOverrideTraitTypes.has(s)):!1)}),[n,e,t]),o}function _n(){let n=(0,w.useContext)(gt),[e,t]=(0,w.useState)({variantOverrideKeys:new Set,variantOverrideTraitTypes:new Set});return(0,w.useLayoutEffect)(()=>n(o=>{t(o)}),[n,t]),e}function qn({children:n,variantOverrideTraitTypes:e,variantOverrideKeys:t}){let o=(0,w.useRef)(),r=(0,w.useMemo)(()=>{let i=new Set;return{listeners:i,addListener:s=>{i.add(s);let l=o.current;return l&&s(l),()=>{i.delete(s)}}}},[]);return(0,w.useLayoutEffect)(()=>{let i={variantOverrideTraitTypes:e,variantOverrideKeys:t};o.current=i,r.listeners.forEach(s=>s(i))},[r,t,e]),(0,Gn.jsx)(gt.Provider,{value:r.addListener,children:n})}var Xn="pvjhuxd",Yn="pcpv5lz",Qn="p1awmd8";var Jn=v(O(),1),Ve=(0,Jn.createContext)(null);var B=v(O(),1);function ht(n){switch(n){case"DeprecatedDrafts":case"ImageCrop":case"ImageFocalPoint":case"QuickActions":case"UpsellEnterprise":return!0;default:return!1}}function si(n){return n==="ConfirmationPlugin"?26:ht(n)?25:22}var eo=v(P(),1);function Zn({children:n}){let e=yn(),t=Qo();return(0,eo.jsx)(xn,{mode:t?"darkOnDarkModal":e,children:n})}function Xo(){let e=we().stores.chromeStore.useState(t=>t.mainView);return Ln(e)}function Yo(){return!1}var Qo=Ce()?Yo:Xo;var L,M,ee=class{constructor({triggerRender:e,willOpen:t,willPush:o,willPop:r}){_e(this,L,[]);_e(this,M,-1);u(this,"triggerRender");u(this,"willOpen");u(this,"willPush");u(this,"willPop");u(this,"present",(e,t,{parent:o,triggerRef:r,displayDivider:i,title:s,className:l,onDismiss:a,onPresent:d,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y,toolbarAction:m,autoFocusInside:g})=>{if(e&&this.isPresenting(e,{atIndex:0})){R(this,M)===0?this.close():(this.setStackIndex(0),this.willOpen?.(r?.current));return}if(o){let b=this.indexForItem(o);if(b===-1)return null;xe(this,L,R(this,L).slice(0,b+1)),d?.(),this.willPush?.()}else this.setStackIndex(-1),d?.(),this.willOpen?.(r?.current);R(this,L).push({id:e,timestamp:Date.now(),element:t,triggerRef:r,displayDivider:i,title:s,className:l,onDismiss:a,onPresent:d,dismissed:!1,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y,toolbarAction:m,autoFocusInside:g}),this.setStackIndex(R(this,M)+1)});u(this,"updatePopout",(e,t,o,r)=>{if(this.isClosed())return;let i=this.indexForItem(e);if(i===-1)return;let s=R(this,L)[i];if(!s)return;let l=s.element,a=s.title,d=s.autoFocusInside;l===t&&a===o&&d===r||(s.element=t,s.title=o,s.autoFocusInside=r,i<=R(this,M)&&requestAnimationFrame(this.triggerRender))});u(this,"isPresenting",(e,t)=>{if(this.isClosed())return!1;let o=this.indexForItem(e);return!(o<0||o>R(this,M)||t&&t.atIndex!==o)});u(this,"isOpen",()=>R(this,M)>-1);u(this,"isClosed",()=>!this.isOpen());u(this,"close",()=>{this.setStackIndex(-1)});u(this,"dismiss",e=>{let t=this.indexForItem(e);t!==-1&&R(this,M)>=t&&(this.willPop?.(),this.setStackIndex(t-1))});u(this,"goBack",(e=!1)=>{let t=this.stack[0];if(this.willPop?.(),this.setStackIndex(R(this,M)-1),e&&this.currentStackIndex===-1){let o=t?.triggerRef?.current;o instanceof HTMLElement&&o.focus()}});u(this,"indexForItem",e=>R(this,L).findIndex(t=>t.id===e));u(this,"setStackIndex",e=>{let t=Math.max(-1,e);R(this,M)!==t&&(R(this,L).forEach((o,r)=>{r<=e||o.dismissed||(o.dismissed=!0,o.onDismiss?.())}),xe(this,M,t),t<0&&xe(this,L,[]),this.triggerRender(),this.listeners.forEach(o=>o()))});u(this,"listeners",new Set);u(this,"registeredPopouts",{});u(this,"shouldPresentPopoutIds",new Set);u(this,"registerPopout",(e,t)=>{this.registeredPopouts[e]=t,this.shouldPresentPopoutIds.has(e)&&(t(),this.shouldPresentPopoutIds.delete(e))});u(this,"deregisterPopout",e=>{delete this.registeredPopouts[e];let t=this.indexForItem(e);t===-1||R(this,M)<t||this.setStackIndex(t-1)});u(this,"popoutIsRegistered",e=>e in this.registeredPopouts);u(this,"presentPopout",e=>{if(this.isPresenting(e,{atIndex:0}))return;let t=this.registeredPopouts[e];Ie(t)?t():this.presentPopoutOnRegistration(e)});u(this,"presentPopoutOnRegistration",e=>{this.shouldPresentPopoutIds.has(e)||(this.shouldPresentPopoutIds.add(e),setTimeout(()=>{this.shouldPresentPopoutIds.delete(e)},100))});this.triggerRender=e,this.willOpen=t,this.willPush=o,this.willPop=r}get stack(){return R(this,L)}get currentStackIndex(){return R(this,M)}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}};L=new WeakMap,M=new WeakMap;var to="pjkind9",no="c1l0qpj8";var X=v(P(),1),Zo={x:10,y:0};function oo({navigationRef:n,anchorRef:e,children:t,attachTo:o="right",offset:r=Zo,onKeydown:i,onCopy:s,fallbackToModalAppearance:l,showArrow:a=!0}){let d=z(),c=B.default.useRef(i);c.current=i;let p=nr(),[f,y]=B.default.useState(0),[m]=B.default.useState(()=>new ee({triggerRender:()=>y(I=>I+1)})),g=m.isOpen(),b=B.default.useCallback(I=>{q(d)&&d.stores.mouseStore.setModifiers(I.nativeEvent),I.key==="Escape"&&(m.goBack(!0),I.stopPropagation()),c.current?.(I)},[m]),h=B.default.useCallback(I=>{q(d)&&d.stores.mouseStore.setModifiers(I.nativeEvent)},[]);B.default.useEffect(()=>{if(n)return Ie(n)?(n(m),()=>{n(null)}):(n.current=m,()=>{n.current=null})},[m,n]),B.default.useEffect(()=>{if(!(!g||!s))return document.addEventListener("copy",s),document.addEventListener("cut",s),()=>{document.removeEventListener("copy",s),document.removeEventListener("cut",s)}},[g,s]);let D=B.default.useMemo(()=>({...r}),[f,r]);return(0,X.jsxs)(Ve.Provider,{value:m,children:[t,g&&(0,X.jsx)(Zn,{children:(0,X.jsx)(Tn,{anchor:e.current,alignSelf:"center",attachTo:o,offset:D,onClose:m.close,className:to,onKeyDown:b,onKeyUp:h,focusTrapEnabled:!p,showArrow:a,arrow:a?{anchor:e.current}:void 0,fallbackToModalAppearance:l,children:(0,X.jsx)("div",{className:F(no),children:(0,X.jsx)(Me,{stack:m.stack,currentIndex:m.currentStackIndex,onBack:m.goBack,onClose:m.close})})})})]})}function er(){let n=we(),e=n.stores.pluginStore.useState(o=>o.activePlugin?o.activePlugin.modeHandlers.mode!=="canvas":!1),t=n.stores.modalStore.useState(o=>ht(o.active.type));return e||t}function tr(){return!1}var nr=Ce()?tr:er;var j=v(P(),1),so="data-is-popout-button",ao=`[${so}]`;function or({popout:n,navigationTitle:e,navigationClassName:t,id:o,enabled:r=!0,displayDivider:i,onBeforePresent:s=()=>!0,onPresent:l=()=>{},onDismiss:a=()=>{},ref:d,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y=!1,autoFocusInside:m,displayInPopover:g}){let b=ir(o),h=V.default.useRef(null),D=d??h,I=V.default.useContext(wn),k=V.default.useContext(Ve),[oe,je]=V.default.useState(!1),He=vn(),ze=In(),re=_n(),he=Cn(g),ve=ro((0,j.jsx)(bn.Provider,{value:he,children:(0,j.jsx)(kn.Provider,{value:ze,children:(0,j.jsx)(hn.Provider,{value:He,children:(0,j.jsx)(qn,{variantOverrideKeys:re.variantOverrideKeys,variantOverrideTraitTypes:re.variantOverrideTraitTypes,children:n})})})})),ie=ro(e);k?.updatePopout(b,ve,ie,m);let Ue=fe(a),$e=fe(l),se=fe(()=>{if(k){if(!r||!s()){k.close();return}k.present(b,ve,{parent:I,triggerRef:D,displayDivider:i,title:ie,className:t,onDismiss:Ue,onPresent:$e,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y,autoFocusInside:m})}}),ye=fe(()=>{k?.dismiss(b)});return V.default.useEffect(()=>{if(!r||!k)return;let ae=()=>{Y.isTest||je(k.isPresenting(b))};return k.addListener(ae),k.registerPopout(b,se),()=>{k.removeListener(ae),k.deregisterPopout(b)}},[b,r,k]),{present:se,dismiss:ye,isPresenting:oe,ref:D}}function ro(n){let e=V.default.useRef(n);return Q(n,e.current)||(e.current=n),e.current}function Bi({popoverNavigationRef:n,displayInPopover:e,popoverAttachmentEdge:t,fallbackToModalAppearance:o,popoverOffset:r,showArrow:i,onPopoverKeydown:s,onPopoverCopy:l,...a}){let d=V.default.useRef(null),c=(0,j.jsx)(rr,{displayInPopover:e,...a,ref:d});return e?(0,j.jsx)(oo,{navigationRef:n,anchorRef:d,attachTo:t,onKeydown:s,onCopy:l,offset:r,fallbackToModalAppearance:o,showArrow:i,children:c}):c}var rr=V.default.forwardRef(function({id:e,large:t,popout:o,displayDivider:r,navigationTitle:i,navigationClassName:s,className:l,onKeyDown:a,onClick:d,tabIndex:c=0,enabled:p=!0,useFrescoButton:f=!1,withoutStyles:y=!1,frescoButtonProps:m={},onBeforePresent:g,onPresent:b,onDismiss:h,educationTooltipId:D,educationText:I,onClickEducation:k,autoFocusInside:oe,togglePopoutEnabled:je=!1,displayInPopover:He,...ze},re){let{present:he,dismiss:ve,isPresenting:ie}=or({popout:o,id:e,displayDivider:r,navigationTitle:i,navigationClassName:s,enabled:p,onBeforePresent:g,onPresent:b,onDismiss:h,ref:re,educationTooltipId:D,educationText:I,onClickEducation:k,autoFocusInside:oe,displayInPopover:He}),Ue=Ke=>{switch(Ke.key){case"Enter":case" ":he(),Ke.preventDefault();break;case"Escape":Ke.currentTarget.blur(),ve();break}},$e=mn(c),se=p===!1,ye={role:"button",ref:re,tabIndex:se?void 0:$e,"aria-selected":ie?"true":"false",className:F(l,!f&&!y&&F(Xn,se&&Yn,t&&Qn)),onKeyDown:io(Ue,a),[so]:!0,...ze},ae=je&&ie?d:io(he,d);return f?(0,j.jsx)(gn,{enabled:p,...m,...ye,onClick:ae}):(0,j.jsx)("div",{id:e,...ye,onClick:ae})});function lo(n){return n instanceof HTMLElement?!!n.closest(ao):!1}function ji(n){return n.querySelector(ao)}function Hi(n){return document.getElementById(n)}function ir(n){let e=V.default.useRef(n);return n&&e.current!==n?e.current=n:e.current||(e.current=Kt()),e.current}function io(n,e){return e?t=>{n(t),e(t)}:n}var uo="wrgelve";var U=v(O(),1),mo=v(P(),1),fo="resize-zone",qi=U.default.memo(({side:n,minSize:e,defaultSize:t,maxSize:o,getSize:r,setSize:i,onResizeStart:s,onResizeEnd:l})=>{let[a,d]=U.default.useState("ew-resize");U.default.useEffect(()=>{requestAnimationFrame(()=>{let m=typeof o=="function"?o():o,g=co(r(),e,m,n);a!==g&&d(g)})},[]);let c=U.default.useRef(),p=U.default.useCallback(()=>{c.current=r(),s&&s()},[r,s]),f=U.default.useCallback(m=>{if(c.current===void 0)return;let g=n==="left"?-1:1,b=n==="top"?m.offset.y:m.offset.x,h=c.current+b*g;Math.abs(h-t)<10&&(h=t),i(h);let D=typeof o=="function"?o():o,I=co(r(),e,D,n);a!==I&&d(I)},[t,e,o,n,i,r,a,d]),y=U.default.useCallback(()=>{c.current=void 0,l&&l()},[l]);return(0,mo.jsx)(De,{onDragStart:p,onDrag:f,onDragEnd:y,cursor:a,className:fo,style:{cursor:a,position:"absolute",top:ar(n),bottom:0,right:ur(n),left:lr(n),width:n==="top"?void 0:6,height:n==="top"?6:void 0,zIndex:27,transform:"translate3d(0, 0, 0)",opacity:.5}})});function ar(n){switch(n){case"top":return-3;default:return 0}}function lr(n){switch(n){case"left":return-3;case"top":return 0}}function ur(n){switch(n){case"right":return-3;case"top":return 0}}function po(n){return n instanceof HTMLDivElement&&n.classList.contains(fo)}function co(n,e,t,o){if(o==="top")switch(n){case e:return"s-resize";case t:return"n-resize";default:return"ns-resize"}switch(n){case e:return o==="right"?"e-resize":"w-resize";case t:return o==="right"?"w-resize":"e-resize";default:return"ew-resize"}}var me=v(P(),1),go="data-is-popover-window",rs=`[${go}="true"]`,vt=class{constructor(){u(this,"navigation");u(this,"floatingWindowRef",H.default.createRef());u(this,"initialWindowTopOffset","0px");u(this,"initialWindowLeftOffset","100%");u(this,"positionWindowNearElement",e=>{if(!(e instanceof HTMLElement))return;let t=this.floatingWindowRef.current,o=e.getBoundingClientRect(),r=o.top-9;t?t.setPosition({x:o.left,y:r},{snapToEdges:!1}):(this.initialWindowTopOffset=`${r}px`,this.initialWindowLeftOffset=o.left<window.innerWidth-o.right?"0%":"100%")});u(this,"persistCurrentTopOffset",()=>{let e=this.floatingWindowRef.current;e&&(e.hasPersistedTopOffset()||e.persistCurrentTopOffset())});u(this,"isOpen",()=>this.navigation.isOpen());u(this,"close",()=>{this.navigation.close()});u(this,"_rerender");u(this,"rerender",()=>this._rerender?.());u(this,"navigationBarWrapper",e=>(0,me.jsx)(Kn,{children:e}));u(this,"Component",H.default.memo(({zIndex:e,visible:t,onPointerDownCapture:o})=>{let r=z(),i=Wn();(0,H.useEffect)(()=>(this._rerender=i,()=>{this._rerender=void 0}),[i]);let s=this.navigation.isOpen();H.default.useEffect(()=>{if(!s)return;let c=!1,p=()=>{c=!0},f=y=>{c&&this.closeIfClickedOutside(y)};return document.addEventListener("mousedown",p,{capture:!0}),document.addEventListener("click",f),()=>{document.removeEventListener("mousedown",p,{capture:!0}),document.removeEventListener("click",f)}},[s]);let l=(0,H.useCallback)(c=>{q(r)&&r.stores.mouseStore.setModifiers(c.nativeEvent),!c.defaultPrevented&&c.key==="Escape"&&(this.navigation.goBack(!0),c.stopPropagation())},[]),a=(0,H.useCallback)(c=>{q(r)&&r.stores.mouseStore.setModifiers(c.nativeEvent)},[]);return!s||!this.navigation.stack[this.navigation.currentStackIndex]?null:(0,me.jsx)(pe,{ref:this.floatingWindowRef,zIndex:e,visible:t,onPointerDownCapture:o,initialTopOffset:this.initialWindowTopOffset,initialLeftOffset:this.initialWindowLeftOffset,children:(0,me.jsx)("div",{className:F(uo,this.navigation.stack[this.navigation.currentStackIndex]?.className),onKeyDown:l,onKeyUp:a,onMouseUp:c=>{q(r)&&r.stores.canvasMouseTarget.handleMouseUp(c)},tabIndex:0,[go]:!0,children:(0,me.jsx)(Me,{stack:this.navigation.stack,currentIndex:this.navigation.currentStackIndex,onBack:this.navigation.goBack,onClose:this.navigation.close,renderNavigationBarWrapper:this.navigationBarWrapper})})})}));u(this,"closeIfClickedOutside",({target:e})=>{po(e)||lo(e)||dr(e)&&this.navigation.close()});this.navigation=new ee({triggerRender:this.rerender,willOpen:this.positionWindowNearElement,willPush:this.persistCurrentTopOffset,willPop:this.persistCurrentTopOffset})}};function dr(n){return n instanceof HTMLElement?!!n.closest("[data-is-right-panel]")||!!n.closest("[data-is-analytics]"):!1}var is=new vt;var $=v(O(),1);var ho=Symbol("uninitialized");function cs(n,e,t,o={}){let r=z(),{deepEqual:i=!1}=o,s=Array.isArray(t)?t:[t],l=(0,$.useCallback)(p=>{let f=[...s,p],y=r.scheduler.changes.observe(...f);return()=>r.scheduler.changes.removeObserver(y)},s),a=(0,$.useCallback)(n,e),d=(0,$.useRef)(ho),c=(0,$.useCallback)(()=>{let p=d.current,f;return p===ho?(f=a(),d.current=f,f):(f=a(),(i?Q(p,f):Nt(p,f))?p:(d.current=f,f))},[i,a]);return(0,$.useSyncExternalStore)(l,c)}var vs=Ct({canvas:()=>{let n=cr();return Fe(n),Oe(n)},onPageCanvas:()=>{let n=fr();return Fe(n),Oe(n)},patch:()=>{let n=pr();return Fe(n),Oe(n)}});function cr(){let n=Y.isDebugBuild?"canvas-sandbox.debug.html":"canvas-sandbox.html",e=Ne(`./${n}`),t=JSON.stringify(ke());return e+`#services=${encodeURIComponent(t)}`}function fr(){let n=Y.isDebugBuild?"canvas-sandbox-on-page.debug.html":"canvas-sandbox-on-page.html",e=Ne(`./${n}`),t=JSON.stringify(ke());return e+`#services=${encodeURIComponent(t)}`}function pr(){let n=Y.isDebugBuild?"patch-sandbox.debug.html":"patch-sandbox.html",e=Ne(`./${n}`),t=JSON.stringify(ke());return e+`#services=${encodeURIComponent(t)}`}var mr=3,S=Tt("PartialTreeSender"),vo=bt();function yo(){return new Promise((n,e)=>{if(typeof MessageChannel<"u"){let t=new MessageChannel;t.port1.onmessage=()=>n(),t.port1.onmessageerror=()=>e(),t.port2.postMessage(null)}else setTimeout(n,0)})}var xo=class{constructor(e,t,o){this.timeline=e;u(this,"name");u(this,"currentScopeId","");u(this,"timelineCursor");u(this,"scopeBufferMap",new Map);u(this,"chunkQueue",[]);u(this,"chunkIndex",0);u(this,"chunkingConfig");u(this,"drainingPromise");this.name=t+"-"+String(Math.round(Math.random()*1e3)),this.chunkingConfig={maxNodesPerChunk:o?.maxNodesPerChunk??1e3}}shouldUseChunking(e,t){if(this.timelineCursor)return!1;let o=e.chunkingHints;if(!o||o.size===0)return!1;let r=Be();t&&r.add(t);for(let i of r)if(o.has(i))return S.debug(this.name,`chunking required - large page hint: ${i}`),!0;return!1}serializeTreeChunks(e,t){let o=[],r=crypto.randomUUID(),i=new Map,s=new Map,l=0,a=Be();t&&a.add(t);let d=()=>{i.size>0&&(o.push({name:this.name,timestamp:Date.now(),treeChunks:{chunkId:r,chunkIndex:o.length,totalChunks:-1,nodes:i,childrenMap:s,rootId:o.length===0?e.root.id:void 0}}),i=new Map,s=new Map)},c=h=>{let D=Se.valueFromNode(h);i.set(h.id,D);let I=h.children?h.children.map(k=>k.id):[];if(s.set(h.id,I),l++,D.children&&(D.children=vo),i.size>=this.chunkingConfig.maxNodesPerChunk&&d(),h.children)for(let k of h.children)c(k)},p=e.root,f,y={};for(f in p)ot[f]||(y[f]=p[f]);let m=e.getNodes(a),g={...y,__class:"RootNode",id:e.root.id,children:vo};i.set(e.root.id,g),s.set(e.root.id,m.map(h=>h.id)),l++,i.size>=this.chunkingConfig.maxNodesPerChunk&&d();for(let h of m)c(h);d();let b=o.length;for(let h of o)h.treeChunks.totalChunks=b;return S.debug(this.name,`directly chunked tree into ${o.length} chunks with ${l} total nodes`),o}getNextChunk(){if(this.chunkQueue.length===0)return;let e=this.chunkQueue[this.chunkIndex];return this.chunkIndex++,this.chunkIndex>=this.chunkQueue.length&&(this.chunkQueue=[],this.chunkIndex=0),e}hasMoreChunks(){return C(this.chunkIndex>=0,"Chunk index should not be negative"),C(this.chunkIndex<=this.chunkQueue.length,"Chunk index should not exceed queue length"),this.chunkIndex<this.chunkQueue.length}async*drainChunks(e){if(!this.hasMoreChunks())return;let t=this.drainingPromise;this.drainingPromise=new Rt,t&&(S.debug(this.name,"drainChunks already in progress, waiting for it to finish"),await t),S.debug(this.name,"drainChunks started");let o=0,r=performance.now();try{for(;this.hasMoreChunks();){if(e?.aborted){S.debug(this.name,"drainChunks aborted, clearing chunk queue"),this.chunkQueue=[],this.chunkIndex=0;return}let i=this.getNextChunk();i&&(o++,S.debug(this.name,`sending chunk ${i.treeChunks.chunkIndex+1} of ${i.treeChunks.totalChunks}`),yield i),await yo()}}finally{await yo(),this.timelineCursor=this.timeline.getChangeTrackingCursor();let i=performance.now()-r,s=i>1e3?`${(i/1e3).toFixed(2)}s`:`${Math.round(i)}ms`;S.debug(this.name,`completed sending ${o} chunks in ${s}`),S.debug(this.name,"drainChunks completed"),this.drainingPromise?.resolve(),this.drainingPromise=void 0}}resetScopeBuffer(e){this.scopeBufferMap.clear(),this.currentScopeId=e??"",e&&(this.timelineCursor=void 0,this.scopeBufferMap.set(e,performance.now()))}updateScopeBuffer(e){if(this.currentScopeId===e)return[void 0,void 0];if(e===at)return[void 0,void 0];if(this.currentScopeId=e,this.scopeBufferMap.has(this.currentScopeId))return this.scopeBufferMap.set(this.currentScopeId,performance.now()),[void 0,void 0];let t;if(this.scopeBufferMap.size>=mr){let o=Be(),r=1/0,i;for(let[s,l]of this.scopeBufferMap)o.has(s)||r>l&&(r=l,i=s);i&&(this.scopeBufferMap.delete(i),t=i)}return this.scopeBufferMap.set(this.currentScopeId,performance.now()),[t,e]}reset(e){let t=this.timeline.tree;if(this.resetScopeBuffer(e),this.shouldUseChunking(t,e))return this.chunkQueue=this.serializeTreeChunks(t,e),this.chunkIndex=0,S.debug(this.name,"initiated direct chunked transfer for tree"),null;let o=Co(t,e);return this.chunkQueue=[],this.chunkIndex=0,o}update(e){if(!e)return{};if(this.hasMoreChunks())return{};let t=this.timeline.tree,o=this.timeline.fetchForwardChanges(this.timelineCursor);if(!o){if(this.timeline.invalidatedByLoadCompletedDocument(this.timelineCursor))return S.debug(this.name,"cursor invalidated, sending empty update for load completed document"),this.timelineCursor=this.timeline.getChangeTrackingCursor(),{};if(this.resetScopeBuffer(e),this.shouldUseChunking(t,e)){this.chunkQueue=this.serializeTreeChunks(t,e),this.chunkIndex=0;let a=this.getNextChunk();if(a)return S.debug(this.name,`starting direct chunked resend with ${this.chunkQueue.length} chunks`),a}let l=Co(t,e);return S.debug(this.name,"cursor invalidated, sending tree with scope:",e),this.timelineCursor=this.timeline.getChangeTrackingCursor(),{name:this.name,tree:l,timestamp:Date.now()}}let[r,i]=this.updateScopeBuffer(e);r&&(S.debug(this.name,"deleting scope by diff:",r),bo(r,o)),o.length===0&&(o=void 0);let s;if(i&&(S.debug(this.name,"adding scope by subtree:",i),s=this.getScopeSubTree(t,i)),o){let l=this.getAffectedScopeIDsAfterCrossScopeMove(t,o);for(let a of l){if(a!==this.currentScopeId){this.scopeBufferMap.has(a)&&(S.debug(this.name,"deleting scope due to cross-scope move:",a),bo(a,o),this.scopeBufferMap.delete(a));continue}s||(S.debug(this.name,"resending tree with scope due to cross-scope move:",a),s=this.getScopeSubTree(t,a))}}return{changes:o,scopes:s?[s]:void 0,timestamp:Date.now()}}getScopeSubTree(e,t){let o=e.get(t);return Qt(o)&&C(o.isLoaded(),"Scope must be loaded"),gr(o)}getAffectedScopeIDsAfterCrossScopeMove(e,t){let o=new Set;for(let r of t){if(!r.previousScope||!r.to.parentid)continue;let i=e.get(r.id),s=e.getScopeNodeFor(i);s&&o.add(s.id)}return o}};function bo(n,e){e.push({id:n,removed:"CanvasNode",to:{}})}function gr(n){if(n)return Se.valueFromNode(n)}function Be(){return new Set([rn,nn,ln,tn,on,at])}function Co(n,e){let t=Be();e&&t.add(e);let o=n.getNodes(t).map(l=>Se.valueFromNode(l)),r=n.root,i,s={};for(i in r)ot[i]||(s[i]=r[i]);return{version:_t,root:{...s,__class:"RootNode",id:n.root.id,children:o}}}function Os(n){return(n.cache.ancestorRepeaterIds?.length??0)>0}function Fs(n,e){let{ancestorRepeaterIds:t}=e.cache;if(!t)return!1;for(let o of t){let r=n.get(o);if(et(r))return!0}return!1}function As(n,e){let{repeatedAncestorRepeaterIds:t}=e.cache;if(!t)return!1;for(let o of t){let r=n.get(o);if(et(r))return!0}return!1}var To=v(O(),1);function Vs(n,e){let t=z();return(0,To.useCallback)(t.scheduler.wrapHandler(n),e)}var js=n=>n.stopPropagation();var hr=/<([a-z1-9]+)/gi;function Gs(n){let e=new Set;return vr(n,e),e}function vr(n,e){let t=n.matchAll(hr);for(let[,o]of t)o&&e.add(o);return e}var yt=class{constructor(e){this.callbacks=e;u(this,"experimentListeners",new Map);u(this,"employeesOnlySettingsListeners",new Map);u(this,"projectFeaturesListeners",new Map)}startUpdatesStream(){Object.keys(Ye).forEach(e=>{let t=o=>{this.callbacks.updateExperiments({[e]:o})};Re.addListener(e,t),this.experimentListeners.set(e,t)}),Object.keys(Xe).forEach(e=>{let t=o=>{this.callbacks.updateEmployeesOnlySettings({[e]:o})};Ae.addListener(e,t),this.employeesOnlySettingsListeners.set(e,t)})}getInitialExperiments(){let e={};return Object.keys(Ye).forEach(t=>{e[t]=Re.get(t)}),e}getInitialEmployeesOnlySettings(){let e={};return Object.keys(Xe).forEach(t=>{e[t]=Ae.get(t)}),e}initProjectFeatures(){ce.updated.then(()=>{let e={};Object.keys(ft).forEach(t=>{e[t]=ce.get(t)}),this.callbacks.updateProjectFeatures(e),this.projectFeaturesListeners.size===0&&Object.keys(ft).forEach(t=>{let o=r=>{this.callbacks.updateProjectFeatures({[t]:r})};ce.addListener(t,o),this.projectFeaturesListeners.set(t,o)})}).catch(Te)}stopUpdatesStream(){for(let[e,t]of this.experimentListeners)Re.removeListener(e,t);for(let[e,t]of this.employeesOnlySettingsListeners)Ae.removeListener(e,t);for(let[e,t]of this.projectFeaturesListeners)ce.removeListener(e,t);this.experimentListeners.clear(),this.employeesOnlySettingsListeners.clear(),this.projectFeaturesListeners.clear()}},ko=class{constructor(e){this.remoteFlags=e;let t=new yt(this.remoteFlags);t.startUpdatesStream(),this.remoteFlags.updateExperiments(t.getInitialExperiments()),this.remoteFlags.updateEmployeesOnlySettings(t.getInitialEmployeesOnlySettings())}};var ne=v(O(),1);function yr(n,e){let t=new Map,o=n.variables.filter(r=>r.type==="slug");for(let r of o){let i=new Set;t.set(r.id,i);for(let s of n.getUnsortedChildren()){if(s.id===e.id)continue;let l=s.getControlProp(r.id);l&&x(l.value)&&i.add(l.value)}}return t}function ia(n,e){let t=(0,ne.useRef)(null),o=(0,ne.useMemo)(()=>{if(!n||!e)return new Map;let r=yr(n,e),i=t.current;if(!i)return r;let s=new Map;for(let[l,a]of r){s.set(l,a);let d=i.get(l);d&&wt(d,a)&&s.set(l,d)}return s},[n,e]);return(0,ne.useEffect)(()=>{t.current=o},[o]),o}function Io(n,e,t){if(Z(n)&&n.fallbackValue!=="associatedVariable")return;let o=e.find(i=>i.id===n.associatedStringVariable&&Z(i));if(!o)return;let r=t.getControlProp(o.id);if(r&&x(r.value))return r.value;if(x(o.initialValue))return o.initialValue}function Po(n,e,t){let o=xr(e);return!t||!o?t:t.type==="collectionreference"&&x(t.value)&&!Ro(n,o,t.value)?{...t,value:void 0}:t.type==="multicollectionreference"&&Array.isArray(t.value)?{...t,value:t.value.filter(r=>Ro(n,o,r))}:t}function xr(n){if(n.type!=="collectionreference"&&n.type!=="multicollectionreference")return null;let e=It(n.dataIdentifier);return e?.kind!=="localModuleExport"?null:e.value}function Ro(n,e,t){let o=n.getNodeWithTrait(t,Mt),r=o&&n.getNodeParent(o);return ue(r)&&r.instanceIdentifier===e}function br(n,e,t,o,r,i,s){if(r==="associatedVariable"&&n==="string"){if(t&&x(t.value))return i&&!t.value&&!o?{type:"required"}:wo(t,e);if(i&&!o)return{type:"required"};if(!o||!rt(e))return;let{maxLength:d}=e;return T(d)&&o.length>d?{type:"max-length",message:Le(o.length,d)}:void 0}if(n==="slug"){let d;if(t&&Qe(t.value)?d=de(t.value):o&&(d=de(o)),!d)return{type:"required"};if(C(s,"takenSlugs is required for slug fields"),s.has(d))return{type:"slug-taken",message:On}}let l=Cr(t,e,i);if(l)return l;let a=Tr(t,e,i);return a||wo(t,e)}function Da(n,e){if(n)return n.type==="required"?En(e.title):n.message}function Cr(n,e,t){if(!t)return;let{type:o}=e;switch(o){case"link":return n?(C(n.type==="link"),!n.value||n.value.type==="url"&&n.value.url===""?{type:"required"}:void 0):{type:"required"};case"richtext":return n?(C(n.type==="richtext"),C(!J(n.value),"Dynamic values are not supported within the CMS."),Nn(n.value)?{type:"required"}:void 0):{type:"required"};case"image":case"responsiveimage":return n?(C(n.type==="image"),n.value===""?{type:"required"}:void 0):!jt(e)||!e.__defaultAssetReference?{type:"required"}:void 0;case"string":return n?(C(e.type==="string"),!Qe(n.value)?{type:"required"}:void 0):e.defaultValue?void 0:{type:"required"};case"collectionreference":{let r=zt(e,n);return _(r)?{type:"required"}:void 0}case"multicollectionreference":{let r=Ut(e,n);return J(r)?void 0:_(r)||r.length===0?{type:"required"}:void 0}case"file":case"date":return n?.type===o&&!!n.value?void 0:{type:"required"};case"array":{if(!n)return{type:"required"};C(n.type==="array");let r=Ht(e,n);return C(!J(r),"Dynamic values are not supported within the CMS."),dt(r).length===0?{type:"required"}:void 0}default:return}}function wo(n,e){if(!rt(e))return;let{maxLength:t}=e;if(T(t))switch(e.type){case"string":{C(!n||n.type==="string");let o=e.defaultValue??"",r=n?.value&&x(n.value)?n.value:o;return r.length>t?{type:"max-length",message:Le(r.length,t)}:void 0}case"richtext":{if(!n||!x(n.value))return;let o=sn(n.value);return o.length>t?{type:"max-length",message:Le(o.length,t)}:void 0}default:be(e)}}function Tr(n,e,t){if(!Bt(e)||Pt(n?.value)&&!At(n?.value)||Et(n?.value))return;let o=dt(n?.value);if(T(e.minCount)&&o.length<e.minCount)return!t&&o.length===0?void 0:{type:"min-count",message:Dn(e)};if(T(e.maxCount)&&o.length>e.maxCount)return{type:"max-count",message:Mn(e)}}function kr(n,e,t,o,r,i){let s=Po(n,r,e.getControlProp(t.id)),l,a;return(Z(t)||Pe(t))&&(l=Io(t,o,e)),Z(t)&&(a=t.fallbackValue),!!br(t.type,r,s,l,a,Vt(t),i.get(t.id))}function Ir(n){return n.variables.filter(e=>e.type!=="divider")}function Ma(n,e,t,o,r){let i=t.getPropertyControls(n,e);return Ir(t).filter(l=>{let a=i[l.id];return a?kr(n,o,l,t.variables,a,r):!1})}function Ba(n,e,t){for(let o of n.variables){if(o.type==="divider"||!Pe(o))continue;let r=t.get(o.id);C(r,"existingSlugValueForVariable is required for slug fields");let i=e.getControlProp(o.id);if((!i||!x(i.value)||!i.value.length)&&o.associatedStringVariable){let l=e.getControlProp(o.associatedStringVariable);if(l&&x(l.value)){let a=de(l.value);if(a.length&&!r.has(a))return e.setControlProp(o.id,{type:"string",value:a}),!0}}}return!1}function qa({collectionId:n,engine:e,saveAction:t,source:o}){let r=e.tree.getNodeWithTrait(n,ue);C(r,"Collection needs to exist to allow creation of new item");let{contentManagementStore:i,treeStore:s,selectionStore:l}=e.stores,a=e.tree.getNodeWithTrait(l.ids[0],ue);a&&a.id!==r.id&&C(t,"saveAction is required when creating a nested temporary item"),i.createTemporaryCollectionItem({collectionId:r.id,saveAction:t});let d=Fn({treeStore:s,contentManagementStore:i,stackElement:i.getActiveTemporaryCollectionStackElement()});C(d),Rr(r,d),An(e)&&d.set({isDraft:!0}),an("collection_record_create",{source:o})}function Rr(n,e){let t=new Date;for(let o of n.variables)o.type==="date"&&e.setControlProp(o.id,{type:"date",value:Pr(t,o.options?.displayTime)})}function Pr(n,e){return e?new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),0,0)).toJSON():new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())).toJSON()}function ll(){return{fillEnabled:E,fillType:E,fillColor:E,fillImage:E,fillImagePositionX:E,fillImagePositionY:E,fillImageTileSize:E,fillImageAlts:E,fillGradientCSS:E,gradientFillSupported:!0,fillImageResize:new Set,fillImages:new Set,anyNodesWithFill:!1,anyNodesWithImageFill:!1,anyNodeWithNonOptionalFill:!1,onlyNodesSupportingImageFill:!0,onlyNodesSupportingFillImageAlts:!0}}function wr(n){return T(n)?n:1}function ul(n,e,t){if(qt(e)&&!(un(e)&&!e.colorable)){if(t.anyNodesWithFill=!0,Sr(e)||(t.onlyNodesSupportingImageFill=!1),t.onlyNodesSupportingFillImageAlts&&!st(n,e)&&(t.onlyNodesSupportingFillImageAlts=!1),e.fillType==="image"&&(t.fillImageResize.add(e.fillImageResize??"fill"),x(e.fillImage)&&t.fillImages.add(e.fillImage),(x(e.fillImage)||J(e.fillImage))&&(t.anyNodesWithImageFill=!0),W("fillImage",t,e),W("fillImagePositionX",t,e),W("fillImagePositionY",t,e),W("fillImageTileSize",t,e,wr),st(n,e)&&Yt(e)&&(t.fillImageAlts=Nr(e.fillImageAlts,t.fillImageAlts))),Gt(e)){let o;if(Xt(e.fillType))switch(e.fillType){case"linear-gradient":{o=xt(e.fillLinearGradient);break}case"radial-gradient":{o=xt(e.fillRadialGradient);break}case"conic-gradient":{o=xt(e.fillConicGradient);break}default:be(e.fillType)}o&&(tt(t.fillGradientCSS)?t.fillGradientCSS=o:t.fillGradientCSS!==o&&(t.fillGradientCSS=K)),it(e)&&!e.fillEnabled||W("fillType",t,e)}else t.gradientFillSupported=!1;it(e)?W("fillEnabled",t,e):t.anyNodeWithNonOptionalFill=!0,W("fillColor",t,e)}}function xt(n){if(n)return new Jt({stops:n.stops}).toCSS(90)}function Sr(n){return!(Ft(n)||Zt(n)||Ot(n)||Lt(n)||Wt(n)&&n.fillType!=="image")}function Nr(n,e){if(kt(e))return e;let t=n??[];if(tt(e))return t.map(r=>({id:r.id,image:r.image,alt:r.alt}));let o=e??[];return t.length!==o.length?K:(o.forEach((r,i)=>{let s=t[i];s&&(r.image!==s.image&&(r.image=K),r.alt!==s.alt&&(r.alt=K))}),o)}function So(n){return _(n)?"":n}function vl(){return{altAttribute:E,onlyNodesWithAltAttribute:!0}}function yl(n,e){if(!en(n)){e.onlyNodesWithAltAttribute=!1;return}W("altAttribute",e,n,So)}function wl(n,e,t){if(e.length===0)return;if(e.length>1){t.trackingIdAIPrompt=K;return}let o=e[0];if(o){if(nt(t.link)){let r=No(n,{link:t.link,linkText:Eo(o)});t.trackingIdAIPrompt=r||E}if(t?.controlPropsWithIdentifier?.controlProps){let r=t.controlPropsWithIdentifier.controlProps,i,s;for(let l in r){let a=r[l];if(a)switch(a.type){case"string":case"richtext":x(a.value)&&(s=a.value);break;case"link":nt(a.value)&&(i=a.value);break}}for(let l in r){let a=r[l];if(!a||a.type!=="trackingid")continue;let d=No(n,{link:i,linkText:s});a.trackingIdAIPrompt=d||E}}}}function No(n,{link:e,linkText:t,textContent:o}){let r=e?$t(n,e):void 0;if(!t&&!o&&!r)return;let i='Generate a short (up to 30 characters) tracking id as a verb in kebab-case (e.g. "click-subscribe or click-login") where the text is leading over the link';return r&&(i+=` to "${r}"`),t&&(i+=` with the text "${t.replace(/"/gu,"'")}"`),o&&(i+=` that is a part of the following text "${o.replace(/"/gu,"'")}"`),i}function Eo(n){return Dt(n)?n.getTextContent():n.children?n.children.map(Eo).join(" "):""}var ge=v(O(),1);var Do="tzsvjdc",Mo="t1ehb6cn";var N=v(P(),1),Dr=ge.default.createContext(void 0);function Al({delay:n,direction:e,interactive:t=!0,icon:o,className:r,initialVisibility:i,...s}){let l=ge.default.useRef(null),a=ge.default.useContext(Dr),{triggerProps:d,tooltipProps:c}=Rn({className:Do,direction:e,interactive:t,offset:5,triggerRef:l,offsetXRef:a,delay:n,initialVisibility:i});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(fn,{...d,className:r,ref:l,children:o}),(0,N.jsx)(Mr,{...s,...c})]})}function Mr(n){return ge.default.useEffect(()=>{if(n.image){let e=new Image;e.src=n.image,e.alt=n.title,e.decode?.().catch(Te)}},[n.image,n.title]),(0,N.jsx)(Pn,{...n,tint:n.tint??dn.panelBackground,children:(0,N.jsxs)(pn,{gap:Ee.css.panelPadding,direction:"column",children:[n.image&&(0,N.jsx)("div",{children:(0,N.jsx)("img",{src:n.image,alt:n.title,width:"100%",style:{borderRadius:5,marginBottom:5,aspectRatio:"1.75"},decoding:"async"})}),n.title&&(0,N.jsx)(ut,{className:Mo,style:{fontWeight:cn.weight.heading},children:(0,N.jsx)(lt,{children:n.title})}),(0,N.jsx)("div",{children:(0,N.jsx)(ut,{children:(0,N.jsx)(lt,{children:n.text})})}),n.actions]})})}var Oo=v(O(),1);function Fo(n,e){if(n.type==="object"&&e.type==="object"&&le(n.value)&&le(e.value)){let t=Ao(n.value,e.value);return Ze(t,e.value)?e:{...n,value:t}}if(n.type==="array"&&e.type==="array"&&Je(n.value)&&Je(e.value)){let t=e.value,o=n.value.map((r,i)=>{let s=t[i];return s?Fo(r,s):r});return St(o,e.value)?e:{...n,value:o}}return Q(n,e)?e:n}function Ao(n,e){let t={};for(let o in n){let r=n[o];C(r);let i=e[o];if(!i){t[o]=r;continue}t[o]=Fo(r,i)}return Ze(t,e)?e:t}function zl(n){let e=(0,Oo.useRef)(null),t=e.current;if(!t)return e.current=n,n;let o=Ao(n,t);return e.current=o,o}export{vs as a,yt as b,ko as c,xo as d,Fr as e,pe as f,Kn as g,Jr as h,qn as i,Xn as j,Ve as k,si as l,Zn as m,ee as n,Zo as o,so as p,or as q,Bi as r,ji as s,Hi as t,qi as u,rs as v,is as w,ll as x,ul as y,Os as z,Fs as A,As as B,vl as C,yl as D,Ao as E,zl as F,wl as G,No as H,yr as I,ia as J,Io as K,Po as L,br as M,Da as N,Cr as O,wo as P,Tr as Q,kr as R,Ir as S,Ma as T,Ba as U,cs as V,qa as W,Rr as X,Vs as Y,Dr as Z,Al as _,Mr as $,js as aa,Gs as ba,vr as ca};
//# sourceMappingURL=https://app.framerstatic.com/chunk-DMEJ4CJ4.mjs.map
