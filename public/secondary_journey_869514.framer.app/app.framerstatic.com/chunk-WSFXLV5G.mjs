import{A as me,Va as fe,Wa as ge,c as le,o as ce}from"https://app.framerstatic.com/chunk-CUY33Z2F.mjs";import{Y as pe,ba as ue,ea as de}from"https://app.framerstatic.com/chunk-GDYBBJ2K.mjs";import{w as se}from"https://app.framerstatic.com/chunk-DMEJ4CJ4.mjs";import{a as T}from"https://app.framerstatic.com/chunk-MAOAHTTI.mjs";import{a as N}from"https://app.framerstatic.com/chunk-YTUKC2MA.mjs";import{Qd as ae}from"https://app.framerstatic.com/chunk-4AXEU7ER.mjs";import{M as ie}from"https://app.framerstatic.com/chunk-5HXGPRCU.mjs";import{ca as re,da as te,ed as ne}from"https://app.framerstatic.com/chunk-E3BFIQ3T.mjs";import{F as K,ff as M,we as ee,ye as oe}from"https://app.framerstatic.com/chunk-XTLBFCBM.mjs";import{b as _}from"https://app.framerstatic.com/chunk-6YI2XN42.mjs";import{l as w}from"https://app.framerstatic.com/chunk-YEZP3BBL.mjs";import{Ck as Z,dc as $,ec as P,gb as q,kd as J,pk as c,rk as Q,sb as y,sk as X,tb as L,uk as Y}from"https://app.framerstatic.com/chunk-NBRM3IAP.mjs";import{b as C,j}from"https://app.framerstatic.com/chunk-CMAEAGWD.mjs";import{a as U,b as O}from"https://app.framerstatic.com/chunk-M6MHZBU3.mjs";import{ea as G,fa as x}from"https://app.framerstatic.com/chunk-5V7XAOIL.mjs";import{e as k}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var be=k(U(),1),Me={type:"add",variant:"info",icon:"color-wheel",action:{title:"Install",onClick:ie},text:"To sample colors, please use the new desktop app",key:"install-desktop-app",duration:5e3};function Ne({channel:n,toast:o}){(0,be.useEffect)(()=>{if(!n)return;let r={async sampleColor(){return window.EyeDropper?{color:(await new window.EyeDropper().open().catch(d=>{if(d?.name==="AbortError")return{sRGBHex:void 0};throw d})).sRGBHex}:(o(Me),{})}};return N.on(n).register(r)},[n,o])}var h=k(U(),1);var l=k(O(),1),v="link",Pe=["*"];function I(n){return`computed-link-${n}`}var Do=h.default.memo(function({control:o,controlKey:r,controlProp:m,onChange:f,onContextMenu:d,sortable:p,traitTypeKeys:g,onDelete:V,supportsVariables:b=!1,supportsComputedValues:R=!1,supportsFetchDataValues:S=!1,nodeIds:F}){let i=_(),E=(0,h.useMemo)(()=>F??[],[F]),he=(0,h.useMemo)(()=>me(r||Z()),[r]),{value:a}=m,e=P(a)||c(a)?a:G,u=t=>{f(r,s=>({...s,value:t}),E),le(e,t)},D=t=>{let{defaultValue:s}=o;return C(s)?s:t},ke=()=>{let t=D();j(t)&&u(t)},Ce=()=>{u(void 0)},ye=i.scheduler.wrapHandler(t=>{let s=o.title||y(r),Le=C(e)?e:D("");i.beginUndoGroup();let A=ae({engine:i,scopeId:t,type:v,name:s,initialValue:Le});A&&u(A),i.endUndoGroup()}),B=i.scheduler.wrapHandler(()=>{P(e)&&u(void 0)}),we=i.scheduler.wrapHandler(()=>{let t=q({type:"link",value:c(a)?a:void 0}),s=$("link",t,[]);return z(s),s}),z=i.scheduler.wrapHandler(t=>{u(t),se.navigation.presentPopout(I(r))}),ve=p?void 0:o.title||y(r),H=D(),W=!L(e)&&!c(e),Ve=fe(i,e),De=Ie(i,e),xe=C(H)&&c(a)&&!Y(a,X({url:H}));return(0,l.jsx)(pe,{title:ve,onContextMenu:d,onResetToDefault:ke,resetToDefaultEnabled:xe,variableType:T[v],allowedFileTypes:Pe,variableCreationType:v,onCreateVariable:ye,onRemoveDynamicValue:B,dynamicValue:P(a)?a:null,onSelectVariable:u,traitTypeKeys:g,withReorderControl:p,reorderColumnCount:2,onDelete:V,supportsVariables:b,supportsComputedValues:R,computedValuePopoutId:I(r),onSelectComputedValue:z,supportsFetchDataValues:S,onSelectFetchDataValue:we,children:P(e)?(0,l.jsx)(ce,{title:o.title||y(r),value:e,outputControl:o,expectedType:T[v],allowedFileTypes:Pe,popoutId:I(r),onRemove:B,onChangeDynamicValue:u,nodeIds:E,supportsComputedValues:R,supportsFetchDataValues:S,controlReferenceInfo:void 0}):(0,l.jsx)(de,{id:he,sortable:p,popout:(0,l.jsx)(ge,{link:x(e)?void 0:e,onChange:u,supportsVariables:b,supportsPageLinks:Te(i),supportsSlugVariables:b}),navigationTitle:"Link",displayDivider:!0,title:x(e)?"Add\u2026":Ve,preview:(0,l.jsx)(ue,{background:W?w.swatchBackgroundPlaceholderForLink:w.swatchBackgroundForLink,children:De??(0,l.jsx)(ne,{})}),onDelete:c(e)?Ce:void 0,titleColor:W?w.inputLabel:void 0})})});function Te(n){if(!K(n))return!0;let{scopeType:o}=n.stores.scopeStore;switch(o){case"CanvasPage":case"DesignPage":return!1;default:return!0}}function Ie(n,o){if(!Q(o))return;let{webPageId:r,pathVariables:m}=o;if(!m)return;let f=n.tree.getNodeWithTrait(r,J);if(!f)return;let d=n.componentLoader.dataForIdentifier(f.dataIdentifier);if(!d)return;let p=d.annotations?.framerSlug;if(!p)return;let g=m[p];if(!L(g))return;let V=M(ee,p);if(g.id===V)return(0,l.jsx)(te,{});let b=M(oe,p);if(g.id===b)return(0,l.jsx)(re,{})}export{Ne as a,Do as b};
//# sourceMappingURL=https://app.framerstatic.com/chunk-WSFXLV5G.mjs.map
