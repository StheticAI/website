import{g as cP,i as dP,k as hP}from"https://app.framerstatic.com/chunk-XKNQWOOA.mjs";import{$ as sV,$a as ak,$b as Ok,A as OP,Aa as FV,Ab as Oh,Ac as Ep,B as WP,Ba as AV,Bb as Wh,Bc as Mp,C as zP,Ca as EV,Cb as uk,Cc as Op,D as BP,Da as MV,Db as mk,Dc as Wp,E as $P,Ea as OV,Eb as fk,Ec as jk,F as GP,Fa as WV,Fb as hk,Fc as Uk,G as HP,Ga as zV,Gb as gk,Gc as Jk,H as _P,Ha as BV,Hb as yk,Hc as Xk,I as ia,Ia as $V,Ib as Ck,Ic as Zk,J as jP,Ja as GV,Jb as Sk,Jc as Qk,K as yh,Ka as HV,Kb as vk,Kc as $l,L as Ch,La as _V,Lb as Tk,Lc as Kk,M as UP,Ma as jV,Mb as bk,Mc as Ii,N as JP,Na as UV,Nb as Ik,O as XP,Oa as JV,Ob as Nk,P as ZP,Pa as XV,Pb as xk,Q as QP,Qa as ZV,Qb as Pk,R as KP,Ra as QV,Rb as Vk,S as qP,Sa as KV,Sb as kk,T as YP,Ta as qV,Tb as Rk,U as eV,Ua as YV,Ub as wk,V as tV,Va as ek,Vb as Lk,W as oV,Wa as tk,Wb as Dk,X as rV,Xa as ok,Xb as Fk,Y as nV,Ya as rk,Yb as Ak,Z as iV,Za as nk,Zb as Ek,_ as aV,_a as ik,_b as Mk,aa as lV,ab as sk,ac as Wk,ba as cV,bb as lk,bc as zk,ca as dV,cb as ck,cc as sa,da as pV,db as aa,dc as Cn,ea as uV,eb as dk,ec as la,f as kP,fa as mV,fb as pk,fc as Rr,g as ee,ga as fV,gb as Sh,gc as Bk,h as hh,ha as hV,hb as Np,hc as $k,i as RP,ia as gV,ib as vh,ic as Gk,j as bi,ja as yV,jb as Th,jc as Hk,k as gh,ka as CV,kb as bh,kc as ys,l as Ol,la as SV,lb as Ih,lc as Wl,m as je,ma as vV,mb as xp,mc as Cs,n as wP,na as TV,nb as Nh,nc as Pp,o as bp,oa as bV,ob as xh,oc as zl,p as Ip,pa as IV,pb as Ph,pc as ca,q as LP,qa as NV,qb as Vh,qc as Bl,r as DP,ra as xV,rb as kh,rc as Vp,s as FP,sa as PV,sb as Rh,sc as kp,ta as VV,tb as wh,tc as Rp,u as AP,ua as kV,ub as Lh,uc as wp,va as RV,vb as Dh,vc as Lp,w as EP,wa as wV,wb as Fh,wc as Dp,xb as Ah,xc as _k,y as MP,ya as LV,yb as Eh,yc as Fp,za as DV,zb as Mh,zc as Ap}from"https://app.framerstatic.com/chunk-HSGPT2DJ.mjs";import{h as uP}from"https://app.framerstatic.com/chunk-3QRSBZ5D.mjs";import{d as fP}from"https://app.framerstatic.com/chunk-IXOQ7SRR.mjs";import{b as fs,c as pP}from"https://app.framerstatic.com/chunk-4OLTEPHX.mjs";import{j as gP}from"https://app.framerstatic.com/chunk-YQRXJAMD.mjs";import{L as lP,e as sP,g as ph}from"https://app.framerstatic.com/chunk-VQLYEPJG.mjs";import{a as hs,c as SP,e as fh,f as bP,h as zp}from"https://app.framerstatic.com/chunk-PD3LTKS4.mjs";import{a as yP,b as uh,c as CP,f as mh,h as vP,k as TP,l as Sp,m as gs,n as vp,o as Tp,p as PP,q as VP,r as qk}from"https://app.framerstatic.com/chunk-SWGLHV6B.mjs";import{$c as UN,$d as ps,$e as fp,$g as Jx,Aa as Tb,Ac as WN,Ad as pp,Ag as Bx,Ah as Ml,Bc as zN,Bh as ch,Ca as bb,Dc as BN,Dd as qN,Ec as $N,Fc as GN,Fd as YN,Fe as mp,Fg as $x,Ga as Ib,Gc as oh,Gd as ex,Ge as fx,H as rb,Ha as xb,Hb as IN,Hc as HN,I as nb,Id as tx,J as ib,Jb as NN,Jh as dh,Lb as xN,Lc as En,Ld as ox,Lf as us,M as Df,Ma as Pb,Mc as Mn,Md as rx,Mf as Px,Na as vl,Nb as PN,Nd as nx,Nf as Vx,O as lb,Ob as Ll,Od as vi,Oe as hx,Of as Wn,P as Md,Pa as Tl,Pb as VN,Pd as On,Pe as gx,Pf as kx,Pg as Gx,Q as Wd,Qa as $d,Qb as kN,Qe as yx,Qf as Rx,Qg as Hx,R as mb,Re as rh,Rg as _x,S as fb,Sb as RN,Tb as wN,Tf as wx,Ug as ah,V as zd,Vd as ds,Vf as nh,W as Af,Wf as Lx,Xc as _N,Xd as ix,Xg as jx,Yd as ax,Zd as sx,Zf as Dx,Zg as na,_c as jN,_d as lx,_g as Ux,a as gl,ac as Dl,ad as cp,ah as Xx,bb as Vb,bc as LN,bd as Al,bg as ra,cc as Fl,cf as Cx,db as Rl,de as El,df as Sx,dh as Zx,ed as JN,ef as vx,eh as Qx,fe as Mo,fh as Kx,gc as DN,gg as ih,gh as qx,hb as yN,hh as Yx,ib as CN,ic as sp,if as Tx,ig as Fx,ii as yp,jg as Ax,jh as eP,ji as rP,kc as Eo,ke as cx,kg as Ex,kh as tP,lb as Yf,lc as lp,le as up,lg as Mx,m as ob,mb as eh,mf as bx,mg as Ox,mh as sh,n as Pf,nb as SN,nf as Ix,ng as ms,nh as gp,o as Vf,ob as vN,og as Wx,p as qi,pb as TN,pe as dx,q as kf,qe as px,r as Rf,ri as nP,s as Cl,sa as gb,sb as ap,sd as XN,se as ux,si as iP,t as wf,ta as yb,tb as wl,tc as FN,td as ZN,te as mx,tf as Nx,tg as zx,ti as Cp,u as Lf,ua as Bd,uc as AN,uf as xx,ug as hp,v as Sl,va as Cb,vc as EN,vd as QN,vi as aP,w as Ya,wc as MN,xc as ON,xd as KN,xf as oa,yb as bN,yc as th,yf as Qr,yh as lh,za as vb,zd as dp,zh as oP}from"https://app.framerstatic.com/chunk-5POO65PD.mjs";import{a as yO,f as It}from"https://app.framerstatic.com/chunk-2AYHTJDO.mjs";import{d as Tf,f as qf,g as An}from"https://app.framerstatic.com/chunk-75ILXMIH.mjs";import{k as Ti}from"https://app.framerstatic.com/chunk-3DWSPAXD.mjs";import{$ as bd,$d as Dd,$e as YT,$g as fr,$i as Ud,$n as mN,Ab as CT,Ad as Sf,Bc as xT,Bd as MT,Bj as Il,Cb as un,Cd as OT,Ce as XT,Cj as Hb,Ck as Qb,Cl as dI,Cn as ip,Dd as WT,Dm as Uf,Ec as Kt,Ed as _r,Ee as ZT,F as gf,Fb as Id,Fd as zT,Ff as Ki,Fk as Kb,Fm as NI,Fn as dN,Gf as wn,Gh as Gd,Gk as qb,H as Za,Hb as ul,He as QT,Hj as Zd,Hm as xI,Ib as ml,Ih as kb,Ii as rs,Ij as yi,Jb as Nd,Jd as ct,Je as KT,Jf as ko,Ji as Db,Jj as _b,Jl as pI,Jn as kl,Kb as st,Kg as vo,Kj as jb,Km as Jf,Lb as ST,Lc as Vd,Lf as Nf,Lk as Yb,Ll as uI,Lm as PI,Mb as vT,Mc as yf,Me as Ao,Mf as xf,Mm as VI,Ne as Nr,Nj as Ub,Nk as xl,Nl as hI,Nm as Xf,Nn as pN,Oc as PT,Od as vf,Of as mt,Ok as _f,Om as kI,Pc as VT,Pd as fi,Pf as es,Pg as Ur,Pj as Jb,Pk as eI,Pm as RI,Pn as uN,Qb as xd,Qc as kT,Qh as Rb,Qj as Xb,Rc as RT,Rd as Ld,Re as qT,Rk as jf,Rl as Zr,Rm as wI,Sc as wT,Sd as qa,Sf as ts,Sh as Hd,Sm as LI,Tc as Rd,Td as Rn,Tf as lo,Tk as Pl,Tm as AI,Uf as jr,Ui as $f,Ul as gI,Um as EI,Vc as Qa,Vf as ab,Vl as tp,Wb as fl,We as so,Wf as hi,Wk as Jr,Wl as Ci,Xd as BT,Xf as Ad,Xi as ns,Xj as Qd,Xk as as,Xl as op,Xm as MI,Yd as $T,Yf as Ed,Yi as _d,Yl as yI,Zf as sb,Zi as jd,Zj as Yi,Zl as ss,Zm as OI,_c as mn,_d as yl,_e as Fd,_f as os,_i as Fb,_j as hn,_m as WI,ad as ET,ae as bf,af as eb,ai as wb,al as tI,am as CI,an as zI,ao as fN,b as Ve,bf as If,bg as xr,bn as BI,c as OS,ci as Of,cl as oI,cn as $I,d as cT,dn as GI,do as hN,e as dT,ei as Wf,ek as Gf,em as SI,en as HI,fg as Pr,fn as _I,gc as Yo,gd as mi,gj as Ab,gn as jI,go as ta,h as pT,hg as St,hh as hb,hj as Eb,hl as rI,hn as UI,ho as gN,i as Sd,ic as hl,ig as Od,ih as Sb,ij as Lt,in as JI,jc as bT,je as GT,jn as XI,jo as cs,k as uT,kc as IT,ke as HT,kj as zb,kl as fe,kn as ZI,ld as fn,le as _T,lj as Bb,ll as oo,ln as QI,mc as Zi,mk as To,nd as Qi,ne as jT,ng as Ff,nk as Nl,nm as vI,nn as KI,oh as Ef,oj as $b,ol as iI,om as rp,on as qI,pc as ze,pj as Ln,pm as Vl,pn as YI,qf as tb,ql as Dn,rh as Mf,rm as TI,si as bl,sk as Hf,sl as aI,sn as lN,tl as Fn,tn as cN,uc as er,ug as cb,uj as Xd,ul as cI,um as np,vd as Cf,vj as Gb,vm as bI,wc as Pd,we as UT,wg as db,wk as Kd,wn as Zf,xc as NT,xe as JT,xg as pb,xh as Nb,xi as zf,xj as gi,xl as tr,xm as II,xn as Qf,y as mT,yg as ub,yh as Xe,yi as Bf,yj as co,yk as Zb,yn as Kf,zb as pi,zi as Lb}from"https://app.framerstatic.com/chunk-RD5RW7AD.mjs";import{b as fT}from"https://app.framerstatic.com/chunk-75XYEZPL.mjs";import{a as mP}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{b as kd}from"https://app.framerstatic.com/chunk-GZI43NW3.mjs";import{a as IP,b as NP,c as xP,f as zh}from"https://app.framerstatic.com/chunk-LZDNIQ2U.mjs";import{$ as Oa,$b as Zt,$i as rv,$j as lv,$o as Hv,$p as rT,A as go,Aa as iS,Ad as Zc,Ak as li,Am as wt,Bb as hS,Bg as So,Bi as ev,Bj as tl,Bk as fv,Bl as af,Bm as _a,Bq as hf,C as _m,Cb as gS,Ce as WS,Cg as Ks,Ch as Ym,Cj as Ir,Ck as ao,Co as Ji,Cs as Xr,D as we,Dh as KS,Dj as Po,Dk as il,Dn as hd,Ds as kr,Eb as yS,Ek as Gt,Es as mI,Fg as JS,Fj as Ce,Fs as ep,Gd as Qc,Go as Vn,Gp as Zv,Gs as fI,Hd as RS,Hj as Ha,Hn as ja,Hr as Mb,Hs as DI,Ii as tv,Ij as tf,Il as mr,Ir as Ob,J as KC,Ji as Zo,Jk as hv,Jn as gd,Jr as Jd,Js as FI,K as de,Kb as CS,Kk as gv,Kl as vv,Kn as wv,Kr as Wb,Ks as eN,L as jm,Ld as Kc,Lg as XS,Ln as Vo,Mc as rn,Mg as rd,Mh as ad,Mi as Hi,Mk as yv,Ne as zS,Nh as sd,Nj as si,Nm as ud,Nr as is,O as Um,Oj as of,Ok as dd,Ol as Tv,Om as jt,On as qo,Os as ea,Pc as Uc,Pd as qc,Pg as ZS,Pi as ge,Pm as md,Pn as df,Pp as Qv,Qc as Jo,Qd as wS,Qh as qs,Qi as I,Qm as Nv,Qr as nI,Rc as oi,Rd as Yc,Ri as No,Rk as Cv,Rm as Ui,Rr as Vr,Rs as tN,Sc as Xm,Sd as $a,Si as Y,Sk as Pn,Sm as xv,Sr as qd,Tb as SS,Tc as NS,Td as ed,Tg as Gi,Ti as el,Tn as Lv,Tq as Ut,Uc as Ot,Ud as io,Ui as bt,Uj as av,Ul as al,Um as cf,Va as zi,Vd as Ga,Vg as Gr,Vi as p,Vj as rf,Vp as Kv,Vq as vd,Vr as gn,Vs as oN,W as Io,Wc as _t,Wd as LS,Wi as it,Wn as Ua,Wp as qv,Wq as Xi,Ws as Si,Xc as Qe,Xd as Fo,Xk as ji,Xp as Yv,Xq as hT,Yc as xS,Yd as ni,Yg as nd,Yi as ut,Yj as ol,Yn as Dv,Yp as eT,Yq as kn,Ys as yn,Zc as PS,Zd as td,Zi as ov,Zj as sv,Zn as Fv,Zp as tT,Zq as gT,_b as vS,_c as Js,_d as DS,_i as ye,_l as sf,_p as oT,_q as pn,ac as TS,ad as Do,ae as nn,ak as cd,ap as _v,at as ls,bb as lS,bc as tn,bd as Fe,be as ur,bj as re,bk as cv,bo as Av,bp as yd,cc as bS,cd as Br,ce as In,cf as BS,cj as $t,cp as di,ct as rN,d as ei,db as cS,dd as VS,de as FS,dj as _i,do as pf,dt as nN,eb as Hc,ec as B,ed as Jc,ee as an,el as Sv,em as ci,en as cl,eo as Ev,ep as Xa,eq as nT,et as iN,fa as ti,fd as br,fe as Nn,fk as rl,ft as aN,g as _C,gd as Xc,gj as nv,gt as sN,hb as dS,hd as Et,he as sn,hm as sl,hn as Pv,ho as Wv,hp as jv,hr as yT,i as jC,ic as za,id as ue,ie as AS,ip as Cd,jc as xt,jd as Be,jf as Qm,jn as Vv,jq as iT,k as $m,ka as YC,kb as pS,kd as Qt,ke as od,kn as fd,l as UC,ld as z,le as ES,lf as $S,lj as ln,lo as zv,lr as Td,md as kS,me as MS,mf as GS,mk as dv,mm as ll,mn as Hr,mo as Ja,n as De,nb as Bi,nd as Ct,ng as Qs,ni as Xo,nk as pv,nm as bv,no as dl,od as Ye,of as HS,ol as pd,on as dn,oo as Bv,op as mf,or as TT,pd as Xs,pf as _S,pi as qS,pk as uv,po as pl,pr as wd,qa as eS,qb as en,qd as Zs,qh as id,qq as aT,qr as LT,rb as uS,rc as IS,rd as Pe,rf as jS,rh as ai,rj as iv,rk as Ko,rr as DT,s as Us,sb as bn,sc as _c,sd as J,se as ii,si as YS,sk as cn,sm as Iv,sq as sT,t as Gm,tb as q,tc as pr,td as Ba,te as $i,th as qm,ti as Ys,tj as Ee,tk as mv,tq as lT,tr as Ka,ua as tS,ub as Ht,ud as et,uj as xo,un as kv,ur as lt,va as oS,vb as mS,vc as jc,vd as ri,vg as Km,vi as ef,vk as nl,vp as Uv,vr as FT,vs as Yd,wa as rS,wc as Co,wd as Rt,wf as US,wj as ld,wo as $v,wp as Jv,wq as ff,wr as AT,x as JC,xa as nS,xb as fS,xc as no,xd as $r,xe as Ae,xj as Qo,xk as xn,xl as nf,xn as Rv,xo as Gv,xp as Xv,xr as ui,xs as lI,yc as to,yd as $e,yh as QS,ym as lf,zc as on,zd as Zm}from"https://app.framerstatic.com/chunk-HLNLVHBF.mjs";import{S as QC,U as qC,ca as uf,d as XC,e as $c,g as Gc,ga as Mv,h as Hm,ha as Ov,i as ZC}from"https://app.framerstatic.com/chunk-3CHH3HAB.mjs";import{a as sI}from"https://app.framerstatic.com/chunk-REJ2XCEK.mjs";import{a as Yt,b as ho}from"https://app.framerstatic.com/chunk-BUC334RG.mjs";import{a as Wa,p as at}from"https://app.framerstatic.com/chunk-4XEPQHVZ.mjs";import{b as jo}from"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{a as zr,b as A,e as te,f as Ue,g as Ze,h as aS,i as sS,j as F,k as Uo,m as We,n as eo,o as Jm,p as yo}from"https://app.framerstatic.com/chunk-CMAEAGWD.mjs";import{a as gO}from"https://app.framerstatic.com/chunk-M6MHZBU3.mjs";import{g as Yr}from"https://app.framerstatic.com/chunk-JLNGOKO7.mjs";import{B as BC,Ga as nt,Ka as Wr,Na as HC,T as vr,W as Bt,aa as Je,f as Bm,fa as js,ga as $C,ia as Tr,j as Yn,ja as fo,ka as rt,ma as zc,oa as dr,qa as Wi,ra as he,sa as GC,ta as Bc}from"https://app.framerstatic.com/chunk-5V7XAOIL.mjs";import{a as S,b as G}from"https://app.framerstatic.com/chunk-YOOGIIWU.mjs";import{a as Wc}from"https://app.framerstatic.com/chunk-HMF7T2NG.mjs";import{d as zm,e as Oc,j as D,k as E,l as ce,m as le,n as U}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var eR=Oc(yO(),1);var tR=Oc(gO(),1);var LU=tR.default.createContext("not-defined");var Yk={store_internal:2,store_browse:2,store_use_installed:2},Bh={},Bp=new eR.FramerTracking({sourceName:"framer-x",trackingURL:Wc().events+"/track",verbose:window.localStorage&&window.localStorage.getItem("debug-metrics")==="active",addContext:e=>{let t;for(t in Bh)F(e[t])&&(e[t]=Bh[t])}}),CO;(r=>(r.init=function(n){let{appVersion:i,projectId:a}=n;Object.assign(Bh,{appVersion:i,projectId:a}),Bp.setUserId(n.userId)},r.push=function(n){let{name:i,type:a,...s}=n;n.type==="store_internal"?(delete s.action,Bp.track({type:"track",event:i,version:2,...s})):Bp.track({type:"track",event:a,version:Yk[a],name:i,...s})},r.pushEvent=function(n){let{event:i,...a}=n;Bp.track({...a,type:"track",event:i,version:Yk[i]})}))(CO||={});var SO=new Set(pS({allItemsLabelLocalized:!0,booleanTrueLabelLocalized:!0,booleanFalseLabelLocalized:!0,fillImageLocalized:!0,formInputPlaceholderLocalized:!0,htmlLocalized:!0,altAttributeLocalized:!0,titleLocalized:!0,descriptionLocalized:!0,linkLocalized:!0}));function $h(e){return SO.has(e)}function $p(e){return e.map(t=>Ue(t)?Gp(t):Ze(t)?$p(t):t)}function vO(e){return e.endsWith("Localized")}function Gp(e){let t={};for(let o in e){if(vO(o))continue;let r=e[o];Ue(r)?t[o]=Gp(r):Ze(r)?t[o]=$p(r):t[o]=r}return t}function WU(e){let t={},o;for(o in e){if($h(o))continue;if(!lf(o)){t[o]=e[o];continue}let r=e[o];Ue(r)?t[o]=Gp(r):Ze(r)?t[o]=$p(r):t[o]=r}return t}function oR(e){let t={};for(let o in e){if($h(o))continue;if(!lf(o)){t[o]=e[o];continue}let r=e[o];Ue(r)?t[o]=Gp(r):Ze(r)?t[o]=$p(r):t[o]=r}return t}var TO={track:!0};function rR(e){let t={...e,event:"canvas_page_add"};jo(t,TO)}var bO={track:!0};function nR(e){let t={...e,event:"component_canvas_create"};jo(t,bO)}var IO={track:!0};function iR(e){let t={...e,event:"component_canvas_enter"};jo(t,IO)}var NO={track:!0};function aR(e){let t={...e,event:"component_canvas_variant_create"};jo(t,NO)}var xO={track:!0};function Gh(e){let t={...e,event:"component_design_instance"};jo(t,xO)}var PO={track:!0};function sR(e){let t={...e,event:"property_layout_update"};jo(t,PO)}var VO={track:!0};function lR(e){let t={...e,event:"variable_reference_create"};jo(t,VO)}function cR(e,t){return zr(t)?t:Ve(e)?e.constraintsLocked:!1}function CJ(e,t,o,r){let n=e.tree,i={x:Math.round(o.x-r.width/2),y:Math.round(o.y-r.height/2)},a=n.getNode(t);if(!t||!a)return{left:i.x,top:i.y};let s=OT(e.tree,t),l=s?e.tree.getViewportRect(s):null,c=n.getRect(a),d=n.convertPointToNode(a,i),u={x:d.x,y:d.y,width:r.width,height:r.height},m=u.width/u.height,h=Of(u,{sizing:c,positioning:c,viewport:l,layout:rn(a)},null,{aspectRatio:m,shouldGuessPinToBottom:oa(n,null,a),shouldGuessPinToRight:Qr(n,null,a)});return h.aspectRatio=m,h}var Hh=(e,t,o,r)=>{let n=t.getGroundNodes().map(i=>e.getRect(i));return r!==void 0&&n.push(...r),n.find(i=>de.intersects(o,i))===void 0},kO=(e,t,o,r,n)=>{let i=t.getGroundNodes().map(l=>e.getRect(l));r!==void 0&&i.push(...r);let s=i.sort((l,c)=>de.maxX(l)>de.maxX(c)?-1:1)[0];return s!==void 0?Uh(s,o,n):null},RO=(e,t,o,r,n)=>{let i=t.getGroundNodes().map(c=>e.getRect(c));r!==void 0&&i.push(...r);let l=i.filter(c=>c.width===o.width&&c.height===o.height||c.height===o.width&&c.width===o.height).sort((c,d)=>de.maxX(c)>de.maxX(d)?-1:1)[0];return l!==void 0?Uh(l,o,n):null},wO=(e,t,o)=>t.map(r=>e.getNode(r)).filter(r=>rd.equals(r.rect(null),o));function jh({tree:e,activeScope:t,node:o,size:r,filledRects:n,offsetDistance:i}){let a={...e.getRect(o),...r},s=t.getGroundNodes().map(d=>d.rect());n&&s.push(...n);let l=a,c=0;for(;l;){if(F(i.x)||(a.x=_h("x",l,i.x)),F(i.y)||(a.y=_h("y",l,i.y)),l=s.find(d=>de.intersects(d,a)),c>s.length)return a;c++}return a}var pR=(e,t,o,r,n={x:100,y:void 0},i)=>jh({tree:e,activeScope:t,node:o,size:r,filledRects:i,offsetDistance:n}),Gl=(e,t,o,r,n=100,i)=>jh({tree:e,activeScope:t,node:o,size:r,filledRects:i,offsetDistance:{x:n}}),SJ=(e,t,o,r,n=100,i)=>jh({tree:e,activeScope:t,node:o,size:r,filledRects:i,offsetDistance:{y:n}});function _h(e,t,o){return(e==="x"?de.maxX:de.maxY)(t)+o}function Uh(e,t,o=100){return{...e,x:_h("x",e,o),...t}}var LO=(e,t,o,r,n,i,a)=>{if(i){let c=e.getNode(i);if(c)return Gl(e,t,c,o,a,n)}if(r){let c=wO(e,r,o);if(c.length){let u=c.map(h=>Uh(h.rect(),o,a)).find(h=>Hh(e,t,h,n));if(u)return u;let m=c[0];return S(m,"Equal frame must be defined"),Gl(e,t,m,o,a,n)}}let s=RO(e,t,o,n,a);if(s!==null&&Hh(e,t,s,n))return s;let l=kO(e,t,o,n,a);return l!==null&&Hh(e,t,l,n)?l:{...o,x:0,y:0}},vJ=(e,t,o,r,n)=>{let i=e.getRect(o),a=e.getParent(o.id),s;$e(o)&&(s=Math.min(i.width,100));let l=LO(e,t,i,r,n,o.id,s);return n.push(l),Of(l,null,Ka(o)?ui(o):null,{shouldGuessPinToBottom:!0,shouldGuessPinToRight:Qr(e,o,a)})},TJ=(e,t,o,r)=>{if(o.length>0){let n=o[o.length-1],i=e.getGroundFrameAncestor(n,!0);if(i)return i.id}for(let n of e.sortVisually(e.getNodesAtPoint(t,r)).reverse())if(n instanceof En&&e.getParent(n.id)===ao){if(Qe(n))continue;return n.id}return ao},bJ=(e,t,o)=>{let n=e.tree.newId(),i={top:t.y,left:t.x,width:t.width,height:t.height,overflow:"clip",isScreen:!0};return i.framePreset=o,e.createFrame(ao,{id:n,...i}),n},IJ=(e,t)=>{let o=e.tree,r=o.newId(),n={top:t.y,left:t.x,width:t.width,height:t.height,overflow:"clip",isScreen:!0};return e.createFrame(ao,{id:r,...n}),e.stores.scopeStore.active.getGroundNodes(a=>{let s=o.getRect(a);return a.id!==r&&de.containsRect(t,s)}).forEach(a=>{let s=o.getParent(a.id),l=o.getRect(a),c=de.offset(l,we.reverse(t));e.moveNode(a.id,r),e.tree.current(a)?.set(a.updateForRect({rect:c,parentSizeInfo:{sizing:t,positioning:t,viewport:null,layout:rn(s)},constraintsLocked:cR(a),shouldGuessPinToBottom:!0,shouldGuessPinToRight:Qr(e.tree,a,s)}))}),r},dR=["#9ef","#4cf","#3af","#38f","#26f"],NJ=(()=>{let e=-1,t=dR.length;return()=>(e++,dR[e%t])})();function RJ(e,t){if(!e||e.changes.length===0)return!1;for(let o of e.changes){let r=t.get(o.id);if(!RS(r)&&!Qc(r)&&!(!r&&o.added==="RedirectRouteNode"))return!1}return!0}function uR(e,t){if(!e||e.changes.length===0)return!1;for(let o of e.changes){let r=t.get(o.id);return!r||!qo(r)?!1:"variables"in o.from}return!0}function mR(e,t){if(!e||e.changes.length===0)return!1;for(let o of e.changes){let r=t.get(o.id);if(!Do(r))return!1;let n="locales";return!!(n in o.from||o.from._deleted?.includes(n))}return!0}var fR=class extends gn{constructor(){super(...arguments);D(this,"active",0)}};var DO=Je("EngineChanges");var hR=class{constructor(){D(this,"changes",new Set);D(this,"addChanges",(...t)=>{for(let o of t)this.changes.add(o)});D(this,"changeObserverFlags",[]);D(this,"changeObservers",[]);D(this,"inSignalAllObservers",!1);D(this,"observersToRemove",[])}get flags(){return this.changes}has(...t){for(let o of t)if(this.changes.has(o))return!0;return!1}observe(...t){let o=t.pop(),r=t;return Yr.isDebugBuild&&r.some(n=>n===void 0)&&DO.warn("changes.observe was called with undefined as one of the flags. It might be caused by observing a store that hasn't been instantiated yet."),this.changeObserverFlags.push(r),this.changeObservers.push(o),o}observeWithComponent(t,o,r){this.changeObserverFlags.push(t);let n=()=>{Yr.benchmarkSkipRendering||o.setState(r())};return this.changeObservers.push(n),n}removeObserver(t){if(this.inSignalAllObservers){this.observersToRemove.push(t);return}let o=this.changeObservers.indexOf(t);o!==-1&&(this.changeObserverFlags.splice(o,1),this.changeObservers.splice(o,1))}signalAllObservers(){if(!this.changes)return;let t=this.changes,o=this.changeObserverFlags,r=this.changeObservers;this.inSignalAllObservers=!0;for(let n=0;n<o.length;n++){let i=o[n];for(let a of i)if(t.has(a)){r[n]();break}}if(this.inSignalAllObservers=!1,this.observersToRemove.length>0){for(let n of this.observersToRemove)this.removeObserver(n);this.observersToRemove.length=0}this.changes.clear()}signalObserversFor(...t){let o=new Set(t),r=this.changeObserverFlags,n=this.changeObservers;for(let i=0;i<r.length;i++){let a=r[i];for(let s of a)if(o.has(s)){n[i]();break}}o.forEach(i=>this.changes.delete(i))}};function Xh(e){return e.userIsViewer?ph:Yr.isAutomation||Yr.isTest?sP:e.acl.find(o=>o.user.id===e.userId)?.permissions??ph}var Hl=class{constructor(t){this.aclPermissions=t}get canDesign(){return this.aclPermissions.canDesign==="on"}get canEditContent(){return this.aclPermissions.canEditContent==="on"}get canPublish(){return this.aclPermissions.canPublish==="on"}get canEditSiteSettings(){return this.canDesign&&this.canEditContent&&this.canPublish}get canPublishToStaging(){return this.canDesign||this.canEditContent||this.canPublish}get canInviteCollaborators(){return this.canDesign||this.canEditContent||this.canPublish}get canEditVariables(){return this.canDesign}get canAddCollections(){return this.canDesign}get canEditAnalytics(){return this.canDesign||this.canEditContent}get canEditLocales(){return this.canDesign}get canEditLocalizedValues(){return this.canEditContent}get canSendDiffs(){return this.canDesign||this.canEditContent}},_J=nv({canDesign:"Design",canEditContent:"Content",canPublish:"Deploy",canEditSiteSettings:"Design and Content and Deploy",canPublishToStaging:"Design or Content or Deploy",canInviteCollaborators:"Design or Content or Deploy",canEditVariables:"Design",canAddCollections:"Design",canEditAnalytics:"Design or Content",canEditLocales:"Design",canEditLocalizedValues:"Content",canSendDiffs:"Design or Content"});function jJ(e){let t=Xh(e);return new Hl(t)}var Zh=e=>[e.chromeStore,e.projectStore,e.sessionStore],Hp=([e,t,o])=>({userIsViewer:e.userIsViewer,userIsAccountSharing:e.userIsAccountSharing,acl:t.acl,userId:o.user.id});function UJ(e,t,o,{signal:r}){let n=Zh(e),i=Hp(n),a=t.changes.observe(...n,()=>{let s=Hp(n);en(i,s)||(i=s,o(s))});r.addEventListener("abort",()=>{t.changes.removeObserver(a)},{once:!0})}function QJ(){let e=fT();return S(Qh(e),"Expected OnPageEngine"),e}function Qh(e){return e.name==="OnPageEngine"}var gR=e=>[e.loadingStore,...Zh(e)],Kh=([e,...t])=>({isReady:e.isReady,...Hp(t)});function FO(e,t){if(!e.isReady||e.userIsViewer||e.userIsAccountSharing&&t!=="canInviteCollaborators")return!0;let o=Xh(e);return!new Hl(o)[t]}function _l(e,t){return Za(e)?FO(Kh(gR(e.stores)),t):!Qh(e)}function o1(e,t,o,{signal:r}){let n=gR(e),i=Kh(n),a=t.changes.observe(...n,()=>{let s=Kh(n);en(i,s)||(i=s,o(s))});r.addEventListener("abort",()=>{t.changes.removeObserver(a)},{once:!0})}function Ss(e){return Ks(e)}var a1=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;let o=new Set(e);for(let r of t)if(!o.has(r))return!1;return!0},s1=(e,t,o)=>{let r=[];for(let n of e)qh(t,n,o)!==-1&&r.push(n);return r},yR=(e,t,o)=>{if(!o)return Array.from(new Set([...e,...t]));let r=[...e];for(let n of t)qh(r,n,o)===-1&&r.push(n);return r},l1=(e,t,o)=>e.filter(r=>qh(t,r,o)===-1);function qh(e,t,o){return o?e.findIndex(r=>o(r,t)):e.indexOf(t)}function EO(e,t){let o=[];for(let n of t.segmentSelection){let i=e.getNode(n.id);!i||n.index>=i.pathSegments.length||o.push(n)}let r=t.segmentHandle;if(r){let n=e.getNode(r.id);(!n||r.index>=n.pathSegments.length)&&(r=null)}return{...t,segmentSelection:o,segmentHandle:r}}var CR=class{constructor(t){this.addChanges=t;D(this,"state",{segmentSelection:[],selectionType:0,segmentHandle:null,segmentHovered:null,closestCurve:null,pointRounding:.5,snapConstraint:null})}validateSegmentSelection(t){this.state=EO(t,this.state),this.addChanges("PathSelection")}setSegmentSelection(t,o){this.state={...this.state,segmentSelection:t,selectionType:o},this.addChanges("PathSelection")}toggleSegmentSelection(t,o){this.state.selectionType!==o&&(this.state={...this.state,segmentSelection:t,selectionType:o});let r=t.filter(i=>this.state.segmentSelection.find(a=>i.id===a.id&&i.index===a.index)===void 0),n=this.state.segmentSelection.filter(i=>t.find(a=>a.id===i.id&&a.index===i.index)===void 0);this.state={...this.state,segmentSelection:yR(r,n)},this.addChanges("PathSelection")}setSegmentHandle(t){this.state={...this.state,segmentHandle:t},this.addChanges("PathSelection")}setHoveredSegment(t){this.state={...this.state,segmentHovered:t},this.addChanges("PathSelection")}setClosestCurve(t){this.state={...this.state,closestCurve:t},this.addChanges("PathSelection")}setPathPointRounding(t){this.state={...this.state,pointRounding:t},this.addChanges("PathSelection")}setPathConstraint(t){this.state={...this.state,snapConstraint:t},this.addChanges("PathSelection")}};var jl=Oc(OS(),1);function vR(e,t){return _l(e,"canDesign")||t.length===0?!1:t.find(o=>!(!Ss(o)&&Pr(o)&&!Zc(o)&&!o.originalid))===void 0}function B1(e,t,o,r){let n=t.map(i=>eg(e,i,o,r)[0]);e.stores.selectionStore.set(n)}function eg(e,t,o,r){let n=e.tree,i;lh.isBasicShape(t)?i=lh.createPath(t):i=t.calculatedPaths();let a=lb(t,i),s=da(n,t,i),l=n.newId(),c=vo.boundingBox(a),d=IR(t),u=vI(t);if(d.fillType==="linear-gradient"&&d.fillLinearGradient){d.fillType="linear-gradient";let h=te(t.rotation)?t.rotation:0;d.fillLinearGradient=d.fillLinearGradient.updated({angle:d.fillLinearGradient.angle+h})}if(a.length===1){let h=a[0];S(h!==void 0,"Expected first path after length === 1 check");let C=vo.offset(h,we.reverse(c));e.createPath(t.parentid,{id:l,...C,...c,...d,...u})}else{let h=[],C=new gp({id:l,parentid:t.parentid,pathBoolean:4,...c,...d,...u});h.push(C);for(let T of a){let N=vo.boundingBox(T),P={...N,...we.subtract(N,c)},k=vo.offset(T,we.reverse(N)),W=new Ml({parentid:l,...P,...k,...d});h.push(W)}e.tree.insertNodes(h)}let m=n.getParent(t.id);if(m!==null&&mt(m)){let h=m.children.indexOf(t);e.moveNode(l,m.id,h)}return e.deleteNode(t.id),r||e.stores.selectionStore.set(l),o===!0&&e.setTool(40),[l,s]}function OO(e){let t={};return e.forEach(o=>{let r=t[o.id]??[];r.push(o.index),t[o.id]=r}),t}function $1(e,t){let o=1/t;return{x:Math.round(e.x*o)/o,y:Math.round(e.y*o)/o}}function G1(e,t){let o=e.getNode(t.id);if(!o||!o.pathSegments)return null;let r=o.pathSegments[t.index];if(!r)return null;let n=t.handle===0?So.calculatedHandleIn(r):So.calculatedHandleOut(r);return e.convertPointToCanvas(o,n)}function SR(e,t){return t.handle===0?{x:e.handleOutX,y:e.handleOutY}:{x:e.handleInX,y:e.handleInY}}function H1(e,t,o,r,n){let i=e.getNode(t.id),a=i.pathSegments[t.index];return S(a!==void 0,"Expected segment at handleSelector.index"),o=e.convertPointToNode(i,o),o=we.subtract(o,a),Wr.update(i.pathSegments,t.index,s=>{let l=SR(s,t),c=s.handleMirroring==="straight",d=s.handleMirroring;r&&(l=SR(r,t),c=r.handleMirroring==="straight",d=r.handleMirroring),c&&(d="symmetric"),r&&n&&(d==="disconnected"||d==="asymmetric"?d="symmetric":d="disconnected"),d==="symmetric"&&(l=we.reverse(o));let u=t.handle===0,m=u?o.x:l.x,h=u?o.y:l.y,C=u?l.x:o.x,T=u?l.y:o.y;return s.merge({handleOutX:C,handleOutY:T,handleInX:m,handleInY:h,handleMirroring:d})})}function Ul(e,t,o=!1,r){let n=e.tree,i=(0,jl.Map)(),a=(0,jl.Map)();if(!Pr(t)&&!$e(t))return{descendantPaths:i,descendantBasicShapes:a};let s={};tg(n,t,s);let l=Object.keys(s);for(let u=0,m=l.length;u<m;u++){let h=l[u];S(h!==void 0,"Expected id at index within loop bounds");let C=s[h];S(C!==void 0,"Expected path for id from Object.keys"),i=i.set(h,C)}let c={};og(n,t,c,o);let d=Object.keys(c);for(let u=0,m=d.length;u<m;u++){let h=d[u];S(h!==void 0,"Expected id at index within loop bounds");let C=c[h];S(C!==void 0,"Expected points for id from Object.keys"),a=a.set(h,C)}return a.forEach((u,m)=>{if(u!==null)return;let h=n.getNode(m);if(!h||!vR(e,[h]))return;let[C,T]=eg(e,h,!1,!0),N=T[0];S(N!==void 0,"Expected pathSegment from flattenShape"),i=i.set(C,N),r&&r.includes(m)&&e.stores.selectionStore.toggle(C)}),{descendantPaths:i,descendantBasicShapes:a}}function TR(e,t){let o=e.tree,r=(0,jl.Map)(),n=(0,jl.Map)();if(!$e(t))return{shapeContainerDescendantPaths:r,shapeContainerDescendantBasicShapes:n};let i={};tg(o,t,i,t);let a=Object.keys(i);for(let c=0,d=a.length;c<d;c++){let u=a[c];S(u!==void 0,"Expected id at index within loop bounds");let m=i[u];S(m!==void 0,"Expected path for id from Object.keys"),r=r.set(u,m)}let s={};og(o,t,s,!1,!1,t);let l=Object.keys(s);for(let c=0,d=l.length;c<d;c++){let u=l[c];S(u!==void 0,"Expected id at index within loop bounds");let m=s[u];S(m!==void 0,"Expected points for id from Object.keys"),n=n.set(u,m)}return n.forEach((c,d)=>{if(c!==null)return;let u=o.getNode(d);if(!u||!vR(e,[u]))return;let[m,h]=eg(e,u,!1,!0),C=h[0];S(C!==void 0,"Expected pathSegment from flattenShape");let N=Ni(o,t,[C])[0];S(N!==void 0,"Expected converted path segments at index 0"),r=r.set(m,{pathSegments:N,pathClosed:!0})}),{shapeContainerDescendantPaths:r,shapeContainerDescendantBasicShapes:n}}function tg(e,t,o,r){if(Zc(t)||Zm(t)||$e(t))for(let n of t.children)Pr(n)&&tg(e,n,o,r);else if(Ss(t)){let i=da(e,t,t)[0];S(i!==void 0,"Expected path from convertPathToCanvas");let a=i.pathSegments;if(r){let l=Ni(e,r,[{pathSegments:a,pathClosed:t.pathClosed}])[0];S(l!==void 0,"Expected converted path at index 0"),a=l}o[t.id]={pathSegments:a,pathClosed:t.pathClosed}}}function og(e,t,o,r=!1,n=!1,i){if(Zc(t)||Zm(t)||$e(t))for(let a of t.children){let l=xr(a)&&te(a.rotation)&&a.rotation%90!==0||r;Pr(a)&&og(e,a,o,l,n,i)}else if(!Ss(t)&&Pr(t))if(r||n)o[t.id]=null;else{let a=de.pointsAtOrigin(e.getRect(t));o[t.id]=a.map(s=>{let l=e.convertPointToCanvas(t,s);return i?e.convertPointToNode(i,l,!0):l})}}function da(e,t,o,r=1){let n=[];return Array.isArray(o)?n=o:n=[o],n.map(({pathSegments:i,pathClosed:a})=>({pathSegments:i.map(l=>Yh(e,t,l,r,void 0)),pathClosed:a}))}function Yh(e,t,o,r=1,n){let i=we.multiply(e.convertPointToCanvas(t,o,!0,n),r),a=we.multiply(e.convertPointToCanvas(t,So.calculatedHandleIn(o),!0,n),r),s=we.multiply(e.convertPointToCanvas(t,So.calculatedHandleOut(o),!0,n),r),l=we.subtract(a,i),c=we.subtract(s,i);return o.merge({...i,handleOutX:c.x,handleOutY:c.y,handleInX:l.x,handleInY:l.y})}function Ni(e,t,o){return o.map(({pathSegments:r})=>r.map(n=>{let i=e.convertPointToNode(t,n),a=e.convertPointToNode(t,So.calculatedHandleIn(n)),s=e.convertPointToNode(t,So.calculatedHandleOut(n)),l=we.subtract(a,i),c=we.subtract(s,i);return n.merge({...i,handleOutX:c.x,handleOutY:c.y,handleInX:l.x,handleInY:l.y})}))}function bR(e,t,o,r){return r.map(({pathSegments:n})=>n.map(i=>{let a={x:i.x,y:i.y},s=e.convertPointFromNodeToDescendant(t,o,a),l=e.convertPointFromNodeToDescendant(t,o,So.calculatedHandleIn(i)),c=e.convertPointFromNodeToDescendant(t,o,So.calculatedHandleOut(i)),d=we.subtract(l,s),u=we.subtract(c,s);return i.merge({...s,handleOutX:u.x,handleOutY:u.y,handleInX:d.x,handleInY:d.y})}))}function rg(e,t){return t.map(({pathSegments:o})=>o.map(r=>{let n=St.convertPoint(e,r),i=St.convertPoint(e,So.calculatedHandleIn(r)),a=St.convertPoint(e,So.calculatedHandleOut(r)),s=we.subtract(i,n),l=we.subtract(a,n);return r.merge({...n,handleOutX:l.x,handleOutY:l.y,handleInX:s.x,handleInY:s.y})}))}function WO(e,t,o){let r=t.updateForPath(o);e.tree.current(t)?.set(r)}function _1(e,t,o,r,n){let i=e.getParent(o.id),a=o.updateForPath(r);t.createPath(i?i.id:ao,{...a,id:n,rotation:o.rotation,...IR(o)})}function j1(e,t,o){if(o===0)return t;let r=[],n=OO(t),i=Object.keys(n);for(let a=0,s=i.length;a<s;a++){let l=i[a];S(l!==void 0,"Expected id at index within loop bounds");let c=[],d=e.getNode(l),u=n[l];S(u!==void 0,"Expected selectors for id from grouped object");let m=d.pathSegments.length;for(let h=0,C=u.length;h<C;h++){let T=u[h];S(T!==void 0,"Expected value at index of selectors within loop bounds"),c.push(T);let N=T+1;N===m?c.push(0):c.push(N)}for(let h=0,C=c.length;h<C;h++){let T=c[h];S(T!==void 0,"Expected value in indexes array within loop bounds"),r.push({id:d.id,index:T})}}return r}function U1(e,t,o){for(let r of e)if(r.id===t&&r.index===o)return!0;return!1}function J1(e,t,o,r,n,i){let a=da(e,n,n),l=Ni(e,o,a)[0];S(l!==void 0,"Expected converted path at index 0");let c=l,d=!vo.isLastSegment(o.pathSegments,o.pathClosed,r.index),u=vo.isLastSegment(n.pathSegments,n.pathClosed,i.index);(!d&&u||d&&!u)&&(c=vo.reverse(c));let h;d?h=Wr.unshift(o.pathSegments,...c):h=Wr.push(o.pathSegments,...c),t.deleteNode(n.id),WO(t,o,{pathSegments:h})}function zO(e,t,o){let r=JS(e,t);if(o===0){if(r)return we.subtract(t,e);if(e.handleOutX!==0||e.handleOutY!==0){let i=So.calculatedHandleOut(e);return we.subtract(i,e)}let n=So.calculatedHandleIn(t);return we.subtract(n,e)}else{if(r)return we.subtract(e,t);if(t.handleInX!==0||t.handleInY!==0){let i=So.calculatedHandleIn(t);return we.subtract(i,t)}let n=So.calculatedHandleOut(e);return we.subtract(n,t)}}function X1(e,t){let o=e.getNode(t.id);if(!o)return null;let r=o.pathSegments[t.segmentIndex];if(!r)return null;let n=o.pathSegments[t.segmentIndex+1];if(!n)return null;let i=Yh(e,o,r),a=Yh(e,o,n),l=t.projectedTime<.5?So.point(i):So.point(a),c=zO(i,a,0);return KC(l,we.add(l,c))}var BO=15;function Z1(e,t,o,r){let n=5/r,i=BO/r,a=t.cache.canvasRect;if(a&&(a.x-o.x>n||a.y-o.y>n||o.x-(a.x+a.width)>n||o.y-(a.y+a.height)>n))return null;let s=vo.toBezierJS(t,t),l=e.convertPointToNode(t,o),c=-1,d=1/0,u=0;for(let N=0,P=s.length;N<P;N++){let k=s[N];S(k!==void 0,"Expected bezierCurve at index within loop bounds");let W=k.project(l),M=W.d,H=W.t;M>=d||H===0||H===1||(d=M,c=N,u=H)}if(c===-1)return null;let m=s[c];S(m!==void 0,"Expected curve at shortestIndex");let h=m.get(u),C=m.get(.5),T=we.distance(l,C)<i;return{id:t.id,segmentIndex:c,distance:d,projectedPoint:h,projectedTime:u,midPoint:C,midPointInRange:T}}function IR(e){return{strokeEnabled:e.strokeEnabled,strokeAlignment:e.strokeAlignment,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,lineJoin:e.lineJoin,lineCap:e.lineCap,strokeMiterLimit:e.strokeMiterLimit,strokeDashArray:e.strokeDashArray,strokeDashOffset:e.strokeDashOffset,fillEnabled:e.fillEnabled,fillType:e.fillType,fillColor:e.fillColor,fillLinearGradient:e.fillLinearGradient,fillRadialGradient:e.fillRadialGradient,fillImage:e.fillImage,fillImageResize:e.fillImageResize,fillImageOriginalName:e.fillImageOriginalName,fillImagePixelWidth:e.fillImagePixelWidth,fillImagePixelHeight:e.fillImagePixelHeight,fillImagePositionX:e.fillImagePositionX,fillImagePositionY:e.fillImagePositionY,fillImageTileSize:e.fillImageTileSize,boxShadows:e.boxShadows,opacity:e.opacity}}var ng=Je("ToolStore"),NR=class extends gn{constructor(o,r){super();this.addChanges=o;this.effectsStore=r;D(this,"update",0);D(this,"tooltip");D(this,"shapeToolActive",!1);D(this,"feedbackModeActive",!1);D(this,"handle",null);D(this,"straightLineAnchorIndex",0);D(this,"proseMirrorView",null);D(this,"proseMirrorState",null);D(this,"textLink",null);D(this,"editedTextLink");D(this,"stackInsertionIndicator",null);D(this,"replaceableFloatingPositionNode",null);D(this,"activeTool",4);D(this,"nodeInTextEditorId",ao);D(this,"nodeInPathEditorOffset",null);D(this,"dragAndDropPlaceholders",null);D(this,"codeComponentInProgressInsertionIndicatorNodeIDs",new Set);D(this,"cachedSelectionFrame",new Map)}get tool(){return this.activeTool}postProcess(o){this.update=o}get isDefaultToolActive(){return this.tool===4||this.tool===5}updateDragAndDropPlaceholder(o){if(o){let r=o.cache.placeholders,n=r?{id:o.id,placeholders:r}:null;if(ti(n,this.dragAndDropPlaceholders))return;this.dragAndDropPlaceholders=n}else this.dragAndDropPlaceholders=null}setTool(o){Od.canEditTree(o)&&o!==10&&this.effectsStore.exitPreview(),this.shapeToolActive=GO(o),HO(o)||(this.feedbackModeActive=!1),this.tool===10&&o!==10&&this.addChanges("ExitMove"),this.tool!==o&&this.addChanges("Tool"),this.activeTool=o}getZoomAdjustedSelectionFrames(o,r,n,i=at.isOn("agent")){if(r.length){if(i){let a=xR(o.tree.root.update,o.stores.treeStore.domLayoutUpdate,r,n),s=this.cachedSelectionFrame.get(a);if(s)return ng.debug("using cached selection frames",a,s),s}return this.calculateZoomAdjustedSelectionFrames(o,r,n)}}setCachedSelectionFrames(o,r,n,i,a,s){this.cachedSelectionFrame.size>100&&this.cachedSelectionFrame.clear(),this.cachedSelectionFrame.set(xR(o,r,n,i),{merged:a,frames:s})}calculateZoomAdjustedSelectionFrames(o,r,n){let i=o.tree,a=i.root.update,s=o.stores.treeStore.domLayoutUpdate;ng.debug("calculate selection frames",{update:a,domLayoutUpdate:s,selection:r,zoom:n});let l=[],c=r.reduce((d,u)=>{let m=i.getNode(u);if(!m?.cache.visible)return d;let h;if(XS(m)){let T=m.calculatedPaths(),N=da(i,m,T);h=vo.boundingBox(N,0)}else h=i.convertFrameToCanvas(m);let C=de.roundToOutside(de.multiply(h,n));return l.push(C),d?de.merge(d,C):C},void 0);if(c)return this.setCachedSelectionFrames(a,s,r,n,c,l),ng.debug("calculated selection frames",{merged:c,frames:l}),{merged:c,frames:l}}};function xR(e,t,o,r){return e+":"+t+":"+o.join(",")+":"+r}function $O(e){switch(e){case 36:case 25:case 14:case 26:case 28:case 27:case 29:case 16:case 15:case 24:case 17:case 23:case 18:case 52:case 34:case 35:case 46:case 51:case 32:case 45:case 33:case 30:return!1;case 2:case 0:case 1:case 3:case 47:case 48:case 19:case 21:case 20:case 22:case 5:case 43:case 39:case 49:case 4:case 50:case 13:case 44:case 10:case 37:case 7:case 40:case 42:case 11:case 31:case 12:case 41:case 53:case 6:case 54:case 38:case 8:case 9:return!0;default:G(e)}}function GO(e){switch(e){case 2:case 0:case 1:case 3:case 36:case 47:case 48:case 25:case 14:case 26:case 28:case 27:case 29:case 16:case 15:case 24:case 17:case 23:case 18:case 52:case 5:case 43:case 39:case 49:case 4:case 50:case 46:case 51:case 44:case 10:case 37:case 7:case 42:case 11:case 31:case 32:case 33:case 34:case 35:case 12:case 41:case 53:case 6:case 45:case 30:case 54:case 38:case 8:case 9:return!1;case 19:case 21:case 20:case 22:case 13:case 40:return!0;default:G(e)}}function HO(e){switch(e){case 47:case 48:case 7:case 8:case 9:return!0;case 2:case 0:case 1:case 3:case 4:case 5:case 6:case 10:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 54:case 38:case 50:case 51:return!1;default:G(e)}}function dX(e){switch(e){case 8:case 9:return!0;case 2:case 0:case 1:case 3:case 4:case 5:case 6:case 7:case 10:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 54:case 38:case 50:case 51:return!1;default:G(e)}}function PR(e){switch(e){case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 47:case 48:case 54:case 51:return!0;case 2:case 0:case 1:case 3:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 38:case 50:return!1;default:G(e)}}function pX(e){switch(e){case 7:case 8:case 51:return!0;case 2:case 0:case 1:case 3:case 9:case 10:case 4:case 5:case 6:case 47:case 48:case 54:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 38:case 50:return!1;default:G(e)}}function VR(e){switch(e){case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 54:return!0;case 2:case 0:case 1:case 3:case 47:case 48:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 38:case 50:case 51:return!1;default:G(e)}}function uX(e,t){return e.stores.historyStore.isLoadingDocument?t===51:_l(e,"canDesign")?PR(t):e.stores.chromeStore.isPreviewingFeaturedTemplate?VR(t):!0}function mX(e,t){return t==="VectorSet"?$O(e):!(t==="WebPage"&&e===46)}function fX(e,t){if(_l(e,"canDesign")&&!PR(t))throw Error("Viewer mode: Tool "+t+" is a forbidden action.");if(e.stores.chromeStore.isPreviewingFeaturedTemplate&&!VR(t))throw Error("Previwing template mode: Tool "+t+" is a forbidden action.")}var hX=e=>e===24||e===25||e===26||e===28||e===27||e===29||e===23;function gX(e){return e===12||e===11||e===53||e===37||e===39}var _O={0:!0,1:!0,2:!0,3:!0,4:!0,6:!0,5:!0};function vX(e){return te(e)&&_O[e]===!0}var ig=new Map;function bX(e,t){ig.set(e,t)}function IX(e){ig.delete(e)}function kR(e){ig.get(e)?.()}var jO="__page_input";function UO(e){return`${jO}_${e}`}function _p(e){let t=UO(e);kR(t)}function jp(e){let t={},o=e.getPresetsListNode();if(!o)return t;for(let r of o.children)if(!Ot(r)){if(io(r)){let n=ax(r.tag);t[n]??=r.id;continue}if(Fo(r)){t.stylePresetLink??=r.id;continue}if(ur(r)){t.stylePresetInlineCode??=r.id;continue}if(nn(r)){t.stylePresetImage??=r.id;continue}if(ni(r)){t.stylePresetBlockquote??=r.id;continue}if(td(r)){t.stylePresetTable??=r.id;continue}if($a(r)){let n=fl(r.componentIdentifier);t[n]??=r.id;continue}G(r)}return t}function $X(e,t){let o=jp(e),r={},n=Wa(o);for(let i of n){let a=t[i];e.get(a)||(r[i]=o[i])}Object.keys(r).length>0&&t.set(r)}function GX({tree:e,tag:t,text:o="",textColor:r,attributes:n={}}){let i=document.createElement(t);i.innerText=o;let a=mp(e,t);if(a)pT(i,a.id),r&&hf(i.style,ff.transforms,{textColor:r});else{let s=Ib[t],l=s.fontSize,c;id(l)?c=Gi(l):te(l)&&(c=[l,"px"]);let d={...s,fontSize:c,textColor:r??s.textColor};hf(i.style,ff.transforms,d)}return new fp({html:i.outerHTML,...jp(e),...n})}function Up(e){return ue(e)||z(e)}function RR(e,t,o,r){let n=`${r}/${o.segment}`;e.add(n);for(let i of o.children)RR(e,t,i,n)}function wR(e){let t=new Set,o=e.getRouteSegmentRootNode();for(let r of o.children)RR(t,e,r,"");return t}var LR=":missing-slug";function JO(e,t,o){let r=pn(t,e);if(r)return r.getSlugVariable();let n=o.dataForIdentifier(e);if(!n)return;let i=n.annotations?.framerSlug;if(!i)return;let a=n.properties[i];if(a?.type==="string")return{id:i,name:a.title??"Slug".toLowerCase()}}function ag(e,t,o,r){if(!t)return"/unknown";let n=JO(e,o,r),i=0,a=t.replace(lS,(s,l)=>(i++,n?`:${n.id}`:LR));return i>0?a:(a.endsWith("/")||(a+="/"),n?a+`:${n.id}`:a+LR)}function XO(e){let t=e.split("/"),o=t[t.length-1];return o?Td(o):!1}var sg=(e,t,o,r,n=!1)=>{e=vx(e);let i=wR(t),a=t.root.homePageNodeId,s=!!r&&r.id===a;e==="/"&&!s&&(e="/page"),r?.dataIdentifier&&(e=ag(r.dataIdentifier,e,t,o));let l=e.endsWith("/")&&!s,c=e;l&&(c=e.slice(0,-1));let d=Si(t,r);return i.has(e)&&(n||e!==d)&&(i.add(c),XO(c)&&(c+="/copy"),c=Mo(c,i,{withDash:!0})),{path:l?`${c}/`:c,suggestedName:ms(e)}};function ZO(e){if(e.length>=255)throw new TypeError("Alphabet too long");let t=new Uint8Array(256);for(let c=0;c<t.length;c++)t[c]=255;for(let c=0;c<e.length;c++){let d=e.charAt(c),u=d.charCodeAt(0);if(t[u]!==255)throw new TypeError(d+" is ambiguous");t[u]=c}let o=e.length,r=e.charAt(0),n=Math.log(o)/Math.log(256),i=Math.log(256)/Math.log(o);function a(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,u=0,m=0,h=c.length;for(;m!==h&&c[m]===0;)m++,d++;let C=(h-m)*i+1>>>0,T=new Uint8Array(C);for(;m!==h;){let k=c[m],W=0;for(let M=C-1;(k!==0||W<u)&&M!==-1;M--,W++)k+=256*T[M]>>>0,T[M]=k%o>>>0,k=k/o>>>0;if(k!==0)throw new Error("Non-zero carry");u=W,m++}let N=C-u;for(;N!==C&&T[N]===0;)N++;let P=r.repeat(d);for(;N<C;++N)P+=e.charAt(T[N]);return P}function s(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,u=0,m=0;for(;c[d]===r;)u++,d++;let h=(c.length-d)*n+1>>>0,C=new Uint8Array(h);for(;d<c.length;){let k=c.charCodeAt(d);if(k>255)return;let W=t[k];if(W===255)return;let M=0;for(let H=h-1;(W!==0||M<m)&&H!==-1;H--,M++)W+=o*C[H]>>>0,C[H]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");m=M,d++}let T=h-m;for(;T!==h&&C[T]===0;)T++;let N=new Uint8Array(u+(h-T)),P=u;for(;T!==h;)N[P++]=C[T++];return N}function l(c){let d=s(c);if(d)return d;throw new Error("Non-base"+o+" character")}return{encode:a,decodeUnsafe:s,decode:l}}var Jp=ZO;function DR(e){return(typeof Jp=="function"?Jp:Jp.default)(e)}var lg="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",QO=DR(lg),KO=8/Math.log2(62),cZ=e=>QO.encode(e).padStart(Math.ceil(e.length*KO),"0"),Xp=(e=20)=>Array(e).fill(0).map(()=>lg[Math.floor(Math.random()*lg.length)]).join("");var qO=Je("update-tree-cache-for-vekter");function YO(e,t){return t?sS(t)?t.has(e):t===e:!0}var cg=[];Object.freeze(cg);var dg=[];Object.freeze(dg);function eW(e,t,o,r){return ct(e)?et(e)?r??o??St.identity():!o||!t?St.identity():St.boundingRectMatrix(o,t):o??St.identity()}function tW(e,t,o,r,n,i,a,s,l){let c=e.root,d=c.cache,u=c.getLocale(a);d.visible=!0,d.lockedByParent=!1,d.renderId=c.id,Qp(d);let m=c.children;for(let h of m)if(!(l&&!YO(h.id,l))){if(ko(h)){if(!h.isLoaded())continue;oW(e,h,c,t,o,r,n,i,u,s)}else pg(e,h,c,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,null,null,cg,dg,void 0,void 0,t,o,r,n,i,u,void 0,void 0,void 0,s,void 0);vs(c,h)}return e}function WZ(e,t,o){return tW(t.treeStore.tree,t.layoutCache,t.treeStore.sandboxRepeaterData,t.treeStore.sandboxVisibility,e,e.activeBundleHash,t.chromeStore.canvasLocaleId,t.effectStore.getState(),o)}function oW(e,t,o,r,n,i,a,s,l,c){let d=t.cache;d.visible=!0,d.lockedByParent=!1,d.renderId=t.id,d.parentRenderId=o.id,Qp(d);let u=t.children,{combinedVariableValueMap:m,combinedVariableControlMap:h}=t.combineVariableValueAndControlMaps(e,void 0,void 0,void 0,a,n,s,l),C=z(t);for(let T of u)pg(e,T,t,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,null,null,cg,dg,m,h,r,n,i,a,s,l,void 0,void 0,void 0,c,C),vs(t,T)}function pg(e,t,o,r,n,i,a,s,l,c,d,u,m,h,C,T,N,P,k,W,M,H,X,K,oe,me,j,xe,pe,Ie,Re){let R=t.cache,ne=R.activeVekterLocale;R.activeVekterLocale=me;let{combinedVariableMapsAreEqual:ae}=t.combineVariableValueAndControlMaps(e,void 0,k,W,K,H,oe,me),Te=Et(t),gt=Te?H.isEmpty(t.id):!1,[yt,be]=sW(e,t,o,a,s,M,H,X);R.groundNodeAncestorId=j?.groundNodeId,R.masterAncestorId=c,R.replicaAncestorId=d,R.overlayAncestorId=u,R.formContainerAncestorId=h,R.tickerAncestorId=C;let se=n&&!!yt,Nt=!j||St.equals(R.groundNodeMatrix,j.groundNodeMatrix),Xt=!pr(t)||R.layout===t.layout,ro=ne===R.activeVekterLocale,Sr=Sf(t,j),sr=!!Ie?.nodes.has(t.id),uo=sr===R.isEffectPreview&&ti(Ie?.effectIds??null,R.effectIds)&&(Ie?.type??null)===R.effectType&&R.webPageEffect===Re,lr=Cf(t)||de.equals(R.viewportRect,Sr);r||=Ee(t);let Ho=Xt&&ro&&lr&&uo&&ae&&R.insideVariant===r&&R.visible===se&&R.repeaterIsEmpty===gt&&R.lockedByParent===i&&R.lastUpdate===t.update&&R.parentDirected===xe&&R.parentDirectedRowHeightType===pe&&R.flowEffectAncestorId===T&&R.tickerAncestorId===C&&OR(t.cache.getRenderInstance(t.id),yt)&&aW(t.cache.secondaryRenderInstances,be)&&jv(e,t)===R.usesLayoutTemplateRectForModuleIdentifier;if(Ho&&Nt)return;R.isEffectPreview=sr,R.effectIds=Ie?.effectIds??null,R.effectType=Ie?.type??null,R.webPageEffect=Re,R.ancestorRepeaterIds=N,R.repeatedAncestorRepeaterIds=P;let Qn=!1;Qn&&Qn.cacheUpdated(),Ho?R.canvasRect=void 0:(Qn&&Qn.cacheReset(),R.reset(),R.groundNodeAncestorId=j?.groundNodeId,R.masterAncestorId=c,R.replicaAncestorId=d,R.overlayAncestorId=u,R.slotPropertyAncestorId=m,R.formContainerAncestorId=h,R.tickerAncestorId=C,R.flowEffectAncestorId=T,R.activeVekterLocale=me,R.visible=se,R.repeaterIsEmpty=gt,R.insideVariant=r,R.lockedByParent=i,R.lastUpdate=t.update,R.parentDirected=xe,R.parentDirectedRowHeightType=pe,R.viewportRect=Sr,R.layout=pr(t)?t.layout:void 0,R.ancestorRepeaterIds=N,R.repeatedAncestorRepeaterIds=P,R.usesLayoutTemplateRectForModuleIdentifier=Xa(t)?t.usesLayoutTemplateRectForModuleIdentifier():void 0,yt&&(R.renderId=t.id,Object.assign(R,yt)),R.secondaryRenderInstances=be);let{parentRectByRenderIdForChildren:La,parentMatrixByRenderIdForChildren:_o,parentUsesDOMRectForChildren:qr,groundNodeContextForChildren:Da}=MR(e,t,l,j,M),Ai=t.children;if(!Ai)return;let Lc=Co(t)?t.layout:void 0,xC=to(t)?t.gridRowHeightType:void 0,Dc=c;!Dc&&Jo(t)&&(Dc=t.id);let Fc=d;!Fc&&Ot(t)&&(Fc=t.id);let PC=Zp(t,N);for(let Ei of Ai){if(!Xt)for(let[,Ec]of Ei.cache.iterateRenderInstances())Ec.parentRect=void 0;let Fa=Te&&is(e,Ei,t),VC=Fa&&gt,Mi=at.isOn("visibilityFromSandbox")?se:Fa?!VC&&se:se,{combinedVariableControlMap:kC,combinedVariableValueMap:Ac}=t.combineVariableValueAndControlMaps(e,Ei,k,W,K,H,oe,me);pg(e,Ei,t,r,Mi,hn(t),La,_o,qr,Dc,Fc,ct(t)?t.id:u,Nn(t)?t.id:m,er(t)?t.id:h,ci(t)?t.id:C,Ci(t)?t.id:T,PC,Fa?Zp(t,P):P,Ac,kC,M,H,X,K,oe,me,Da,Lc,xC,Ie,Re),vs(t,Ei)}}function zZ(e,t,o){let r=rW(e,o),n=e.root,i=n.cache;i.visible=!0,i.renderId=n.id,Qp(i);let a=n.children;for(let s of a){if(ko(s)){if(!s.isLoaded())continue;nW(e,s,n,t,r)}else ug(e,s,n,new Map,new Map,!1,t,r,void 0,void 0,void 0);vs(n,s)}return r}function rW(e,t){let o=new Set,r=new Set;function n(a){r.has(a.id)||(o.add(a.id),r.add(a.id),a.children&&a.children.forEach(n))}function i(a){let s=a.id;for(;s&&!o.has(s);)o.add(s),s=e.getNode(s)?.parentid}for(let a of t){let s=e.getNode(a);s&&(i(s),s.children&&s.children.forEach(n))}return o}function Zp(e,t){return Et(e)?t.length===0?[e.id]:[...t,e.id]:t}function nW(e,t,o,r,n){let i=t.cache;i.visible=!0,i.renderId=t.id,i.parentRenderId=o.id,Qp(i);let a=t.children;for(let s of a)ug(e,s,t,new Map,new Map,!1,r,n,void 0,void 0,void 0),vs(t,s)}function ug(e,t,o,r,n,i,a,s,l,c,d){if(!s.has(t.id))return;let u=t.cache;if(u.parentDirected=l,u.parentDirectedRowHeightType=c,u.viewportRect=Sf(t,d),!u.visible)return;for(let[W,M]of u.iterateRenderInstances()){let H=M.parentRenderId;S(H,"Missing `parentRenderId`"),M.parentRect=r.get(H),M.parentMatrix=n.get(H),M.parentDirectedRect=WR(t,W,o,a)}let{parentRectByRenderIdForChildren:m,parentMatrixByRenderIdForChildren:h,parentUsesDOMRectForChildren:C,groundNodeContextForChildren:T}=MR(e,t,i,d,a),N=t.children;if(!N)return;let P=Co(t)?t.layout:void 0,k=to(t)?t.gridRowHeightType:void 0;for(let W of N)ug(e,W,t,m,h,C,a,s,P,k,T),vs(t,W)}function iW(e,t){if(!t||!Ve(e)||!Ce(e))return;let o=new Map;for(let[r,n]of t){let i=n.originX??Hf*n.width,a=n.originY??Hf*n.height,s=St.identity();BC()||(s=s.translate(e.left??0,e.top??0));let l=s.translate(i,a).multiplySelf(St.identity().translate(n.x,n.y).multiplySelf(n.matrix)).translateSelf(-i,-a),c=St.convertPointsWithClipping(l,de.pointsAtOrigin({width:n.width,height:n.height}));o.set(r,{domRect:n,canvasCorners:c,canvasRect:de.boundingRectFromPoints(c)})}return o}function MR(e,t,o,r,n){let i=t.cache,a=n.getRects(t.id);a&&(i.domRects=new Map(a));let s=Xa(t)&&!!i.usesLayoutTemplateRectForModuleIdentifier;s&&(i.layoutTemplateRects=iW(t,n.getLayoutTemplateRects(t.id))),i.groundNodeMatrix=r?.groundNodeMatrix??null;let l=Xa(t)&&t.usesDOMRectCached(),c=!(l||o),d=!!i.viewportRect||!Cf(t),u,m=new Map,h=new Map;for(let[C,T]of i.iterateRenderInstances()){let{parentRect:N,parentMatrix:P,parentDirectedRect:k}=T,W=e.getParentSizeInfo(t,void 0,c,d,C),M=k??t.rect(W,c,void 0,C);m.set(C,M);let H=t.originAdjustedMatrix(W,M,C),X=eW(t,N,P,r?.groundNodeMatrix),K;try{K=X.multiply(H)}catch(xe){qO.reportErrorOncePerMinute(xe,{parentRect:N,frame:M,parentMatrix:X,transformMatrix:H}),K=new DOMMatrix}let oe=Nl(t)?K:St.flatProjectionMatrix(K);h.set(C,oe),T.matrix=K;let me=e.convertCornerPointsToCanvas(t,!1,void 0,C);T.cornerPoints=me;let j=de.boundingRectFromPoints(me);if(T.canvasRect=j,Pr(t)&&tr(t)&&t.strokeEnabled){let xe=t.resolveValue("strokeWidth")??0;j=de.inflate(j,xe/2)}s?ER(T,i.getLayoutTemplateContainerRect()?.canvasRect??j):ER(T,j),yP(C)&&(u=r??MT(t,M,{groundNodeId:t.id,groundNodeMatrix:oe}))}return{parentRectByRenderIdForChildren:m,parentMatrixByRenderIdForChildren:h,parentUsesDOMRectForChildren:l,groundNodeContextForChildren:u}}function FR(e,t,o){if(at.isOn("visibilityFromSandbox"))return o.getVisible(t);let r=ct(e)&&!e.cache.overlayVisible;return e.isVisible()&&!oi(e)&&!r}function OR(e,t){return!e&&!t?!0:!e||!t?!1:de.equals(e.parentRect??null,t.parentRect??null)&&St.equals(e.parentMatrix??null,t.parentMatrix??null)&&de.equals(e.parentDirectedRect??null,t.parentDirectedRect??null)&&en(e.repeaterItemIds,t.repeaterItemIds)&&e.repeaterItemId===t.repeaterItemId}function aW(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;for(let[o,r]of t){let n=e.get(o);if(!OR(r,n))return!1}return!0}function AR(e,t,o,r,n,i,a,s,l){return{parentRenderId:r,parentRect:i.get(r),parentMatrix:a.get(r),parentDirectedRect:WR(e,t,o,s),matrix:void 0,canvasRect:void 0,cornerPoints:void 0,repeaterItemIds:l.getItemIds(t),repeaterItemId:n,minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0}}function sW(e,t,o,r,n,i,a,s){let l=new Map;if(Et(o)&&is(e,t,o))for(let[u,m]of o.cache.iterateRenderInstances()){let h=m.repeaterItemIds;if(h)for(let C=0;C<h.length;C++){let T=h[C];if(!T)continue;let N=CP(u,o.id,T,C),P=uh(N,t.id);FR(t,P,s)&&l.set(P,AR(t,P,o,u,T??m.repeaterItemId,r,n,i,a))}}else for(let[u,m]of o.cache.iterateRenderInstances()){let h=uh(u,t.id);FR(t,h,s)&&l.set(h,AR(t,h,o,u,m.repeaterItemId,r,n,i,a))}let c=l.get(t.id);l.delete(t.id);let d=l.size>0?l:void 0;return[c,d]}function Qp(e){e.minX=1/0,e.maxX=-1/0,e.minY=1/0,e.maxY=-1/0}function ER(e,t){e.minX=t.x,e.maxX=t.x+t.width,e.minY=t.y,e.maxY=t.y+t.height}function lW(e,t){e.minX>t.minX&&(e.minX=t.minX),e.maxX<t.maxX&&(e.maxX=t.maxX),e.minY>t.minY&&(e.minY=t.minY),e.maxY<t.maxY&&(e.maxY=t.maxY)}function vs(e,t){for(let[,o]of t.cache.iterateRenderInstances()){let r=o.parentRenderId;S(r,"Missing `parentRenderId`");let n=e.cache.getRenderInstance(r);n&&lW(n,o)}}function WR(e,t,o,r){if(Co(o)&&hi(e,o))return r.getRect(t)}function Xl(e,t){if(F(e))return e;let o=[];for(let r of e)o.push(t.get(r)??r);return o.length>0?o:void 0}function Sn(e,t){if(!Po(t))return null;let o=e.getNode(t.originalid);return S(o,"The original variant node should exist"),o}function cW(e,t,o){let r=ze.inheritedReplicaNode(e,t.replicaInfo.inheritsFrom),n=Zi(t.replicaInfo.overrides,r?.replicaInfo.overrides);for(let i of o.walk()){let a=n[i.id];if(!a)continue;let{_deleted:s,itemsOrder:l,...c}=a;s?.forEach(d=>c[d]=void 0),e.current(i)?.set(c)}}function zR(e,t){let o=e.getNode(t.originalid),r=ze.getReplicaForTemplateNode(e,t);if(!o||!r||!Ee(r))return[];if(!r.replicaInfo.inheritsFrom)return[o];let n=e.getNode(r.replicaInfo.inheritsFrom);if(!n)return[o];let i=Yo(n.id,o.id),a=e.getNode(i);return a?[o,a]:[o]}function qZ(e,t,o,r){let n=ze.getReplicaForTemplateNode(e.tree,t);S(n,"replica should exist when moving node out of replica"),S(Ee(n),"replica must be a variant"),cW(e.tree,n,o),t.isVisible()&&!o.isVisible()&&e.tree.current(o)?.set({visible:!0}),r.delete(t.id),r.add(o.id)}function mg(e,t,o,r,n){if(!o||!r)return t.id;S(Qe(o),"Fail to update variant nodes: parent must be a replica");let i=ze.getReplicaForTemplateNode(e.tree,o);if(S(i,"Fail to update variant nodes: replica should exist"),S(Ee(i),"Fail to update variant nodes: replica must be an variant"),Ld(e.tree,o)){e.tree.current(t)?.set({visible:!1});let s={visible:!0};Rn(t)&&n&&(s.itemsOrder=Xl(t.itemsOrder,n)),gl(e.tree,i,t.id,s)}return Yo(i.id,t.id)}function fg(e,t,o,r,n,i){let a=mg(e,t,o,r,i);return n.delete(t.id),n.add(a),a}function YZ(e,t,o){let r=zR(e.tree,t),n=zR(e.tree,o),i=r.find((a,s)=>!a.isVisible()||a.cache.visible===!0?!1:n[s]?.cache.visible??!1);i&&(e.tree.get(i.id)?.set({visible:!1}),t.set({visible:!0},e.tree,!0))}function BR(e,t,o){fi(e.tree,t).forEach(({replicaRoot:r})=>{if(Object.keys(r.replicaInfo.overrides).every(l=>!o.has(l)))return;let a={...r.replicaInfo},s={...a.overrides};a.overrides=s,o.forEach((l,c)=>{if(c in s){let d={...s[c]},u=d.itemsOrder;"itemsOrder"in d&&Array.isArray(u)&&(d.itemsOrder=Xl(u,o)),s[l]=oR(d)}}),e.tree.get(r.id)?.set({replicaInfo:a})})}var dW={type:{type:Us.type,value:Gm.type},variantId:{type:Us.variantId,value:void 0},pauseOffscreen:{type:Us.pauseOffscreen,value:Gm.pauseOffscreen}},lQ={type:"type",variantId:"variantId",pauseOffscreen:"pauseOffscreen"},pW={cycle:!0,set:!0};function $R(e){return A(e)&&e in pW}function Kr(e){return li(e)&&e.actionIdentifier==="framer/useSetVariant"}function GR(e){return e.controls.type?.value!=="set"?null:e.controls.variantId?.value??null}function cQ(e){return Array.isArray(e)&&e.some(t=>Kr(t)&&t.controls.type?.value==="set"&&!t.controls.variantId?.value)}function dQ(e,t){return RT(e,Kr,t)}function pQ(e,t,o){let r=kT(t,Kr,o),n=[];return r.forEach(i=>{switch(i.controls.type?.value){case"set":{let s=i.controls.variantId?.value;s&&n.push(s);break}case"cycle":{let s=e.getScopeNodeFor(t);if(!ue(s))return;let l=s.getTopLevelVariants();if(l.length<=1)return;let c=e.getGroundNodeFor(t),d=l.findIndex(C=>C.id===c.id);if(d===-1)return;let u=d+1,m=u>=l.length?0:u,h=l[m];h&&n.push(h.id);break}}}),n}function uQ(e){let t={};return Object.entries(e).forEach(([o,r])=>{t[o]=r?.value}),t}function uW(e,t){return!(e?.inputValue!==t?.inputValue||e?.delay!==t?.delay||e?.key!==t?.key)}function mQ(e,t,o){let r=Array.isArray(e)?[...e]:[],n=r.findIndex(Kr),i=r[n];if(Kr(i)&&uW(i.meta,o)){let a={...i.controls,...HR(t)},s={...i,controls:a,meta:{...i.meta,...o}};r[n]=s}else{let a=mW(t,void 0,o);r.push(a)}return r}function HR(e){let t={};return Object.entries(e).forEach(([o,r])=>{t[o]={type:Us[o],value:r}}),t}function mW(e,t,o){let r=HR({...e}),n={identifier:t||kd(),actionIdentifier:"framer/useSetVariant",controls:{...dW,...r}};return o&&Object.assign(n,{meta:o}),n}function fQ(e,t){let o={...e.controls,...t};return{...e,controls:o}}function _R(e,t){let o=t.get(e);return Kc(o)?o:null}function hg(e,t,o="transparent"){if(F(e))return o;if(!Hr(e))return e;let r=fd(e);return(r?_R(r,t):null)?.light??o}function pa(e,t,o,r=!1){if(nb(t)){e.has(t)||ib(e,t);return}let n=r?$d(o):Tl(o);if(e.has(n))return;let i=new vl({id:n});e.insertNode(i,t)}function fW(e,t){let o=e.tree.get(t);if(We(o))return;let r=e.tree.get(o.parentid);if(!We(r))return r.children?.findIndex(n=>n.id===t)}function PQ(e,t,o){let r=e.tree.getEntityReferenceNode(t);if(We(r))return;let n=Tl(o),i=new vl({id:n}),a=fW(e,r.id),s=Uo(a)?a+1:void 0;e.tree.insertNode(i,r.parentid,s)}function VQ(e,t){let o=e.get(t);We(o)||(e.removeNode(o),hW(e,t))}function hW(e,t,o){let{isCodeFile:r=!1}=o??{},n=r?$d(t):Tl(t);e.remove(n)}function Kp(e,t){return e===qi?$d(t):Tl(t)}function gW(e){return t=>sn(t)&&t.name===e}function jR(e,t){return e.children.find(gW(t))??null}function OQ(e,t){return e.children.find(o=>sn(o)&&o.getName()===t)??null}function WQ(e,t){let r=SW(e.tree,t).map(a=>e.tree.get(a));S(r.length>0,"unreferenced nodes parent node must exist");let n=r.flatMap(a=>a?.children??[]);if(!n||n.length===0)return;let i=yW[t];e.tree.beginAllowPartialScopeAccess();for(let a of n){if(!i(a))continue;let s=Kp(t,a.id);if(e.tree.get(s))continue;let l=new vl({id:s});e.tree.insertNode(l,t)}e.tree.endAllowPartialScopeAccess()}function UR(e){return ip(e)&&e.save.type==="codeFile"}var yW={[Pf]:e=>DS(e),[kf]:e=>ur(e),[wf]:e=>Fo(e),[Lf]:e=>Ga(e),[Vf]:e=>nn(e)||td(e)||$a(e),[qi]:e=>UR(e),[Cl]:e=>ue(e)||UR(e),[Rf]:e=>Kc(e),[Sl]:e=>Be(e),[Ya]:e=>Qt(e)},CW={[Pf]:vi,[kf]:vi,[wf]:vi,[Lf]:vi,[Vf]:vi,[qi]:Kf,[Rf]:CN};function SW(e,t){return t===Sl||t===Ya?[e.root.id]:t===Cl?[e.root.id,Kf]:[CW[t]]}var vW="__entity_input";function zQ(e,t){return`${vW}_${e}_${t?"popout":"panel"}`}function gg(e){return rb(e)||sn(e)}function BQ(e,t,o){let r=o;for(let[n,i]of t.entries()){let a=n===t.length-1,s=e.getNode(r);if(!s||!gg(s))return!1;let l=!1;for(let c of s.children){if(AS(c)&&i===c.getName())return!0;if(sn(c)&&i===c.getName()){if(a)return!0;l=!0,r=c.id;break}}if(!l)return!1}return!1}function yg(e){if(Pb(e))return Qf(e.getName());let t=e.resolveValue("name");return Gd(e)&&t?Qf(t):"Unknown"}function qp(e,t,o){let r=Ze(t)?t:bW(t);if(r.length===0)return o;let n=e.get(o);S(n&&gg(n),"A reference must be in a folder.");for(let i of r){let a=jR(n,i);if(a){n=a;continue}n=e.insertNode(new TN({name:i}),n.id)}return n.id}function oK(e,t){let o=e.tree.get(t);if(!sn(o))return"";let r=[o.name];for(let n of o.ancestors()){if(!sn(n))break;r.unshift(n.name)}return`/${r.join("/")}`}function JR(e,t,o){let r=Kp(o,t.id),n=e.get(r),i=[yg(t)];if(n)for(let a of n.ancestors()){if(!sn(a))break;i.unshift(yg(a))}return i}function rK(e,t,o){let r=e.get(t);return S(r,"Node must exist"),JR(e,r,o)}function nK(e,t,o,r={leadingSlash:!0}){let n=e.get(t);return S(n,"Node must exist"),TW(e,n,o,r)}function TW(e,t,o,r={leadingSlash:!0}){let i=JR(e,t,o).join("/");return r.leadingSlash?`/${i}`:i}function bW(e){return Zf(e).slice(0,-1)}function iK(e,t,o,r){let n=Zf(o);if(n.length===0)return;let i=n.pop(),a=qp(e,o,r),s=r===qi;return pa(e,a,t.id,s),t.set({name:i}),a}function XR(e,t){if(!Xo(t))return!1;let o=bf(t.codeComponentIdentifier);if(!o)return!1;let r=e.getNode(o);return!!(r&&z(r))}function pK(e,t){let o=bf(t.codeComponentIdentifier);S(o,"WebPageInstance should have a local canvas component id");let r=e.getNode(o);return S(r,"SmartComponentInstance should have a local WebPageNode"),S(z(r),"WebPageInstance its WebPageNode should be a web page"),r}var Zl=(e,t)=>e.length===0?[]:typeof e[0]=="string"?t.withoutDescendants(t.getNodes(e)):e;function Yp(e,t){let o=t.getPropertyControlsForIdentifier(e.codeComponentIdentifier);return o?iN(o,e.getControlProps(o)):{}}var IW={type:"None",source:"undefined"},ZR=class extends gn{constructor(){super(...arguments);D(this,"_stack",[]);D(this,"dismiss",()=>{this._stack=Wr.pop(this._stack)});D(this,"isVisible",()=>this.active.type!=="None");D(this,"shouldBlockUndoRedo",(o,r)=>{switch(this.active.type){case"None":return!1;case"Variables":return!uR(o,r);case"LocaleSettings":return!mR(o,r);default:return!0}})}get stack(){return this._stack}get active(){return this._stack[this._stack.length-1]??IW}trackModalOpen({type:o,source:r}){It("modal_open",{modalType:o,source:r})}push(o){this._stack=Wr.push(this._stack,o),this.trackModalOpen(o)}set(o){this._stack=[o],this.trackModalOpen(o)}dismissAll(){this._stack.length!==0&&(this._stack=[])}dismissModal(o){this._stack=Wr.filter(this._stack,r=>r.type!==o)}displayComponentIsolationModal({source:o}){let r="componentIsolationModal",n="1";Yr.isAutomation||Yr.isE2E||Yr.isTest||localStorage.getItem(r)!==n&&(localStorage.setItem(r,n),setTimeout(()=>{this.scheduler.processWhenReady(()=>{this.set({type:"ComponentIsolationModal",source:o})})},0))}};function QR(e){if(A(e))return[e];if("id"in e)return[e.id];let t=[];for(let o of e)A(o)?t.push(o):t.push(o.id);return t}function Ql(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let o=new Set(e);for(let r of t)if(!o.has(r))return!1;return!0}var KR=class extends gn{constructor(o,r,n){super();this.guides=o;this.chromeStore=r;this.overlayStore=n;D(this,"_previousIds",[]);D(this,"_ids",[]);D(this,"_nodes",[]);D(this,"_isSticky",!1);D(this,"_commonGroundNode");D(this,"gradientStopId")}get ids(){return this._ids}get nodes(){return this._nodes}get isSticky(){return this._isSticky}get commonGroundNode(){return this._commonGroundNode}get commonGroundNodeId(){return this._commonGroundNode?.id??null}get previousIds(){return this._previousIds}set(o,r={}){let n=QR(o);if(Ql(this._ids,n))return;this._previousIds=this._ids,this._ids=n,this._isSticky=r.sticky??n.length>1,n.length>0&&this.guides.clearSelected();let{switchToLayers:a=!1,switchToProperties:s=!1,tree:l}=r;this.chromeStore.onCanvasSelectionChange(n,a,s),this.overlayStore.onCanvasSelectionChange(n,{tree:l})}toggle(o,{switchToLayers:r=!1,switchToProperties:n=!1}={}){let i=QR(o),a=new Set(this.ids);for(let s of i)a.has(s)?a.delete(s):a.add(s);this._ids=Array.from(a),this.chromeStore.onCanvasSelectionChange(this.ids,r,n),this.overlayStore.onCanvasSelectionChange(a,{toggle:!0})}clear(){this.set([])}updateNodes(o){let r=o.getNodes(this.ids),n=!Bi(this.nodes,r);n&&(this._nodes=r),(n||this.commonGroundNode&&!o.isGroundNode(this.commonGroundNode))&&this.updateCommonGroundNode(o)}updateCommonGroundNode(o){let r;for(let n of this.nodes){let i=o.getGroundNodeFor(n);if(!r)r=i;else if(r!==i){r=void 0;break}}this._commonGroundNode=r}postProcess(o,r,n,i=this.gradientStopId,a=this._ids){this.gradientStopId=i;let s=[];for(let l of a){let c=o.getNode(l);if(c){o.isAncestorOfNode(c,r.id)&&s.push(l);continue}let d=n.getNode(l);if(!$r(d))continue;let u=o.getNode(d.parentid);if(Rt(u)){s.splice(0,s.length,u.id);break}}this.set(s,{tree:o}),this.updateNodes(o)}};function NW(e,t){let o=e.componentForIdentifier(t.codeComponentIdentifier);if(!o?.properties)return null;let r=Object.entries(o.properties).find(([,s])=>s&&s.title==="Variant"&&s.type==="enum");if(!r)return null;let[n,i]=r;if(i.options.length<=1)return null;let a=i.defaultValue??i.options[0];return A(a)?{key:n,control:i,defaultVariant:a}:null}function xW(e,{control:t}){let o=e.toLowerCase().trim(),n=(t.optionTitles??t.options).findIndex(a=>A(a)&&a.toLowerCase()===o);if(n===-1)return null;let i=t.options[n];return A(i)?i:null}function qR(e,t,o,r){let n={};for(let i of r.walk()){if(!J(i))continue;let a=NW(e,i);if(!a)continue;let s=xW(o,a);if(!s)continue;let l=i;if(_t(i)&&(l=t.tree.getNode(i.originalid)),!l||(l.getRawControlProp(a.key)??a.defaultVariant)===s)continue;let d={type:"enum",value:s};n[l.id]={[wt(a.key)]:d}}return Object.keys(n).length>0?n:null}var YR=["blur","backgroundBlur","brightness","contrast","grayscale","hueRotate","invert","saturate","sepia"];var tu={left:"position",right:"position",top:"position",bottom:"position",centerAnchorX:"position",centerAnchorY:"position",constraintsLocked:"position",x:"position",y:"position",width:"size",widthType:"size",height:"size",heightType:"size",aspectRatio:"size",itemsOrder:"itemsOrder",layout:"layout",gap:"layout",gridAlignment:"layout",gridColumnCount:"layout",gridColumnWidthType:"layout",gridColumnWidth:"layout",gridColumnMinWidth:"layout",gridRowHeightType:"layout",gridRowHeight:"layout",gridRowCount:"layout",stackDirection:"layout",stackDistribution:"layout",stackAlignment:"layout",stackWrapEnabled:"layout",gridType:"layout",gridItemFillCellWidth:"size",gridItemFillCellHeight:"size",gridItemHorizontalAlignment:"position",gridItemVerticalAlignment:"position",gridItemColumnSpan:"size",gridItemRowSpan:"size",minHeight:"sizeConstraints",minWidth:"sizeConstraints",maxHeight:"sizeConstraints",maxWidth:"sizeConstraints",paragraphSpacing:"paragraphSpacing",position:"positionType",positionStickyTop:"positionType",positionStickyRight:"positionType",positionStickyBottom:"positionType",positionStickyLeft:"positionType",intrinsicWidth:"intrinsicSize",intrinsicHeight:"intrinsicSize",fillColor:"fill",fillEnabled:"fill",fillImage:"fill",fillImageOriginalName:"fill",fillImagePixelHeight:"fill",fillImagePixelWidth:"fill",fillImageResize:"fill",fillImagePositionX:"fill",fillImagePositionY:"fill",fillImageTileSize:"fill",fillImageAlts:"fillImageAlts",fillType:"fill",fillRadialGradient:"fill",fillLinearGradient:"fill",fillConicGradient:"fill",tapHighlightColor:"tapHighlight",textSelection:"textSelection",masks:"mask",radius:"radius",radiusBottomLeft:"radius",radiusBottomRight:"radius",radiusIsRelative:"radius",radiusPerCorner:"radius",radiusTopLeft:"radius",radiusTopRight:"radius",cornerShape:"cornerShape",borderTop:"border",borderBottom:"border",borderLeft:"border",borderRight:"border",borderEnabled:"border",borderWidth:"border",borderStyle:"border",borderColor:"border",borderPerSide:"border",rotation:"rotation",rotate3d:"rotation",rotateX:"rotation",rotateY:"rotation",blendingMode:"blending",opacity:"opacity",backgroundBlur:"backgroundBlur",overflow:"overflow",overflowY:"overflowY",overflowX:"overflowX",overscrollBehavior:"overscroll",visible:"visibility",brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hueRotate",invert:"invert",saturate:"saturate",sepia:"sepia",blur:"blur",boxShadows:"shadows",shadows:"shadows",guidesX:"canvasSettings",guidesY:"canvasSettings",exportOptions:"canvasSettings",overlayGrid:"canvasSettings",gesture:"canvasSettings",sizeToFit:"canvasSettings",framePreset:"canvasSettings",isVariant:"canvasSettings",onTap:"action",onTapStart:"action",onClick:"action",onMouseUp:"action",onMouseDown:"action",onMouseEnter:"action",onMouseLeave:"action",onAppear:"action",onKeyDown:"action",padding:"padding",paddingPerSide:"padding",paddingTop:"padding",paddingRight:"padding",paddingBottom:"padding",paddingLeft:"padding",name:"name",strokeEnabled:"stroke",strokeAlignment:"stroke",strokeWidth:"stroke",strokeColor:"stroke",lineJoin:"stroke",lineCap:"stroke",strokeMiterLimit:"stroke",strokeDashArray:"stroke",strokeDashOffset:"stroke",html:"richText",htmlLocalized:"richText",htmlContent:"richText",textFitScale:"richText",textFitViewBoxSize:"richText",textFitViewBoxSizeLocalized:"richText",stylePresetHeading1:"stylePresets",stylePresetHeading2:"stylePresets",stylePresetHeading3:"stylePresets",stylePresetHeading4:"stylePresets",stylePresetHeading5:"stylePresets",stylePresetHeading6:"stylePresets",stylePresetParagraph:"stylePresets",stylePresetLink:"stylePresets",stylePresetAnchorLink:"stylePresets",stylePresetBlockquote:"stylePresets",stylePresetTable:"stylePresets",stylePresetInlineCode:"stylePresets",stylePresetImage:"stylePresets",anchorLinkOffsetY:"anchorLinkOffsetY",styledText:"styledText",getStyledText:"styledText",font:"font",rootFontSize:"rootFontSize",textColor:"textColor",textBackgroundColor:"textBackgroundColor",textBackgroundRadius:"textBackgroundRadius",textBackgroundCornerShape:"textBackgroundCornerShape",textBackgroundPadding:"textBackgroundPadding",fontSize:"fontSize",letterSpacing:"letterSpacing",textTransform:"textTransform",textDecoration:"textDecoration",textDecorationColor:"textDecoration",textDecorationThickness:"textDecoration",textDecorationStyle:"textDecoration",textDecorationSkipInk:"textDecoration",textDecorationOffset:"textDecoration",lineHeight:"lineHeight",textAlignment:"textAlignment",textStrokeWidth:"textStroke",textStrokeColor:"textStroke",textWrapBalance:"textWrapBalance",openTypeFontFeatures:"openTypeFontFeatures",link:"link",linkOpenInNewTab:"link",linkSmoothScroll:"link",linkClickTrackingId:"link",linkLocalized:"link",linkRelValues:"link",linkPreserveParams:"link",getLink:"link",linkFont:"linkStyle",linkTextColor:"linkStyle",linkFontSize:"linkStyle",linkTextTransform:"linkStyle",linkTextDecoration:"linkStyle",linkTextDecorationColor:"linkStyle",linkTextDecorationThickness:"linkStyle",linkTextDecorationStyle:"linkStyle",linkTextDecorationSkipInk:"linkStyle",linkTextDecorationOffset:"linkStyle",linkTextBackgroundColor:"linkStyle",linkTextBackgroundRadius:"linkStyle",linkTextBackgroundCornerShape:"linkStyle",linkTextBackgroundPadding:"linkStyle",linkHoverFont:"linkStyle",linkHoverTextColor:"linkStyle",linkHoverFontSize:"linkStyle",linkHoverTextTransform:"linkStyle",linkHoverTextDecoration:"linkStyle",linkHoverTextDecorationColor:"linkStyle",linkHoverTextDecorationThickness:"linkStyle",linkHoverTextDecorationStyle:"linkStyle",linkHoverTextDecorationSkipInk:"linkStyle",linkHoverTextDecorationOffset:"linkStyle",linkHoverTextBackgroundColor:"linkStyle",linkHoverTextBackgroundRadius:"linkStyle",linkHoverTextBackgroundCornerShape:"linkStyle",linkHoverTextBackgroundPadding:"linkStyle",linkCurrentFont:"linkStyle",linkCurrentTextColor:"linkStyle",linkCurrentFontSize:"linkStyle",linkCurrentTextTransform:"linkStyle",linkCurrentTextDecoration:"linkStyle",linkCurrentTextDecorationColor:"linkStyle",linkCurrentTextDecorationThickness:"linkStyle",linkCurrentTextDecorationStyle:"linkStyle",linkCurrentTextDecorationSkipInk:"linkStyle",linkCurrentTextDecorationOffset:"linkStyle",linkCurrentTextBackgroundColor:"linkStyle",linkCurrentTextBackgroundRadius:"linkStyle",linkCurrentTextBackgroundCornerShape:"linkStyle",linkCurrentTextBackgroundPadding:"linkStyle",textContent:"textContent",textVerticalAlignment:"textVerticalAlignment",variantTransition:"transition",pathSegments:"vectorPath",pathClosed:"vectorPath",spikeCount:"vectorPath",spikeDepth:"vectorPath",polygonSides:"vectorPath",elementId:"scrollTarget",scrollMarginTop:"scrollTarget",scrollTargetEnabled:"scrollTarget",altAttribute:"accessibility",altAttributeLocalized:"accessibility",cursor:"cursor",customCursorSmartComponentId:"customCursor",customCursorFollow:"customCursor",customCursorOffsetX:"customCursor",customCursorOffsetY:"customCursor",customCursorVariant:"customCursor",customCursorType:"customCursor",customCursorTransitionEnabled:"customCursor",customCursorTransition:"customCursor",customCursorPlacement:"customCursor",customCursorAlignment:"customCursor",pointerEvents:"pointerEvents",userSelect:"userSelect",zIndex:"zIndex",draggable:"draggable",imageRendering:"imageRendering",viewportHeight:"canvasSettings",isBreakpoint:"canvasSettings",backdropFill:"overlay",backdropFillEnabled:"overlay",backdropDismissible:"overlay",blockDocumentScrolling:"overlay",backdropExitTransition:"overlayTransition",backdropEnterTransition:"overlayTransition",backdropTransitionLocked:"overlayTransition",hideScrollbars:"scrollbars",customizations:"customizations",customizationsDescription:"customizations",customizationsSectionId:"customizations",customizationsCategory:"customizations",customizationsRules:"customizations",isApplyingCustomizations:"customizations",translateZ:"translateZ",scale:"scale",skewX:"skew",skewY:"skew",backfaceVisibility:"backfaceVisibility",perspective:"perspective",transformStylePreserve3d:"transformStylePreserve3d",transformOriginX:"transformOrigin",transformOriginY:"transformOrigin",transition:"transition",formInputFontSize:"formInputFont",formInputFontFamily:"formInputFont",formInputFontSelector:"formInputFont",formInputFontWeight:"formInputFont",formInputFontStyle:"formInputFont",formInputPlaceholderColor:"formPlaceholderColor",formInputFontColor:"formInputColor",formInputFontLetterSpacing:"formInputFont",formInputFontLetterSpacingUnit:"formInputFont",formInputFontLineHeight:"formInputFont",formInputFontLineHeightUnit:"formInputFont",formInputFontTextAlignment:"formInputFont",formInputOpenTypeFontFeatures:"formInputFont",formInputVariationAxes:"formInputFont",formTextInputType:"formTextInputType",formTextAreaResizable:"formInputTextAreaResize",formTextInputMinNumber:"formTextInputTypeMin",formTextInputMaxNumber:"formTextInputTypeMax",formInputMaxLength:"formInputMaxLength",formInputStep:"formInputStep",formBooleanInputType:"formBooleanInputType",formBooleanInputValue:"formBooleanInputValue",formBooleanInputCheckedBorderColor:"formBooleanInputCheckedEffect",formBooleanInputCheckedBorderWidth:"formBooleanInputCheckedEffect",formBooleanInputCheckedBorderStyle:"formBooleanInputCheckedEffect",formBooleanInputCheckedBoxShadow:"formBooleanInputCheckedEffect",formBooleanInputCheckedFillColor:"formBooleanInputCheckedEffect",formBooleanInputCheckedTransition:"formBooleanInputCheckedEffect",formInputFocusedBackgroundColor:"formInputFocusedFill",formInputFocusedBorderColor:"formInputFocusedBorder",formInputFocusedBorderStyle:"formInputFocusedBorder",formInputFocusedBorderWidth:"formInputFocusedBorder",formInputFocusedBoxShadow:"formInputFocusedBoxShadow",formInputFocusedTransition:"formInputFocusedTransition",formInputInvalidTextColor:"formInputInvalidTextColor",formInputIconImage:"formInputIcon",formInputIconColor:"formInputIcon",viewTransitionNone:"viewTransitionNone"};function zK(e){let t=[],o;for(o in tu){let r=tu[o];e.includes(r)&&t.push(o)}return t}function ew(e,t,o){let r=e.componentForIdentifier(o.codeComponentIdentifier);if(!r?.properties)return{};let n={};return Object.entries(r.properties).forEach(([i,a])=>{if(!a||Ir(o)&&a.type==="slot")return;let s=wt(i),l=t[s];cd(l)&&l.type&&Xv(a.type,l.type)&&(a.type==="enum"&&!Sv(a,l.value)||(n[s]=l))}),n}function ie(e,t){return t?new Set(Ze(t)?t:[t]).has(e):!0}function ou(e,t,o,r,n,i,a){let s=e.getScopeNodeFor(r);function l(d){return!q(d)||s&&qo(s)&&s.hasVariable(d.id)?d:i?.[d.id]??d}let c={};if(WT(e,r)||st(o)&&(o.widthType===4&&(c.widthType=1),o.heightType===4&&(c.heightType=1)),ie("visibility",a)&&Jr(o)&&Jr(r)&&(c.visible=l(o.visible)),ie("border",a)&&Ur(o)&&Ur(r)&&(c.borderEnabled=o.borderEnabled,c.borderWidth=o.borderWidth,c.borderColor=o.borderColor,c.borderStyle=o.borderStyle,c.borderPerSide=o.borderPerSide,c.borderLeft=o.borderLeft,c.borderTop=o.borderTop,c.borderRight=o.borderRight,c.borderBottom=o.borderBottom),ie("border",a)&&Ur(o)&&tr(r))if(B(o.borderEnabled)){let d=o.resolveValue("borderEnabled");ji(d)?(c.strokeEnabled=!0,c.strokeWidth=d.borderWidth,c.strokeColor=d.borderColor):c.strokeEnabled=!1}else c.strokeEnabled=o.borderEnabled,c.strokeWidth=o.borderWidth,c.strokeColor=o.borderColor;if(ie("stroke",a)&&tr(o)&&tr(r)&&(c.strokeEnabled=o.strokeEnabled,c.strokeColor=o.strokeColor,c.strokeWidth=o.strokeWidth,c.strokeAlignment=o.strokeAlignment,c.lineJoin=o.lineJoin,c.lineCap=o.lineCap,c.strokeMiterLimit=o.strokeMiterLimit,c.strokeDashArray=o.strokeDashArray,c.strokeDashOffset=o.strokeDashOffset),ie("stroke",a)&&tr(o)&&Ur(r)&&(c.borderEnabled=o.strokeEnabled,c.borderWidth=o.resolveValue("strokeWidth"),c.borderColor=o.resolveValue("strokeColor")),ie("formInputTextAreaResize",a)&&Iv(o)&&(c.formTextAreaResizable=o.formTextAreaResizable),ie("formInputFocusedFill",a)&&Vn(o)&&Vn(r)&&(c.formInputFocusedBackgroundColor=o.formInputFocusedBackgroundColor),ie("formInputFocusedBorder",a)&&Vn(o)&&Vn(r)&&(c.formInputFocusedBorderColor=o.formInputFocusedBorderColor,c.formInputFocusedBorderWidth=o.formInputFocusedBorderWidth,c.formInputFocusedBorderStyle=o.formInputFocusedBorderStyle),ie("formInputFocusedBoxShadow",a)&&Vn(o)&&Vn(r)&&(c.formInputFocusedBoxShadow=o.formInputFocusedBoxShadow?[...o.formInputFocusedBoxShadow]:void 0),ie("formInputFocusedTransition",a)&&Vn(o)&&Vn(r)&&(c.formInputFocusedTransition=o.formInputFocusedTransition),ie("formInputColor",a)&&na(o)&&na(r)&&(c.formInputFontColor=o.formInputFontColor),ie("formPlaceholderColor",a)&&ah(o)&&ah(r)&&(c.formInputPlaceholderColor=o.formInputPlaceholderColor),ie("formInputPadding",a)&&Zo(o)&&Zo(r)&&(c.padding=o.padding,c.paddingPerSide=o.paddingPerSide,c.paddingTop=o.paddingTop,c.paddingRight=o.paddingRight,c.paddingBottom=o.paddingBottom,c.paddingLeft=o.paddingLeft),ie("shadows",a)&&Ui(o)&&Ui(r)){let d=l(o.boxShadows);Nv(r)?c.boxShadows=d:B(d)||(c.boxShadows=d?.filter(u=>u.type!=="realistic"))}if(ie("shadows",a)&&cf(o)&&cf(r)&&(c.shadows=o.shadows),ie("rotation",a)&&xr(o)&&xr(r)&&(c.rotation=o.rotation,To(r)&&To(o)&&(c.rotate3d=o.rotate3d,c.rotateX=o.rotateX,c.rotateY=o.rotateY)),ie("overflow",a)&&mr(o)&&mr(r)&&(c.overflow=l(o.overflow)),ie("overscroll",a)&&al(o)&&al(r)&&(c.overscrollBehavior=l(o.overscrollBehavior)),ie("cursor",a)&&Ji(o)&&Ji(r)&&(c.cursor=l(o.cursor)),ie("customCursor",a)&&Ji(o)&&Ji(r)&&(c.customCursorType=o.customCursorType,c.customCursorSmartComponentId=o.customCursorSmartComponentId,c.customCursorVariant=o.customCursorVariant,c.customCursorFollow=o.customCursorFollow,c.customCursorOffsetX=o.customCursorOffsetX,c.customCursorOffsetY=o.customCursorOffsetY,c.customCursorTransitionEnabled=o.customCursorTransitionEnabled,c.customCursorTransition=o.customCursorTransition,c.customCursorPlacement=o.customCursorPlacement,c.customCursorAlignment=o.customCursorAlignment),bl(o)&&bl(r))for(let d of YR){let u=tu[d];ie(u,a)&&(c[d]=l(o[d]))}if(ie("blending",a)&&nf(o)&&nf(r)&&(c.blendingMode=l(o.blendingMode)),ie("transition",a)&&xl(o)&&xl(r)){let d=Ee(o)?o.variantTransition:o.transition;Ee(r)?c.variantTransition=d:c.transition=d}if(ie("fill",a)&&Ao(o)&&Ao(r)){c.fillColor=l(o.fillColor),c.fillType=o.fillType,c.fillLinearGradient=o.fillLinearGradient,c.fillRadialGradient=o.fillRadialGradient,c.fillConicGradient=o.fillConicGradient,c.fillType==="conic-gradient"&&!qT(r)&&(c.fillType=r.fillType??"color");let d=l(o.fillImage);B(d)?B(d)&&r.supportsDynamicValues()&&(c.fillImage=d):c.fillImage=d,ie("fillImageAlts",a)&&YT(e,r)&&Fd(o)&&(c.fillImageAlts=o.fillImageAlts?[...o.fillImageAlts]:void 0),c.fillImageResize=o.fillImageResize,c.fillImagePixelWidth=o.fillImagePixelWidth,c.fillImagePixelHeight=o.fillImagePixelHeight,c.fillImagePositionX=o.fillImagePositionX,c.fillImagePositionY=o.fillImagePositionY,c.fillImageTileSize=o.fillImageTileSize}if(ie("fill",a)&&Nr(o)&&Nr(r)&&(c.fillEnabled=o.fillEnabled),(ie("size",a)||ie("fill",a))&&st(o)&&st(r)){let d=c.fillType??(Ao(r)?r.fillType:void 0),u=c.heightType??r.heightType;(c.widthType??r.widthType)===5&&d!=="image"&&(c.width=r.rect().width,c.widthType=0),u===5&&d!=="image"&&(c.height=r.rect().height,c.heightType=0)}if(ie("opacity",a)&&Gf(o)&&Gf(r)&&(c.opacity=l(o.opacity)),ie("radius",a)&&si(o)&&si(r)&&(c.radius=l(o.radius),of(o)&&of(r)&&(c.radiusIsRelative=o.radiusIsRelative),Hi(o)&&Hi(r)&&(c.radiusPerCorner=o.radiusPerCorner,c.radiusBottomLeft=o.radiusBottomLeft,c.radiusBottomRight=o.radiusBottomRight,c.radiusTopLeft=o.radiusTopLeft,c.radiusTopRight=o.radiusTopRight)),ie("cornerShape",a)&&ef(o)&&ef(r)&&(c.cornerShape=l(o.cornerShape)),ie("pointerEvents",a)&&sf(o)&&sf(r)&&!Ye(s)&&(c.pointerEvents=l(o.pointerEvents)),ie("draggable",a)&&Il(o)&&Il(r)&&(c.draggable=l(o.draggable)),ie("userSelect",a)&&ll(o)&&ll(r)&&(c.userSelect=l(o.userSelect)),ie("imageRendering",a)&&af(o)&&af(r)&&(c.imageRendering=l(o.imageRendering)),ie("overflowX",a)&&mr(o)&&mr(r)&&(c.overflowX=l(o.overflowX)),ie("overflowY",a)&&mr(o)&&mr(r)&&(c.overflowY=l(o.overflowY)),ie("zIndex",a)&&pf(o)&&pf(r)&&(c.zIndex=l(o.zIndex)),ie("scrollbars",a)&&Fl(o)&&Fl(r)&&(c.hideScrollbars=l(o.hideScrollbars)),ie("textVerticalAlignment",a)&&El(o)&&El(r)&&(c.textVerticalAlignment=o.textVerticalAlignment),ie("textWrapBalance",a)&&Mf(o)&&Mf(r)&&(c.textWrapBalance=o.textWrapBalance),ie("styledText",a)&&Xe(o)&&xd(r)){c.font=o.getFonts(!1)[0],c.textColor=o.getTextColors(!1)[0];let d=o.getFontSizes(!1)[0];c.fontSize=ai(d)?d[0]:d;let u=o.getLetterSpacings(!1)[0];c.letterSpacing=F(u)?u:QS(u),c.textTransform=o.getTextTransforms(!1)[0],c.textDecoration=o.getTextDecorations(!1)[0],c.lineHeight=o.getLineHeights(!1)[0],c.textAlignment=o.getTextAlignments(!1)[0],c.styledText=r.styledText.setFont(void 0,!1).setTextColor(void 0,!1).setFontSize(void 0,!1).setLetterSpacing(void 0,!1).setTextTransform(void 0,!1).setTextDecoration(void 0,!1).setLineHeight(void 0).setTextAlignment(void 0)}if(ie("link",a)&&Xe(o)&&Xe(r)&&(c.linkFont=o.linkFont,c.linkTextColor=o.linkTextColor,c.linkFontSize=o.linkFontSize,c.linkTextTransform=o.linkTextTransform,c.linkTextDecoration=o.linkTextDecoration,c.linkHoverFont=o.linkHoverFont,c.linkHoverTextColor=o.linkHoverTextColor,c.linkHoverFontSize=o.linkHoverFontSize,c.linkHoverTextTransform=o.linkHoverTextTransform,c.linkHoverTextDecoration=o.linkHoverTextDecoration,c.linkCurrentFont=o.linkCurrentFont,c.linkCurrentTextColor=o.linkCurrentTextColor,c.linkCurrentFontSize=o.linkCurrentFontSize,c.linkCurrentTextTransform=o.linkCurrentTextTransform,c.linkCurrentTextDecoration=o.linkCurrentTextDecoration),ie("mask",a)&&Ff(o)&&Ff(r)&&(c.masks=o.masks),Pe(o)&&Pe(r)){if(ie("fontSize",a)&&(c.textFitScale=o.textFitScale,c.textFitViewBoxSize=o.textFitViewBoxSize),ie("paragraphSpacing",a)&&(c.paragraphSpacing=o.paragraphSpacing),ie("styledText",a)){let d=o.getTextStrokeWidths(!1)[0],u=o.getTextStrokeColors(!1)[0];F(d)||(c.textStrokeWidth=d),u&&(c.textStrokeColor=u)}if(ie("richText",a))for(let d of ps){let u=o[d];e.has(u)&&(c[d]=u)}}if(ie("codeComponentProps",a)&&Xo(o)&&Xo(r)){let d=ew(t,o,r);Object.assign(c,d)}if(ie("codeOverride",a)&&pi(o)&&pi(r)&&(c.codeOverrideEnabled=o.codeOverrideEnabled,c.codeOverrideIdentifier=o.codeOverrideIdentifier),ie("formInputFont",a)&&na(o)&&na(r)&&(c.formInputFontFamily=o.formInputFontFamily,c.formInputFontWeight=o.formInputFontWeight,c.formInputFontStyle=o.formInputFontStyle,c.formInputFontSize=o.formInputFontSize,c.formInputFontSelector=o.formInputFontSelector,c.formInputFontLetterSpacing=o.formInputFontLetterSpacing,c.formInputFontLetterSpacingUnit=o.formInputFontLetterSpacingUnit,c.formInputFontLineHeight=o.formInputFontLineHeight,c.formInputFontLineHeightUnit=o.formInputFontLineHeightUnit,c.formInputFontTextAlignment=o.formInputFontTextAlignment,c.formInputOpenTypeFontFeatures=o.formInputOpenTypeFontFeatures,c.formInputVariationAxes=o.formInputVariationAxes),ie("layout",a)&&Fe(r)){let d=Br(o),u=VS(o);(d||u)&&(Po(r)||(c.layout=o.layout),c.gap=o.gap,c.padding=o.padding,c.paddingPerSide=o.paddingPerSide,c.paddingTop=o.paddingTop,c.paddingRight=o.paddingRight,c.paddingBottom=o.paddingBottom,c.paddingLeft=o.paddingLeft,d&&(c.stackDirection=o.stackDirection,c.stackDistribution=o.stackDistribution,c.stackAlignment=o.stackAlignment),u&&(c.gridAlignment=o.gridAlignment,c.gridColumnCount=o.gridColumnCount,c.gridColumnWidthType=o.gridColumnWidthType,c.gridColumnWidth=o.gridColumnWidth,c.gridColumnMinWidth=o.gridColumnMinWidth,c.gridRowHeightType=o.gridRowHeightType,c.gridRowHeight=o.gridRowHeight,c.gridRowCount=o.gridRowCount,c.gridType=o.gridType))}if(ie("position",a)&&Object.assign(c,os(o,n)),ie("perspective",a)&&To(o)&&To(r)&&(c.perspective=l(o.perspective)),ie("overlay",a)&&lt(o)&&lt(r)&&n){let d=ui(o);Object.assign(c,d)}if(ie("effects",a)&&Vl(o)&&Vl(r)&&Object.assign(c,TI(r,o)),ie("transformOrigin",a)&&To(o)&&To(r)&&Object.assign(c,{transformOriginX:o.transformOriginX,transformOriginY:o.transformOriginY}),ie("backfaceVisibility",a)&&To(o)&&To(r)&&Object.assign(c,{backfaceVisibility:o.backfaceVisibility}),ie("transformStylePreserve3d",a)&&To(o)&&To(r)&&Object.assign(c,{transformStylePreserve3d:o.transformStylePreserve3d}),ie("translateZ",a)&&To(o)&&To(r)&&Object.assign(c,{translateZ:o.translateZ}),ie("scale",a)&&To(o)&&To(r)&&Object.assign(c,{scale:o.scale}),ie("skew",a)&&To(o)&&To(r)&&Object.assign(c,{skewX:o.skewX,skewY:o.skewY}),ie("formBooleanInputType",a)&&ra(o)&&ra(r)&&Object.assign(c,{formBooleanInputType:o.formBooleanInputType}),ie("formBooleanInputValue",a)&&ra(o)&&ra(r)&&Object.assign(c,{formBooleanInputValue:o.formBooleanInputValue}),ie("formBooleanInputCheckedEffect",a)&&ra(o)&&ra(r)){let d={formBooleanInputCheckedBorderColor:o.formBooleanInputCheckedBorderColor,formBooleanInputCheckedBorderWidth:o.formBooleanInputCheckedBorderWidth,formBooleanInputCheckedBorderStyle:o.formBooleanInputCheckedBorderStyle,formBooleanInputCheckedFillColor:o.formBooleanInputCheckedFillColor,formBooleanInputCheckedBoxShadow:o.formBooleanInputCheckedBoxShadow,formBooleanInputCheckedTransition:o.formBooleanInputCheckedTransition};Object.assign(c,d)}return ie("formInputIcon",a)&&ih(o)&&ih(r)&&Object.assign(c,{formInputIconImage:o.formInputIconImage,formInputIconColor:o.formInputIconColor}),ie("viewTransitionNone",a)&&Pl(o)&&Pl(r)&&(c.viewTransitionNone=o.viewTransitionNone),c}var tw=e=>{let t=[];return e.forEach((o,r)=>{for(let n=r+1;n<e.length;n++){let i=e[n];t.push([o,i])}}),t};function ow(e,t,o){let r=t.map(u=>e.convertFrameToCanvas(u));if(r.length===2){let[u,m]=r,h=kW(u,m),C=RW(u,m);if(h&&!C)return"vertical";if(C&&!h)return"horizontal"}let n=r.map(u=>de.center(u));if(n.length<=1){if(r.length===1){let[u]=r,m=o.width/Math.max(1,u.width),h=o.height/Math.max(1,u.height);return m<h?"vertical":"horizontal"}return o.width<o.height?"vertical":"horizontal"}let i=tw(n),a=[],s=[];i.forEach(([u,m])=>{a.push(Math.abs(u.x-m.x)),s.push(Math.abs(u.y-m.y))});let l=a.reduce((u,m)=>u+m,0),c=s.reduce((u,m)=>u+m,0);return l>c?"horizontal":"vertical"}function rw(e,t,o){return[...t].sort((r,n)=>{let i=e.tree.getRect(r),a=e.tree.getRect(n);return o==="horizontal"?i.x-a.x:i.y-a.y})}function PW(e){if(B(e))return!0;switch(e){case"start":case"center":case"end":return!0;default:return!1}}function Cg(e,t,o){let r=ow(e.tree,t,o),n=e.stores.persistedUserDefaults.layoutGap;return{layout:"stack",stackDirection:r,gap:n,stackDistribution:IS,stackAlignment:_c,stackWrapEnabled:!1,padding:0,paddingPerSide:!1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0}}function VW(e,t){t.forEach((o,r)=>{e.tree.moveNodeIndex(o,r)})}function nw(e,t,o,r,n){o==="horizontal"&&t.heightType===2||o==="vertical"&&t.widthType===2||iw(e,r,o,n,{})}function iw(e,t,o,r,n){if(o==="horizontal"||B(n.padding))return;let i={...r};if(n.paddingPerSide)n.paddingLeft&&(i.width-=n.paddingLeft),n.paddingRight&&(i.width-=n.paddingRight),n.paddingTop&&(i.height-=n.paddingTop),n.paddingBottom&&(i.height-=n.paddingBottom);else if(n.padding){let s=n.padding*2;i.width-=s,i.height-=s}i.width=Math.max(0,i.width),i.height=Math.max(0,i.height);let a=i.width;a>0&&t.forEach(s=>{if(!Ve(s)||$e(s)||jr(s)||lo(s)||s.widthType===2||s.widthType===4)return;if(e.tree.getRect(s).width/a>.96){let d=e.tree.getParent(s.id),u=e.tree.getParentSizeInfo(s);u.sizing&&s.heightType===4&&(u.sizing={...i,height:u.sizing.height});let m=e.tree.getRect(s),h=s.updateForRect({rect:m,parentSizeInfo:u,constraintsLocked:!0,shouldGuessPinToBottom:oa(e.tree,s),shouldGuessPinToRight:Qr(e.tree,s,d)});h.width=1,s.width!==1&&(h.widthType=3),s.set(h)}})}function aw(e,t,o,r,n){if(!e.tree.getNode(t))return;rw(e,r,n).forEach(s=>{if(ud(s)&&hn(s)||Ys(s))return;let l=e.tree.getParent(s.id),c=e.tree.getRect(s),d=de.offset(c,we.reverse(o));e.moveNode(s.id,t);let u={...o},m=e.tree.getParentSizeInfo(s);ST(s)&&m.sizing&&(u.width=m.sizing.width),vT(s)&&m.sizing&&(u.height=m.sizing.height),e.tree.current(s)?.set({...s.updateForRect({rect:d,parentSizeInfo:{sizing:u,positioning:o,viewport:m?.viewport??null,layout:rn(l)},constraintsLocked:!1,shouldGuessPinToBottom:!0,shouldGuessPinToRight:Qr(e.tree,s,l)}),top:null,left:null,bottom:null,right:null,position:void 0}),fi(e.tree,s).forEach(({replicaRoot:C,relatedNode:T})=>{ze.resetOverridesByProperty(e.tree,C,T,["position"])})})}function kW(e,t){let o=de.maxX(e),r=de.maxX(t);return o>t.x&&r>e.x}function RW(e,t){let o=de.maxY(e),r=de.maxY(t);return o>t.y&&r>e.y}function Sg(e,t,o){if(!mt(o))return;let r=t==="width"?"widthType":"heightType";o.children.forEach(n=>{if(Ve(n)&&(n[r]===3||n[r]===1)){let i=e.getRect(n),a={[r]:0,[t]:i[t]};mi(n)&&(a.aspectRatio=null),e.current(n)?.set(a)}})}function xY(e,t){if(!mt(t)||!Ve(t))return;let o=new Set;t.children.forEach(r=>{if(!Ve(r)||!fn(r))return;let n=e.getRect(r),i={};t.widthType===2&&(r.widthType===3||r.widthType===1)&&(i.minWidth=n.width,o.add(r)),t.heightType===2&&(r.heightType===3||r.heightType===1)&&(i.minHeight=n.height),Object.keys(i).length>0&&(o.add(r),e.current(r)?.set(i))}),o.size>0&&wW()}function wW(){fs({type:"add",variant:"info",key:"setting-stack-direction-causes-children-change",text:"Layers in this stack received min-sizing to prevent a collapse",icon:"thumbnail",duration:5e3,showCloseButton:"always"})}function ru(e,t,o={}){if(!pr(t)||!mt(t)||no(t))return;let r={layout:"stack",...o},n=e.tree.getRect(t),i=e.tree.getScopeNodeFor(t),a=LN(t)||Ee(t)&&z(i)||t.__unsafeIsGroundNode(e.tree)&&Ct(i),s=a?"vertical":ow(e.tree,t.children,n),l=rw(e,t.children,s);Qe(t)||VW(e,l);let c=to(t),d=t.gap??e.stores.persistedUserDefaults.layoutGap,u=a?"start":"center";r.stackDirection=c?t.stackDirection??s:s,r.stackDistribution=c?t.stackDistribution??u:u,r.gap=c||PW(u)?d:0,r.stackAlignment=c?t.stackAlignment??_c:_c,r.stackWrapEnabled=c?t.stackWrapEnabled??!1:!1;let m=c&&Zo(t)?{padding:t.padding,paddingPerSide:t.paddingPerSide,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom}:{...tv};if(s==="horizontal"&&o.heightType===2||s==="vertical"&&o.widthType===2||iw(e,t.children,s,n,m),m.paddingPerSide){let{paddingTop:C,paddingRight:T,paddingBottom:N,paddingLeft:P}=m;C===T&&C===N&&C===P&&(m.paddingPerSide=!1,m.padding=C)}t.set({...r,...m})}var cw=900;function jY(e){return e.intrinsicWidth>=cw}function nu(e,t,o){if(Xe(t))return!1;let r=o??e.getParent(t.id);return!!(r&&Ce(r))}function UY(e){return e<=.5}function LW(e,t,o){if(!Fe(t)||!xo(t)||!Ce(t)||Co(t)||!nu(e,o,t))return!1;let r=Ae(o)&&st(o)&&o.widthType===1&&o.width===1;if(Ae(o)&&o.width<cw&&!r)return!1;let n=t.children.filter(d=>d.id!==o.id);if(n.length===0)return!0;let a=e.getRect(t).width||1,s=n.map(d=>e.getRect(d));return s.some(d=>d.width/a<.5)?!1:s.every((d,u)=>s.every((m,h)=>u===h?!0:!de.intersects(d,m)))}function JY(e,t,o,r){if(!pr(t)||!LW(e.tree,t,o))return;let n={};r.height>500&&(n.heightType=2),ru(e,t,n),t.set({gap:0})}function sw(e,t){for(let o of Object.values(e.variables))if(o?.type==="collectionreference"&&o.dataIdentifier===t)return o}function lw(e,t){return Object.values(e.variables).find(o=>o?.type==="multicollectionreference"&&o.dataIdentifier===t)}function DW(e,t){let o=Jd(t);if(br(o))return{targetDataIdentifier:o.dataIdentifier,targetProviderId:o.id};let r=e.stores.scopeStore.active;if(xt(r))return{targetDataIdentifier:r.dataIdentifier,targetProviderId:r.id}}function XY(e,t,o){if(!br(o))return;let r=DW(e,t);if(!r)return;let{targetDataIdentifier:n,targetProviderId:i}=r,a=pn(e.tree,o.dataIdentifier),s=pn(e.tree,n);if(!a||!s)return;let l=sw(a,n),c=lw(a,n),d=sw(s,o.dataIdentifier),u=lw(s,o.dataIdentifier),m;u?m={id:Gt(),itemKey:"id",transforms:[{id:Gt(),type:"valueTransform",name:"isIncludedIn",value:Ht(u.id,i)}]}:d?m={id:Gt(),itemKey:"id",transforms:[{id:Gt(),type:"valueTransform",name:"equals",value:Ht(d.id,i)}]}:c?m={id:Gt(),itemKey:c.id,transforms:[{id:Gt(),type:"valueTransform",name:"contains",value:Ht(qf,i)}]}:l&&(m={id:Gt(),itemKey:l.id,transforms:[{id:Gt(),type:"valueTransform",name:"equals",value:Ht(qf,i)}]}),m&&o.set({collectionFilters:{filters:[m]}})}function ZY(e,t,o,r){if(!Fe(t)||!xo(t)||!Ce(t)||!no(t)||t.stackDirection!=="vertical"||!nu(e.tree,o,t)||t.heightType===2||!dP(e.tree,e.componentLoader,t).height[2])return;let i=t.children.filter(c=>c.id!==o.id);if(i.length===0)return;let a=e.tree.getRect(t),s=i.map(c=>e.tree.getRect(c));de.merge(...s).height+r.height<=a.height||(t.set({height:a.height,heightType:2}),i.forEach((c,d)=>{let u=s[d];S(u,"Child rect must be defined"),Ae(c)&&st(c)&&c.heightType===3&&c.set({height:u.height,heightType:0})}))}function vg(e){let t=vo.boundingBox(e),o=e.pathSegments.map(r=>r.merge({x:r.x-t.x,y:r.y-t.y}));return[{pathClosed:e.pathClosed,pathSegments:o},t]}function dw(e,t,o,r){let n=Je("app:importSVG"),i=e,a,s;if(r&&r.colorable){let T=Qs(e,"image/svg+xml").documentElement;if(!T)throw new Error(`Unsupported SVG: ${e}}`);let N=T.getAttribute("fill"),P=!(N&&N.toLowerCase()==="none");if(P){if(r.fillType==="linear-gradient"&&r.fillLinearGradient instanceof pb)a={fillType:"linear-gradient",fillLinearGradient:r.fillLinearGradient};else if(r.fillType==="image"&&r.fillImage)a={fillType:"image",fillImage:r.fillImage,fillImageResize:r.fillImageResize,fillImagePixelWidth:r.fillImagePixelWidth,fillImagePixelHeight:r.fillImagePixelHeight};else if(r.fillType==="color"&&A(r.fillColor)){let k=Wd(),M=new k.Color(r.fillColor).toCSS(!1);P&&T.setAttribute("style",`fill: ${M}; color: ${M}`);let H=T.getAttribute("stroke");H&&H.toLowerCase()==="currentcolor"&&T.setAttribute("stroke",M)}i=T}}let l=FW(i);i=l.svgElement,s=l.svgSize;let c=!1,u=Wd().project.importSVG(i,{expandShapes:!0,insert:!1,size:o,onError:C=>{n.reportError(C),c=!0;let T=document&&document.getElementsByTagName("body");if(T&&T[0]){let N=T[0].lastElementChild;for(;N&&N.tagName==="svg";)N.remove(),N=T[0].lastElementChild}}});if(c)return null;let m;try{m=pw({item:u,fillOverrides:a,tree:t()})}catch(C){return n.reportError(C),null}let h=m[0];return h?(Ae(h)&&s&&h.set({width:s.width,height:s.height}),t().insertNodes(m).getNode(h.id)):null}function pw({item:e,tree:t,nodes:o=[],parent:r=null,parentAbsolutePosition:n=we(0,0),fillOverrides:i}){let a=Wd();return e instanceof a.Group?MW({group:e,nodes:o,parent:r,parentAbsolutePosition:n,tree:t,fillOverrides:i}):e instanceof a.PathItem?EW({item:e,nodes:o,parent:r,parentAbsolutePosition:n,fillOverrides:i}):(console.warn("Unhandled Paper item:",e),o)}function FW(e){let t=A(e)?Qs(e,"image/svg+xml").documentElement:e;if(!t)throw new Error(`Unsupported SVG: ${e}}`);let o,r=t.getAttribute("viewBox"),n=t.getAttribute("width"),i=t.getAttribute("height");if(r){let[a,s,l,c]=r.split(" ");l&&c&&(t.setAttribute("width",l),t.setAttribute("height",c),o={width:parseInt(l),height:parseInt(c)})}else n&&i&&(o={width:parseInt(n),height:parseInt(i)});return uw(t),{svgElement:t,svgSize:o}}function uw(e){AW(e);for(let t of e.children)uw(t)}function AW(e){let t=e.getAttribute("rx"),o=e.getAttribute("ry");!t&&!o||t&&o||(t?e.setAttribute("ry",t):o&&e.setAttribute("rx",o))}function EW({item:e,nodes:t=[],parent:o=null,parentAbsolutePosition:r=we(0,0),fillOverrides:n}){let i=mb({item:e,parentAbsolutePosition:r}),a=fb(e),s=o?o.id:ao;if(i.length===1){let c=i[0];S(c,"Path must be defined");let[{pathSegments:d,pathClosed:u},m]=vg(c);if(d.length){let h=new Ml({parentid:s,pathSegments:d,pathClosed:u,...a,...n,...m});t.push(h)}}else if(i.length){let c=mw(e),d=c.x-r.x,u=c.y-r.y,m=Gt(),h=[];if(i.forEach(C=>{let[{pathSegments:T,pathClosed:N},P]=vg(C);if(!T.length)return;let k=new Ml({parentid:m,pathSegments:T,pathClosed:N,...n,x:P.x-d,y:P.y-u,width:P.width,height:P.height});h.push(k)}),h.length){let C=e.fillRule==="evenodd"?3:4,T=new gp({id:m,parentid:s,pathBoolean:C,...a,...n,x:d,y:u,width:c.width,height:c.height});t.push(T,...h)}}return t}function MW({group:e,tree:t,nodes:o=[],parent:r=null,parentAbsolutePosition:n=we(0,0),fillOverrides:i}){let a=mw(e),s=r?r.id:ao,l,c;return s?(l=new kx({parentid:s,x:a.x-n.x,y:a.y-n.y,width:a.width,height:a.height}),c=we(a.x,a.y)):(l=new Wn({parentid:s,left:0,top:0,width:a.x+a.width,height:a.y+a.height,fillEnabled:!1}),c=we(0,0)),o.push(l),e.children.forEach(d=>{pw({item:d,nodes:o,parent:l,parentAbsolutePosition:c,tree:t,fillOverrides:i})}),o}function mw(e){let{x:t,y:o,width:r,height:n}=e.bounds;return{x:t,y:o,width:r,height:n}}function OW(e){return Ue(e)&&"iconURL"in e}function g2(e){return Ue(e.icon)?e.id==="WorkspacePluginsCategory"?!0:OW(e.icon):!1}var WW={DefaultCategory:!0,PluginsCategory:!0,ManagedCollectionPluginsCategory:!0,WorkspacePluginsCategory:!0};function y2(e){return A(e)?Object.hasOwn(WW,e):!1}var zW={FindNodesCategory:!0,PluginsCategory:!0,ManagedCollectionPluginsCategory:!0,WorkspacePluginsCategory:!0};function C2(e){return Object.hasOwn(zW,e)}function S2(e){return e?.kind==="item"}var fw=e=>e.root.children.reduce((o,r)=>(z(r)&&r.abTestingParentId&&o.add(r.abTestingParentId),o),new Set).size;var BW=(e,t)=>{e.stores.modalStore.set({type:"Confirmation",title:"Increase Limits",description:"You\u2019ve reached the limit for Advanced Analytics. Please contact your account manager to increase your limits and restore access to A/B testing and more.",source:t,confirmLabel:"Contact Us",cancelLabel:"Maybe Later",onConfirm:()=>lP(fP)})},$W=(e,t)=>{e.stores.modalStore.set({type:"UpsellEnterprise",source:t,description:"Sign up for an Enterprise plan to add even more A/B Tests, and get access to other powerful features.",upsell:"advanced-analytics-enterprise-upsell",upsellFeatures:["Custom Limits","Custom Hosting","Custom Proxy Support","Enterprise Security","Dedicated Support"]})},GW=(e,t)=>{S(e.stores.projectStore.project,"Project should be defined");let{usage:o,settings:{resourceLimits:{trackingEventsLimit:r}}}=e.stores.projectStore.project,n=o.advancedAnalytics?Math.max(o.advancedAnalytics.currentMonth,o.advancedAnalytics.previousMonth):1;n>(r===null?1/0:r)?e.stores.modalStore.set({type:"AcquireAddonModal",source:t,addonInfo:{addonLicenseType:"advancedAnalytics",quantity:n}}):e.stores.modalStore.set({type:"AcquireAdvancedAnalyticsTrialModal",source:t,onConfirm:mP})},hw=(e,t,o)=>{e.stores.modalStore.set({type:"UpsellFeature",upsellFeature:"abTests",title:"Advanced Analytics",description:o,source:t})},HW=()=>{fs({type:"add",key:"max-ab-test-limit-reached",variant:"info",text:"You\u2019ve reached the limit of 10 A/B tests for this project."})},gw=(e,t,o)=>{switch(o){case 0:hw(e,t,"Upgrade your site, add the Advanced Analytics add-on, and add more tests.");break;case 1:hw(e,t,"Upgrade your site to add the Advanced Analytics add-on and start improving your site with funnels and A/B testing.");break;case 2:GW(e,t);break;case 3:BW(e,t);break;case 5:$W(e,t);break;case 4:HW();break;default:G(o)}},yw=(e,{isAddingTest:t})=>{let{featureFlags:o,usageData:r,resourceLimits:n,projectLicenseType:i}=e.stores.projectStore,a=o?.canUseAdvancedAnalytics||"off",s=Math.max(r?.advancedAnalytics?.currentMonth??1,r?.advancedAnalytics?.previousMonth??1),l=n?.trackingEventsLimit||null,c=fw(e.tree)+(t?1:0),d=n?.abTests??1/0,u=c>d;return a!=="on"&&i==="enterpriseSite"?3:u&&i==="enterpriseSite"?4:a==="off"||u?c>uP?5:i==="freeSite"?0:1:a==="upsell"?2:l!==null&&s>l?i==="enterpriseSite"?3:2:null};var ua=class extends Error{constructor(o,r,n,i=!1){super(o);this.missing=r;this.error=n;this.wasTimeout=i}};function Tg(e){return e instanceof ua}var bg=Je("ensureComponentsInLoader"),_W=500,jW=30*1e3;async function iu(e,t,o,r){let n=Cw(t,e).length;if(n===0)return;let i=r??jW+n*2e3;bg.debug("modules:",t.length,", new:",n,", timeout:",i),await UW(e,o,i);let a=Cw(t,e);if(a.length===0)return;let s=JW(t,e);throw bg.debug("components loaded, but some are missing",{missing:a,errors:s}),new ua("ensureComponentsInLoader: Some modules are missing.",a,s)}async function UW(e,t,o){let r=performance.now(),n=await XW(async()=>(await Bm(o),"timeout"),async()=>{await t.whenIdle();let i=t.revision;return S(i>=0,"moduleStore.revision cannot be negative"),await t.loadAllLocalModules(),i});if(n==="timeout")throw new ua("ensureComponentsInLoader: Modules store not ready in time.",[],[],!0);for(let i=0;i<1e3;i++){let a=e.modulesRevision;if(n<=a)break;if(performance.now()-r>o)throw bg.debug("component loader not updated in time: want:",n,"got:",a),new ua("ensureComponentsInLoader: Component loader not updated in time.",[],[],!0);await Bm(_W)}}function Cw(e,t){let o=new Set;for(let r of e)t.componentForIdentifier(r)||o.add(r);return Array.from(o)}function JW(e,t){let o=new Set;for(let r of e)We(t.errorForIdentifier(r))||o.add(r);return Array.from(o)}async function XW(...e){return Promise.race(e.map(async t=>t()))}async function Sw(e,t,o){let r=[];e.forEach(n=>{let i=he(n);i&&i.kind==="externalModuleExport"&&r.push(i)}),r.length&&await t.preloadExternalModules(r),await iu(o,e,t)}function au(e,t,o,r,n){if(q(o.htmlContent))return;let i=e.getScopeNodeFor(t);S(i&&di(i),"Can't find scope with breakpoints");let s=i.getTopLevelVariants().map(l=>{let c=xo(l)?o.id:Yo(l.id,o.id),d=e.get(c);return S(d&&Pe(d),"Can't find rich text node in breakpoint"),[l,d]});for(let[l,c]of s){S(Ae(l),"Can't read width attribute of node");let d=up(r,u=>(u.breakpointWidth??0)>l.width)??n;c.detachTextStylePreset(d,!0)}}var Ig=["formButtonSuccessVariant","formButtonPendingVariant","formButtonErrorVariant","formButtonIncompleteVariant","whileOpenEffectVariant","appearEffectVisibleVariantId","appearEffectObscuredVariantId","dataLoaderLoadingVariant","dataLoaderDisabledVariant"];function Tw(e,t,o){let r=t.tokenOverrides;!r||Bt(r)||(bw(e,o,r),t.set({tokenOverrides:void 0}))}function bw(e,t,o){ZW(e,t.id,o);let r=[];for(let n of t.variables){if(!xw(n)){r.push(n);continue}switch(n.type){case"border":r.push(ji(n.initialValue)?{...n,initialValue:{...n.initialValue,borderColor:ft(n.initialValue.borderColor,o)}}:n);break;case"color":r.push({...n,initialValue:ft(n.initialValue,o)});break;default:G(n,"Unsupported variable type.")}}t.set({variables:r})}function ZW(e,t,o){let r=e.tree.get(t);if(r)for(let{node:n,skipChildren:i}of r.walkWithSkipChildren()){if(Qe(n)){i();continue}if(Iw(e,n,o),QW(e,n,o),!J(n)||n.isVectorInstance)continue;let a=n.getLocalSmartComponentNodeId();if(!a){n.set({tokenOverrides:o});continue}let s=e.tree.get(a);ue(s)&&s.isLoaded()&&(bw(e,s,o),e.stores.codeGenerationStore.updateComponent(s.id))}}function QW(e,t,o){let r=fi(e.tree,t);for(let n of r){let{relatedNode:i,replicaRoot:a}=n;a.replicaInfo.overrides[t.id]&&Iw(e,i,o)}}function Iw(e,t,o){if(Ao(t)){let r=ft(t.fillColor,o);r&&t.set({fillColor:r})}if(Ur(t)){let r=ft(t.borderColor,o);r&&t.set({borderColor:r})}if(tr(t)){let r=ft(t.strokeColor,o);r&&t.set({strokeColor:r})}if(Pe(t))if(t.htmlContent)KW(e,t,o);else{let r=new Map;for(let n in o){if(!mf(n))continue;let i=o[n],a=Vv(n);a&&r.set(a,`var(${n}, ${i})`)}t.replaceColorTokenVariables(r),t.hasLinks()&&t.remapLinkStylePresets(n=>{let i=Nw(e,n,o);if(Fo(i))return i})}else if(J(t)){let r=e.componentLoader.componentForIdentifier(t.codeComponentIdentifier);if(!r)return;let n=t.getControlProps(r.properties);if(!n)return;for(let i in n){let a=n[i];if(!(!a||!xw(a)))switch(a.type){case"border":if(!ji(a.value))break;t.setControlProp(i,{...a,value:{...a.value,borderColor:ft(a.value.borderColor,o)}});break;case"color":t.setControlProp(i,{...a,value:ft(a.value,o)});break;default:G(a,"Unsupported control type.")}}}}function KW(e,t,o){for(let r of ps){let n=t[r];if(!n)continue;let i=Nw(e,n,o);wl(i)&&t.set({[r]:i.id})}}function Nw(e,t,o){let r=e.tree.getNodeWithTrait(t,wl);if(!r)return;let n=qW(r,o);if(vw(r,n))return r;let i=On(e.tree),a=i.getStylePresets().filter(s=>s.id!==t&&vw(s,n));return a.length?a?.[0]:(e.tree.insertNode(n,i.id),e.stores.codeGenerationStore.createModuleFromComponentSource(n).catch(vr),n)}function vw(e,t){return e.__class!==t.__class?!1:io(e)&&io(t)||Fo(e)&&Fo(t)||ni(e)&&ni(t)||ur(e)&&ur(t)||nn(e)&&nn(t)?e.equals(t):!1}function qW(e,t){let o=e.clone();return YW(o,t),o}function YW(e,t){io(e)?(e.textColor=ft(e.textColor,t),e.textStrokeColor=ft(e.textStrokeColor,t),e.textDecorationColor=ft(e.textDecorationColor,t)):Fo(e)?(e.linkTextColor=ft(e.linkTextColor,t),e.linkTextDecorationColor=ft(e.linkTextDecorationColor,t),e.linkTextBackgroundColor=ft(e.linkTextBackgroundColor,t),e.linkHoverTextColor=ft(e.linkHoverTextColor,t),e.linkHoverTextDecorationColor=ft(e.linkHoverTextDecorationColor,t),e.linkHoverTextBackgroundColor=ft(e.linkHoverTextBackgroundColor,t),e.linkCurrentTextColor=ft(e.linkCurrentTextColor,t),e.linkCurrentTextDecorationColor=ft(e.linkCurrentTextDecorationColor,t),e.linkCurrentTextBackgroundColor=ft(e.linkCurrentTextBackgroundColor,t)):nn(e)?e.borderColor=ft(e.borderColor,t):ni(e)?(e.textColor=ft(e.textColor,t),e.textDecorationColor=ft(e.textDecorationColor,t),e.textStrokeColor=ft(e.textStrokeColor,t),e.borderColor=ft(e.borderColor,t),e.fillColor=ft(e.fillColor,t),e.lineColor=ft(e.lineColor,t)):ur(e)&&(e.inlineCodeTextColor=ft(e.inlineCodeTextColor,t),e.inlineCodeFillColor=ft(e.inlineCodeFillColor,t),e.borderColor=ft(e.borderColor,t))}function ft(e,t){if(We(e)||!Hr(e))return e;let{customProperty:o,metadata:r}=Pv(e);if(!mf(o))return e;let n=t[o];if(!n)return e;let i=`var(${o}, ${n})`;return r?`${i} ${r}`:i}function xw(e){switch(e.type){case"color":case"border":return!0;case"array":case"boolean":case"number":case"string":case"richtext":case"eventhandler":case"image":case"file":case"scrollsectionref":case"customcursor":case"cursor":case"transition":case"boxshadow":case"gap":case"padding":case"borderradius":case"collectionreference":case"multicollectionreference":case"trackingid":case"vectorsetitem":case"date":case"enum":case"link":case"linkrelvalues":case"fusednumber":case"object":case"font":case"pagescope":case"slot":case"slug":case"controlReference":case"nodePropertyControlReference":return!1;default:G(e,"Check if we support this variable type.")}}function Pw(e){if(!z(e))return!1;for(let t of e.children)if(!Ce(t)||mt(t)&&t.children.length>0)return!1;return!0}function Vw(e,t,o){if(xt(o))return;let r;e.stores.scopeStore.removeNode(t);let n=kn(e.tree,o.id);n&&e.tree.removeNode(n);let i=e.tree.root.homePageNodeId,a=kn(e.tree,t.id);a&&(t.id===i?e.tree.removeNode(a):a.set({webPageId:o.id})),e.tree.current(o)?.set({name:t.name,pagePath:t.pagePath}),e.tree.has(i)||(r??={},r.homePageNodeId=o.id),r&&e.tree.root.set(r)}function L5(e,t){return ez(e,t).map(o=>o.replicaInfo.overrides[o.originalid]).filter(Uo)}function Kl(e,t){return e.filter(o=>Ot(o)&&o.originalid===t.id).sort((o,r)=>(r.breakpointWidth??0)-(o.breakpointWidth??0))}function ez(e,t){let o=e.getPresetsListNode();S(o,"Can't find PresetsListNode");let r=o.children.filter(io);return Kl(r,t)}function Ts(e){if(!e)return!1;let t=he(e);return t?t.kind==="externalModuleExport"||t.kind==="localModuleExport":!1}function su(e,t){J(e)&&Ts(e.codeComponentIdentifier)&&t(e.codeComponentIdentifier),za(e)&&e.dataIdentifier&&t(e.dataIdentifier),pi(e)&&Ts(e.codeOverrideIdentifier)&&t(e.codeOverrideIdentifier),Ll(e)&&e.codeOverrides?.forEach(o=>{t(o.identifier)}),$r(e)&&$x(e).forEach(t),Ba(e)&&Ts(e.shaderModuleIdentifier)&&t(e.shaderModuleIdentifier)}function lu(e,t){let o={};if(J(e)&&Ts(e.codeComponentIdentifier)){let n=t(e.codeComponentIdentifier);n&&(o.codeComponentIdentifier=n)}if(za(e)&&e.dataIdentifier){let n=t(e.dataIdentifier);n&&(S(rt(n)),o.dataIdentifier=n)}if(pi(e)&&Ts(e.codeOverrideIdentifier)){let n=t(e.codeOverrideIdentifier);n&&(o.codeOverrideIdentifier=n)}if(Ll(e)&&e.codeOverrides){let n=!1,i=e.codeOverrides.map(a=>{let s=t(a.identifier);return s?(n=!0,{...a,identifier:s}):a});n&&(o.codeOverrides=i)}if($r(e)){let n=Bx(e,t);n&&Object.assign(o,n)}if(Ba(e)&&Ts(e.shaderModuleIdentifier)){let n=t(e.shaderModuleIdentifier);n&&(o.shaderModuleIdentifier=n)}if(Object.keys(o).length!==0)return o}function p4(e,t,o){if(!Pe(o))return;let r=o.getStylePresetsForCodeGeneration(e);for(let n of r){let i=e.getNodes(n.cache.replicaInstances??[]);for(let a of i)t[a.id]??=a.toJS();t[n.id]??=n.toJS()}}function Ng(e,t,o){for(let r of t){let n=e[r];if(!n)continue;let i=o(n);i&&i.id!==n&&e.set({[r]:i.id})}}function Rw({engine:e,node:t,pastedPresetMap:o,stylePresetNodes:r,shouldDetachTextStyles:n,breakpointVariantIds:i,shouldCreateNewPresets:a,reusePresetWithSameId:s}){if(!r)return;let l={pastedPresetMap:o,stylePresetNodes:r,shouldCreateNewPresets:a,reusePresetWithSameId:s},c=m=>tz(e,m,l);if(Ng(t,ix,c),t.remapTextStylePresets(c),!n)return;let d=Js(t),u=e.tree.getGroundNodeFor(t);for(let m of t.getStylePresetIdsForCodeGeneration()){let h=r.find(T=>T.id===m);if(!h||!Ga(h))continue;let C=Kl(r,h);if(d){au(e.tree,d,t,C,h);continue}if(i?.has(u.id)&&Ae(u)){let T=up(C,N=>(N.breakpointWidth??0)>u.width)??h;t.detachTextStylePreset(T,!1);continue}t.detachTextStylePreset(h,!1)}}function tz(e,t,{pastedPresetMap:o,stylePresetNodes:r,shouldCreateNewPresets:n,reusePresetWithSameId:i}){if(!r)return;let a=r.find(m=>m.id===t);if(!a)return;let s=e.tree.get(t);if(Ga(s)&&(i||s.equals(a)))return o.set(t,s),s;if(!n)return;let l=On(e.tree),c=l.getTextStylePresets().find(m=>m.equals(a));if(c&&Ga(c))return o.set(t,c),c;let d=s?a.clone():a.cloneWithIds();e.tree.insertNode(d,l.id),o.set(t,d);let u=r.filter(m=>m.originalid===t);for(let m of u){let h=e.tree.get(t);if(h&&LS(h)&&h.equals(m)){o.set(t,h);continue}let T=h?m.clone():m.cloneWithIds();e.tree.insertNode(T,l.id),o.set(t,T)}return d}function ww({engine:e,node:t,pastedPresetMap:o,stylePresetNodes:r}){if(!r)return;let n={pastedPresetMap:o,stylePresetNodes:r},i=a=>oz(e,a,n);Ng(t,sx,i),t.remapLinkStylePresets(i)}function oz(e,t,{pastedPresetMap:o,stylePresetNodes:r}){if(!r)return;let n=r.find(d=>d.id===t);if(!n||!Fo(n))return;let i=e.tree.get(t);if(i&&Fo(i)&&i.equals(n))return o.set(t,i),i;let s=On(e.tree),l=s.getLinkStylePresets().find(d=>d.equals(n));if(l&&Fo(l))return o.set(t,l),l;let c=i?n.clone():n.cloneWithIds();return e.tree.insertNode(c,s.id),o.set(t,c),c}function Lw({engine:e,node:t,pastedPresetMap:o,stylePresetNodes:r}){if(!r)return;let n={pastedPresetMap:o,stylePresetNodes:r},i=a=>rz(e,a,n);Ng(t,lx,i),t.remapInlineCodeStylePresets(i)}function rz(e,t,{pastedPresetMap:o,stylePresetNodes:r}){if(!r)return;let n=r.find(d=>d.id===t);if(!n||!ur(n))return;let i=e.tree.get(t);if(i&&ur(i)&&i.equals(n))return o.set(t,i),i;let s=On(e.tree),l=s.getInlineCodeStylePresets().find(d=>d.equals(n));if(l&&ur(l))return o.set(t,l),l;let c=i?n.clone():n.cloneWithIds();return e.tree.insertNode(c,s.id),o.set(t,c),c}function u4(e){if(z(e))return{id:e.id,pagePath:e.pagePath,webMetadata:e.webMetadata,dataIdentifier:e.dataIdentifier}}function m4(e,t,o,r,n){let i={},a=new Set;function s(l){su(l,c=>{if(n.has(c))return;let d=nz(e,c);d&&(i[c]=d);let u=uN(c,t,e,a);u&&Object.assign(i,u)})}for(let l of o.walk())s(l);return z(r)&&s(r),{moduleData:i}}function nz(e,t){let o=he(t);if(o&&o.kind==="localModuleExport"){let r=e.getPersistedModuleByLocalId(o.localId);return r?(S(r.files.module,"expected module typed file in persisted module"),zc(r.id,r.saveId,r.files.module,o.exportSpecifier)):void 0}if(o&&o.kind==="externalModuleExport")return o}function iz(e,t,o){let r=he(t);if(fo(r))return S(e.initialized,"Cannot paste modules before modulesStore has been initialized."),e.getPersistedModuleByLocalId(r.localId)?.id===o.moduleId?null:o.value;if(Tr(r)&&r.kind==="externalModuleExport"){let n=e.getPersistedModuleByGlobalId(r.moduleId)?.localId;return n?Bc(r,n).value:null}return null}function az(e,t,o,r,n){let i=r.cloneWithIds();i.set(n),e.removeNode(r),e.insertNode(i,t,o)}function f4(e,t,o,r){if(!r)return o;for(let n of o.root.walk())mt(n)&&n.children.forEach((i,a)=>{if(r){let s=lu(i,c=>{let d=r[c];if(!d)return;let u=iz(t,c,d);return u||void 0});if(!s)return;let l=o.current(i);if(!l)return;az(o,n.id,a,l,s)}});return o.commit(e)}function sz(e){return Ot(e)&&Ae(e)}function h4(e,t,o){let r=e.get(o.id);if(!r)return;let n=Js(r);if(!n||!Ce(n))return;let i=e.getNodes(n.cache.replicaInstances??[]).filter(sz);for(let{width:a,replicaInfo:s}of i){let l=t.get(a)??{},c=s.overrides[o.id];c&&(l[o.id]=c),t.set(a,l)}Ae(n)&&!t.get(n.width)&&t.set(n.width,{})}function vt(e,t,o,r){if(t){if(Hr(t)){let n=fd(t),i=e.get(n);if(i&&!(i.id in o)){let a=i.cloneWithIds();o[a.id]=a.toJS(),r&&(r[i.id]=kd())}return}if(hv(t)){vt(e,t.color,o,r);return}if(db(t)||cb(t)||ub(t)){for(let n of t.stops)vt(e,n.value,o,r);return}if(Ze(t)){for(let n of t)vt(e,n,o,r);return}if(ji(t)){vt(e,t.borderColor,o,r);return}}}function g4(e,t,o,r){for(let n in t)vt(e,t[n],o,r);if(Pe(t)){let n=t.getInlineStyleTokenVariables();if(vt(e,n,o,r),B(t.htmlContent)||B(t.textContent)){lz(e,t,o,r);return}let i=t.getTextStylePresets(!1);for(let a of i)a&&Dw(e,a,o,r);if(t.hasLinks()){let a=t.getLinkStylePresets(!0);for(let s of a){let l=e.getNodeWithTrait(s,Fo);l&&Fw(e,l,o,r)}}}}function Dw(e,t,o,r){let n=e.getNodeWithTrait(t,wl);n&&(io(n)?(vt(e,n.textColor,o,r),vt(e,n.textStrokeColor,o,r),vt(e,n.textDecorationColor,o,r)):Fo(n)?Fw(e,n,o,r):ni(n)?(vt(e,n.textColor,o,r),vt(e,n.textDecorationColor,o,r),vt(e,n.textStrokeColor,o,r),vt(e,n.borderColor,o,r),vt(e,n.fillColor,o,r),vt(e,n.lineColor,o,r)):ur(n)?(vt(e,n.inlineCodeTextColor,o,r),vt(e,n.inlineCodeFillColor,o,r),vt(e,n.borderColor,o,r)):nn(n)&&vt(e,n.borderColor,o,r))}function lz(e,t,o,r){for(let n of ps){let i=t[n];i&&Dw(e,i,o,r)}}function Fw(e,t,o,r){vt(e,t.linkTextColor,o,r),vt(e,t.linkTextDecorationColor,o,r),vt(e,t.linkTextBackgroundColor,o,r),vt(e,t.linkHoverTextColor,o,r),vt(e,t.linkHoverTextDecorationColor,o,r),vt(e,t.linkHoverTextBackgroundColor,o,r),vt(e,t.linkCurrentTextColor,o,r),vt(e,t.linkCurrentTextDecorationColor,o,r),vt(e,t.linkCurrentTextBackgroundColor,o,r)}function y4(e,t,o){let r=o-t;return Math.ceil(e/100*r+t)}function kw(e,t,o){if(xt(t)){let r=he(t.dataIdentifier);if(!fo(r))return;let n=e.getNodeWithTrait(r.localIdName,Rt);n&&(o.set(t.dataIdentifier,n),kw(e,n,o))}if(Rt(t))for(let r of t.variables){if(!hd(r))continue;let n=he(r.dataIdentifier);if(!fo(n))continue;let i=e.getNodeWithTrait(n.localIdName,Rt);i&&(o.has(r.dataIdentifier)||(o.set(r.dataIdentifier,i),kw(e,i,o)))}}function Aw(e,t,o,r,n,i){let a=Tx(n,z(o,!0));S(a.length>0,"Path must have at least one segment");let s=e.getRouteSegmentRootNode();return a.forEach((l,c)=>{let d=c===a.length-1,u=d?i?.positionInParent:void 0,m=Td(l)?r:void 0;m&&(l=ag(m,l,e,t));let h=s.children.find(T=>T.segment===l),C=h&&d&&o;if(!h||C&&h.webPageId){let T=new Cx({segment:l,webPageId:d?o?.id:void 0,dataIdentifier:m});e.insertNode(T,s.id,u),s=T}else C&&h.set({webPageId:o.id,dataIdentifier:m}),s=h}),S(In(s),"Current parent should be the created RouteSegmentNode"),s}function Ew(e,t){let o=kn(e,t);return e.get(o?.parentid)?.children.findIndex(n=>n.id===o?.id)}function bs(e,t,o=!1){let r={};for(let n in e){let i={...e[n]};"itemsOrder"in i&&Array.isArray(i.itemsOrder)&&o&&(i.itemsOrder=Xl(i.itemsOrder,t)),r[t.get(n)??n]=i}return r}var cu=class extends Map{get(t){let o=super.get(t);for(;o;){let r=super.get(o);if(r===void 0)break;o=r}return o}};function cz(e,t){if(rs(e)){if(!e.controls.target?.value)return;let o=t.get(e.controls.target.value);return o?{target:{...e.controls.target,value:o}}:void 0}if(Kr(e)){if(!e.controls.variantId?.value)return;let o=t.get(e.controls.variantId.value);return o?{variantId:{...e.controls.variantId,value:o}}:void 0}if(Qa(e)){if(!e.controls.overlay?.value)return;let o=t.get(e.controls.overlay.value);return o?{overlay:{...e.controls.overlay,value:o}}:void 0}}function Mw(e,t,o,r,n){let i=J(o),a={},s=!1,l=_d(t,o);for(let c in l){let d=i?wt(c):c;if(!Lt(e,o,d))continue;let u=l[c];if(!Ze(u))continue;let m=[],h=!1;for(let C of u){if(n&&(Qa(C)||Rd(C))){h=!0;continue}let N=cz(C,r);if(!N){m.push(C);continue}m.push({...C,controls:{...C.controls,...N}}),h=!0}h&&(i?a[wt(c)]={type:"eventhandler",value:m}:a[c]=m,s=!0)}s&&o.set(a,e)}function dz(e,t,o,r){let n={};function i(l){let c=e.get(l);c&&e.linkNodeChangesTo(c,o.id)}let a=rP(o,t);for(let l of a){if(!Lt(e,o,wt(l)))continue;let c=o.getRawControlProp(l);if(c){if(c.type==="slot"&&Ze(c.value)){let d=!1,u=c.value.map(m=>{if(!Ue(m))return m;let h="reference";if(!A(m[h]))return m;let C=r.get(m.reference);return C?(d=!0,i(C),{...m,[h]:C}):m});if(!d)continue;n[l]={type:"slot",value:u}}else if((c.type===null||c.type==="componentinstance")&&A(c.value)){let d=r.get(c.value);if(!d)continue;n[l]={type:"slot",value:[{id:"first-item",reference:d}]},i(d)}else if(Ze(c.value)){let d=!1,u=[];for(let m=0;m<c.value.length;m++){let h=c.value[m];if(!cd(h)||h.type!==null&&h.type!=="componentinstance"||!A(h.value))continue;let C=cv(h)?h.id:Gt(),T=r.get(h.value);u.push({id:C,reference:T??h.value}),T&&(i(T),d=!0)}if(!d)continue;n[l]={type:"slot",value:u}}}}if(Bt(n))return;let s=_a(n);o.set(s,e)}function pz(e,t,o,r){let n={},i=t.componentForIdentifier(o.codeComponentIdentifier)?.properties;for(let a in i){if(!Lt(e,o,wt(a)))continue;let s=i[a];if(s?.type!=="scrollsectionref")continue;let l=o.getRawControlProp(a);if(!l)continue;let c=Zv(s,l);if(!c||q(c)||!A(c.target))continue;let d=r.get(c.target);d&&(n[a]={type:"scrollsectionref",value:{...c,target:d}})}Bt(n)||o.set(_a(n),e)}function uz(e,t){if(eI(e)&&Ze(e.appearEffectScrollTargets)){let o=e.appearEffectScrollTargets.map(r=>{if(!r.target||q(r.target))return r;let n=t.get(r.target);return n?{id:Gt(),variant:r.variant,target:n}:r});e.set({appearEffectScrollTargets:o})}if(Kb(e)&&A(e.styleAppearEffectScrollTarget)){let o=t.get(e.styleAppearEffectScrollTarget);o&&e.set({styleAppearEffectScrollTarget:o})}if(Yb(e)&&Ze(e.styleTransformEffectScrollTargets)){let o=e.styleTransformEffectScrollTargets.map(r=>{if(!r.target||q(r.target))return r;let n=t.get(r.target);return n?{id:Gt(),style:r.style,target:n}:r});e.set({styleTransformEffectScrollTargets:o})}if(Xd(e)&&e.dragEffectConstraintElement){let o=t.get(e.dragEffectConstraintElement);o&&e.set({dragEffectConstraintElement:o})}if(SI(e)&&A(e.textEffectScrollTarget)){let o=t.get(e.textEffectScrollTarget);o&&e.set({textEffectScrollTarget:o})}}function zn(e,t,o,r,n){if(o=o.draftOrCurrent(),(Kt(o)||Vd(o))&&Mw(e,t,o,r,n),J(o)&&(Mw(e,t,o,r,n),dz(e,t,o,r),pz(e,t,o,r)),Vl(o)&&uz(o,r),er(o)&&o.formSubmitButtonId){let a=r.get(o.formSubmitButtonId);a&&o.set({formSubmitButtonId:a})}if(kN(o)&&o.dataSourceLoaderId){let a=r.get(o.dataSourceLoaderId);a&&o.set({dataSourceLoaderId:a})}if(Et(o)&&o.collectionRepeatedItemId){let a=r.get(o.collectionRepeatedItemId);a&&o.set({collectionRepeatedItemId:a})}if(xt(o)){let a=Ow(o.dataIdentifier,r);a&&o.set({dataIdentifier:a})}if(Rt(o)){let a=o.variables.map(s=>{if(!hd(s))return s;let l=Ow(s.dataIdentifier,r);return l?{...s,dataIdentifier:l}:s});Bi(o.variables,a)||o.set({variables:a})}$r(o)&&mz(o,r);let i=XN(e,o,a=>{if(!a.providerId)return;let s=r.get(a.providerId);if(s)return Ht(r.get(a.id)??a.id,s)});if(i&&o.set(i),o.children)for(let a of o.children)zn(e,t,a,r,n);return o}function Ow(e,t){let o=he(e);if(!fo(o))return null;let r=t.get(o.localIdName);return r?Wi(o.type,r,o.exportSpecifier).value:null}function mz(e,t){let o=e.getControlProps();for(let[r,n]of Object.entries(o)){if(n?.type==="collectionreference"&&A(n.value)){let i=t.get(n.value);i&&e.setControlProp(r,{...n,value:i})}if(n?.type==="multicollectionreference"&&!F(n.value)&&!B(n.value)){let i=n.value.map(a=>t.get(a)??a);Bi(n.value,i)||e.setControlProp(r,{...n,value:i})}}}function Ww(e){return Up(e)||Rt(e)}var zw=75,gz={mutable:!0,update:0};function ql(e,t,o,r,n=!1){function i(a,s,l=!1){let c=new a.constructor;c.assign(a,gz,{cache:c.cache,id:c.id}),qa(c)&&(c.itemsOrder=void 0),a.cache.insideVariant=l;let d=Rn(a)?a.getChildrenInVisualOrder():a.children;d&&(c.children=d.map(h=>i(h,c.id,l)));let u={parentid:s},m=lu(a,h=>{let C=he(h);if(C.kind==="localModuleExport"){let T=t.get(C.localId);if(T)return`${T}:${C.exportSpecifier}`}else if(C?.kind==="externalModuleExport"){let T=o.get(C.moduleId);if(T)return Bc(C,T).value}});if(m&&Object.assign(u,m),Ot(a)&&!Ee(a)&&Object.assign(u,{replicaInfo:void 0,originalid:void 0,...a.replicaInfo.overrides[a.replicaInfo.master],_deleted:void 0}),n&&Object.assign(u,{duplicatedFrom:bT(a.duplicatedFrom,a.id)}),c.assign(u),r){if(r.has(a.id)){let h=r.get(a.id);h&&r.set(h,c.id)}r.set(a.id,c.id),a.originalid&&!r.has(a.originalid)&&r.set(a.originalid,c.id)}return c}return i(e,void 0,Ee(e))}function yz(e){let t=new Map;for(let o of e)if(o.type==="local"){let r=o.moduleId;t.set(o.localId,zc(r,o.saveId,o.file).value)}return t}async function Bw(e){let t=new Map;for await(let o of e)if(o.type==="local"&&o.moduleType==="css"){let r=await Gw({moduleId:o.moduleId,saveId:o.saveId}),{__treeSerializationVersion:n,...i}=r,a=n||zw,{root:s}=Tf({root:i,version:a}),l=dh(s);io(l)&&t.set(l.id,l)}return[...t.values()]}function $w(e,t,o){let r=yz(o.imports),n=new Map,i=[];for(let a of e.walk())su(a,s=>{let l=he(s);if(fo(l)){let c=r.get(l.localId);if(!c)return;let{moduleId:d,saveId:u,file:m}=he(c);l=GC(l,d,u,m)}if(l.kind==="externalModuleExport"){let c=t.getPersistedModuleByGlobalId(l.moduleId);c?n.set(l.moduleId,c.localId):i.push(l)}});return{identifiers:i,localIdsToExternalIdentifiers:r,externalModuleIdsToLocalIds:n}}async function Gw({moduleId:e,saveId:t}){try{return await(await fetch(`${Wc().modulesCDN}/${e}/${t}/tree.json`)).json()}catch(o){vr(o)}}async function Hw(e,t){let[o,r]=await Promise.all([Gw(t),e.stores.modulesStore.getModuleDependencies(t)]);S(o,"Can't get tree.json for module identifier"),S(r,"Can't get dependencies for module identifier");let{__treeSerializationVersion:n,...i}=o,a=n||zw,{root:s}=Tf({root:i,version:a}),l=dh(s);return S(Ww(l),"Node should be un-linkable."),{node:l,dependencies:r}}async function _w(e,t,o){if(e.remoteDocument?.projectId&&t.assets.length>0)try{await e.stores.assetStore.assetService?.duplicateModuleAssets(o.moduleId,o.saveId)}catch{}}function Cz(e){return hP.has(e)}function P6(e,t){let o=pN(e.stores.modulesStore,e.tree,t);return o?Cz(o.moduleId):!1}function V6(e,t){let o=e.tree.getNodeWithTrait(t,od);if(!o)return!0;let r=e.componentLoader.componentForIdentifier(o.codeComponentIdentifier);return!!(r&&_C(r.annotations,"framerDisableUnlink"))}var Sz=Je("importExternalSmartComponentOrWebpage");function vz(e,t,o){let r=new Set(e.stores.scopeStore.getSmartComponentNodes().map(n=>n.name).filter(A));return o||t===null?Mo(o??"Component",r):Mo(t,r)}function Tz(e,t){let o={...e};switch(o.name){case"convertFromBoolean":{A(o.truthy)&&(o.truthy=t.get(o.truthy)??o.truthy),A(o.falsy)&&(o.falsy=t.get(o.falsy)??o.falsy);break}case"addImageAlt":case"arrayLength":case"arrayToArray":case"contains":case"containsAll":case"containsAny":case"convertFromEnum":case"convertFromString":case"endsWith":case"enumToDisplayName":case"equals":case"extractDateSegment":case"getGridColumnCSSValue":case"getGridRowCSSValue":case"getNumericColumnGap":case"greaterThan":case"htmlEscape":case"htmlUnescape":case"isAfter":case"isBefore":case"isBetweenDates":case"isEven":case"isIncludedIn":case"isOdd":case"isSet":case"jsonStringify":case"lessThan":case"negate":case"numberToPixelString":case"numberToString":case"offsetAndLimitArray":case"percentageToCornerShape":case"prefix":case"radiusForCorner":case"reverseArray":case"startsWith":case"suffix":case"toAxisOverflow":case"toBoolean":case"toDateString":case"toggleInList":case"toImageSrc":case"toNumber":case"toOverflowWithClipFallback":case"toResponsiveImage":case"toString":case"toZIndex":{Sz.reportError("remapVariantIdsInValueTransform encountered a transform that can't handle. If it mapped to component variants, they are broken and the user needs to manually remap them.",{transformName:o.name});break}default:G(o)}return o}function Pg(e,t,o,r,{insertionIndex:n,preferredName:i,enterIsolation:a=!0,localIdsToExternalIdentifiers:s=new Map,externalModuleIdsToLocalIds:l=new Map,instance:c,renamedIds:d=new Map,isAutoDetach:u=!1,intrinsicSize:m,textStylePresets:h,linkStylePresets:C,inlineCodeStylePresets:T,pastedPresetMap:N=new Map,shouldPasteTextStyles:P=!1,reusePresetWithSameId:k,abTesting:W=!1,cloneWithScopeIds:M=!1}={}){let H=u?Cp.createWithRouteSegmentRoot():e.tree,X={children:[]};if(z(t)){let R=t.id===e.tree.root.homePageNodeId?"Home":Si(e.tree,t),{suggestedName:ne,path:ae}=sg(i??R??"Page",e.tree,e.componentLoader,t,!0);X.pagePath=ae,X.name=ne}else X.name=vz(e,t.resolveValue("name"),i);let K;M?K=t.cloneWithIds(X):(K=t.clone(X),d.set(t.id,K.id)),ue(t)&&nR({componentId:K.id,source:r});let oe=K.instanceIdentifier,me=Ce(o),j=ql(o,s,l,d,me),xe=[j];K.baseVariantId=j.id,K.addChild(j);for(let R of t.children)if(!(R.id===o.id||Qo(R)))if(Ot(R)&&Ee(R)){let ne=bs(R.replicaInfo.overrides,d,!0);if(Ve(R)){ne[j.id]??={};let Te=ne[j.id];Te.top=R.top,Te.left=R.left,Te.right=R.right,Te.bottom=R.bottom,Te.centerAnchorX=R.centerAnchorX,Te.centerAnchorY=R.centerAnchorY}let ae=ze.create(e.tree,j,{overrides:ne,duplicatedFrom:hl(R)});d.set(R.id,ae.id),xe.push(ae),K.addChild(ae)}else{let ne=ql(R,s,l,void 0,me);xe.push(ne),d.set(R.id,ne.id),K.addChild(ne)}H.insertNode(K,void 0,n);for(let R=0;R<t.children.length;R++){let ne=t.children[R];if(!Qo(ne))continue;let ae=ze.create(H,j,{overrides:bs(ne.replicaInfo.overrides,d,!0),inheritsFrom:d.get(ne.replicaInfo.inheritsFrom),duplicatedFrom:hl(ne)});d.set(ne.id,ae.id),xe.push(ae),H.insertNode(ae,K.id,R)}let pe=jp(H);for(let R of xe){if(zn(H,e.componentLoader,R,d,!1),!h&&!C&&!T)continue;let ne=[];for(let ae of R.walk())Pe(ae)&&ne.push(ae);for(let ae of ne){let Te=ae.getStylePresetIdsForCodeGeneration();if(C&&ww({engine:e,node:ae,pastedPresetMap:N,stylePresetNodes:C}),T&&Lw({engine:e,node:ae,pastedPresetMap:N,stylePresetNodes:T}),h){if(P)Rw({engine:e,node:ae,pastedPresetMap:N,stylePresetNodes:h,shouldDetachTextStyles:!1,shouldCreateNewPresets:P,reusePresetWithSameId:k});else for(let gt of h)if(Te.has(gt.id))if(z(t)&&Ce(R)){if(Jo(R)){let yt=Kl(h,gt);au(H,j,ae,yt,gt)}}else(Jo(R)||Lt(H,ae,"html"))&&ae.detachTextStylePreset(gt,!1)}}for(let ae of ne){Lt(H,ae,"html")&&(ae.remapTextStylePresets((Te,gt)=>{let yt=bb(gt)?gt:"p",be=ae.getNodeTextStylePreset(H,yt)??mp(H,yt)??xb.createDefault(yt);return fx(e,be),be}),ae.remapLinkStylePresets(()=>{let Te=ae.getNodeLinkStylePreset(H)??ux(H)??tx.createDefault();return mx(e,Te),Te}),ae.remapInlineCodeStylePresets(()=>{let Te=ae.getNodeInlineCodeStylePreset(H)??dx(H)??new _N;return px(e,Te),Te}));for(let Te in pe)Lt(H,ae,Te)&&ae.set({[Te]:pe[Te]})}}let{codeGenerationStore:Ie}=e.stores;for(let R of N.values())Qe(R)||Ie.createModuleFromComponentSource(R).catch(vr);if(u)return H.commit(e.componentLoader),K.draftOrCurrent();{let R=H.get(K.baseVariantId);if(R&&xo(R))for(let ne of K.children)tl(ne)&&ne.replicaInfo.master===R.id&&ze.registerInInheritedNode(R,ne)}e.scheduler.process(()=>{if(!c)return;let R=e.tree.current(c)?.codeComponentIdentifier;if(R)for(let ne of e.stores.treeStore.treeIndex.codeComponentNodeIds){let ae=e.tree.getNodeWithTrait(ne,J);if(!ae||ae.codeComponentIdentifier!==R)continue;let Te={},gt={},yt=ae.getRawControlProps();if(yt.variant?.value&&A(yt.variant.value)){let be=d.get(yt.variant.value)??j.id,se={type:"enum",value:be};Te.variant=se}else if(yt.variant?.value&&Zt(yt.variant.value)){let be=yt.variant.value,se=be.transforms.map(Xt=>Tz(Xt,d)),Nt={type:"enum",value:{...be,transforms:se}};Te.variant=Nt}for(let be of Ig){let se=ae[be];A(se)&&(gt[be]=d.get(se)??void 0)}fi(e.tree,ae).forEach(({relatedNode:be,replicaRoot:se})=>{let Nt=se.replicaInfo.overrides[be.originalid];if(!Nt)return;let Xt={};for(let uo of Ig){if(!(uo in Nt))continue;let lr=Nt[uo];A(lr)&&(gt[uo]=d.get(lr)??void 0)}if(be.set(Xt),!(wt("variant")in Nt))return;let ro=be.getRawControlProp("variant");if(!ro||!A(ro.value))return;let Sr=d.get(ro.value);if(!Sr)return;let sr={type:"enum",value:Sr};be.set(_a({variant:sr}))}),ae.set({codeComponentIdentifier:oe,...gt,..._a(Te)})}});let Re=Ie.createModuleFromComponentSource(K,m);if(c&&Re.then(e.scheduler.wrapHandler(()=>{if(c=e.tree.get(c?.id),!c)return;let R=e.stores.treeStore.tree.getScopeNodeFor(c)?.loaded;if(!R||!un(R))return;let ne=e.stores.treeStore.tree.get(R.baseVariantId);ne&&xo(ne)&&Ie.updateComponent(R.id).catch(vr)})).catch(vr),a&&(e.stores.chromeStore.contentPanelTab="Layers",e.stores.scopeStore.select(K.id,{keepHistory:!0})),z(K)&&!W){S(A(X.pagePath),"pagePath should be a string");let R=Ew(e.tree,t.id),ne=te(R)?R+1:void 0;Aw(e.tree,e.componentLoader,K,K.dataIdentifier,X.pagePath,{positionInParent:ne})}return K.draftOrCurrent()}async function Uw(e,{identifier:t,enterIsolation:o,instance:r,isAutoDetach:n,renamedIds:i=new Map,info:a}){let{node:s,dependencies:l}=await Hw(e,t);S(Up(s),"Should be a generated node.");let c=e.tree.get(r?.getPrimaryId());S(!c||J(c),"instance should be a code component.");let d=s.children.find(P=>P.id===s.baseVariantId);S(d&&xo(d),"Unlink: Can't unlink a tree which doesn't have a Primary Variant node");let{identifiers:u,localIdsToExternalIdentifiers:m,externalModuleIdsToLocalIds:h}=$w(s,e.stores.modulesStore,l);if(await Sw(u.map(P=>P.value),e.stores.modulesStore,e.componentLoader),u.some(P=>{let k=e.componentLoader.dataForIdentifier(P.value);return k?tb(k):!1})){fs({type:"add",variant:"info",text:"Remove collection references before unlinking"});return}let T=await Bw(l.imports);return await _w(e,l,t),await e.stores.modulesStore.addExternalModulesToProject(u,{onTreeUpdate:()=>{let P=e.tree.current(c),k=gf(a.module.metadata.intrinsicWidth,!0)??200,W=gf(a.module.metadata.intrinsicHeight,!0)??200,M=Pg(e,s,d,"unlink",{enterIsolation:o,localIdsToExternalIdentifiers:m,externalModuleIdsToLocalIds:h,instance:P,renamedIds:i,isAutoDetach:n,intrinsicSize:{width:k,height:W},textStylePresets:T});return P&&ue(M)&&Tw(e,P,M),M}})}async function v3(e,t){let o=await Uw(e,t);if(!o)return;S(ue(o),"node should be a smart component");let{isAutoDetach:r}=t;return r||await e.stores.codeGenerationStore.untilCompiled(o.id),o.draftOrCurrent()}async function T3(e,t){let[o]=await e.stores.modulesStore.preloadExternalModules([t]);if(!o)return;let r=await Uw(e,{identifier:t,enterIsolation:!1,info:o});S(z(r),"node should be a web page");let{path:n,suggestedName:i}=sg(r.resolveValue("name")??"Page",e.tree,e.componentLoader,r,!0);return e.scheduler.processWhenReady(()=>{e.tree.current(r)?.set({name:i,pagePath:n});let a=e.stores.scopeStore.active;Pw(a)&&Vw(e,a,r),e.stores.scopeStore.select(r.id,{keepHistory:!1})}),r}function Jw(e,t){let o=t.getAbTestingChildren(e.tree)??Yn(),r;for(let a=0;a<=o.length;a++){let s=a===0?"Variant":`Variant ${a}`;if(o.every(l=>l.name!==s)){r=s;break}}let n=o[o.length-1]??t,i=Pg(e,t,t.getPrimaryVariant(),"duplicate",{enterIsolation:!1,preferredName:r,insertionIndex:e.tree.root.children.findIndex(a=>a.id===n.id)+1,abTesting:!0});if(i.set({abTestingParentId:t.abTestingParentId??t.id,abTestingDistributionWeightPpm:Lx().abTestingDistributionWeightPpm,isDraft:void 0}),It("ab_variant_create",{pageId:i.id,abTestingParentId:t.abTestingParentId??t.id}),e.stores.scopeStore.select(i.id,{keepHistory:!1}),e.stores.chromeStore.contentPanelTab="Pages",!t.abTestingParentId){let a=kn(e.tree,t.id)?.id??Ix;a&&e.stores.chromeStore.expandRouteSegment(a)}}function Xw(e,t,o,r){let n=yw(e,{isAddingTest:!1});if(n!==null){gw(e,r,n);return}let i=t.getAbTestingFunnel(o)?.status===2,a=e.scheduler.wrapHandler(()=>Jw(e,t));if(!i)return a();e.stores.modalStore.set({type:"ConfirmUpdatingAbVariants",source:r,title:"Updating Variants",description:"Updating variants while running an A/B test could potentially skew your results.",confirmLabel:"Confirm",onConfirm:a,variant:"destructive"})}function du(e){let t=e.getContentManagementNode();if(t)return S(t.isLoaded(),"ContentManagementNode should be loaded"),t;let o=new SN;return e.insertNode(o,e.root.id),o}function Zw(e){if(e!==void 0)switch(e){case 2:return"auto";case 0:return"fixed";case 3:return"fraction";case 1:return"percentage";case 4:return"viewport";case 5:return"fit-image";default:G(e)}}function Qw(e,{widthType:t,heightType:o},r){if(!Ve(e))return;let n=t!==void 0&&e.widthType!==t,i=o!==void 0&&e.heightType!==o;!n&&!i||sR({widthType:Zw(t),heightType:Zw(o),source:r,nodeType:e.__class,componentId:J(e)?e.codeComponentIdentifier:void 0})}function Vg(e){if(!mt(e)||$e(e))return 0;let t=0,o=e.children.length;return t+=o,e.children.forEach(r=>{t+=Vg(r)}),t}function Kw(e,t,o,r,n){let i=Yp(r,o),a=new Map(Object.entries(i)),s=new Map;s.set(n,a);let l={};for(let c of e.walk()){let d=pp(t,n,c,s);d&&(l[c.getPrimaryId()]=d)}return l}function qw(e){let{left:t,top:o,right:r,bottom:n,centerAnchorX:i,centerAnchorY:a,constraintsLocked:s,width:l,widthType:c,height:d,heightType:u,aspectRatio:m,name:h,...C}=e;return C}function Yw(e,t){let o=e.getPropertyControlsForIdentifier(t.codeComponentIdentifier);if(!o)return;let r={},n=Object.keys(o);for(let i of n){let a=o[i];if(!a||a.type!=="eventhandler")continue;let s=t.getRawControlProp(i);if(!s)continue;let{value:l}=s;!Array.isArray(l)||l.length===0||(r[i]=l)}return r}function pu(e,{opacity:t,rotation:o}){if(q(t))e.opacity=t;else if(e?.opacity||t){let r=te(t)?t:1;e.opacity=(e.opacity??1)*r}if(q(o))e.rotation=o;else if(e?.rotation||o){let r=te(o)?o:0;e.rotation=(e.rotation??0)+r}}function u8(e){return e.every(t=>Fe(t)||Xe(t)||J(t))}function m8(e,t,o){return o?!1:t.every(r=>{if(!Fe(r)&&!J(r)&&!Pe(r)||Ce(r)||Fe(r)&&es(r).length===0)return!1;if(J(r)){let n=r.getSupportedLayout(e);if(!ei(n.width)||!ei(n.height))return!1}return r.widthType!==2||r.heightType!==2})}function eL(e,t,o){for(let r of t)if(Xe(r)||J(r))r.set({widthType:2,heightType:2}),Xe(r)&&o&&It("layout_fit_text",{source:o});else if(Fe(r)){let n={widthType:2,heightType:2,aspectRatio:null};no(r)||ru(e,r,n),Sg(e.tree,"width",r),Sg(e.tree,"height",r),NN(r)&&(n.framePreset=null),r.set(n),o&&It("layout_stack",{layoutType:"stack",source:o})}}var bz=/([a-z]+)([\dA-Z]+)/gu;function Iz(e){return e.replaceAll(bz,(t,o,r)=>`${o}_${r.toLowerCase()}`)}function kg(e){return Object.fromEntries(Object.entries(e).map(([t,o])=>[Iz(t),o]))}var xi=Je("ChatStreamer"),Nz="/ai/v2/chat/",tL=-1,xz=Gt(),uu=class{constructor(t){this.type=t;D(this,"streamID","");D(this,"subscribers",new Set);D(this,"currentStream");D(this,"abortController");D(this,"cancel",()=>{this.abortController&&(xi.debug("Stream",this.streamID,"cancelled"),this.abortController.abort(),this.abortController=void 0)})}async start({model:t,user:o,messages:r,responseFormat:n,reasoning:i,onText:a}){this.cancel(),tL++,this.streamID=`${xz}-${tL}-${this.type}`,this.emitChatEvent({type:"start",streamID:this.streamID,messages:r});let s=!1,l=h=>{let C;Ue(h)&&A(h.message)?C=h.message:C=String(h),s||(s=!0,this.emitChatEvent({type:"done",streamID:this.streamID,error:C})),xi.warn("ChatStreamer error:",h)},c=()=>{s||(s=!0,this.emitChatEvent({type:"done",streamID:this.streamID}))};this.abortController=new AbortController;let d="",u=n?kg(n):void 0,m=kg({messages:r,model:t,stream:!0,user:o,responseFormat:u,reasoning:i});this.currentStream=gP.postStream(Nz,{signal:this.abortController.signal,openWhenHidden:!0,onclose:()=>{if(s)return;s=!0;let h="Chat stream closed before done";throw new Error(h)},onerror:h=>{throw s=!0,h},onmessage:h=>{if(xi.trace(h.event,h.id,h.data),h.data==="[DONE]"){xi.debug("ChatStreamer finished with content:",d),c();return}if(h.data.length===0){xi.debug("ChatStreamer stream empty");return}let C=JSON.parse(h.data);if("error"in C){let P=C.error,k=JSON.parse(P.metadata.raw);xi.error(`ChatStreamer error '${P.message}' with code`,P.code,"and raw error",k);return}let T=C.choices[0];if(!T)return;T.finish_reason&&xi.debug("Finishing chat completion with reason:",T.finish_reason);let{content:N}=T.delta;N&&(d+=N,this.emitChatEvent({type:"stream",streamID:this.streamID,content:N}),a(N))}},m);try{await this.currentStream}catch(h){throw l(h),h}finally{this.currentStream=void 0,this.abortController=void 0}return d}get isFinished(){return F(this.currentStream)}async waitUntilFinished(){await this.currentStream}subscribeChatEvent(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}emitChatEvent(t){this.subscribers.forEach(o=>{try{o(t)}catch(r){xi.error(r)}})}};var Rg=class{constructor(t){this.separator=t;D(this,"buffer","");D(this,"scanIndex",0);D(this,"inQuote",null);D(this,"text","")}append(t){this.buffer+=t,this.text+=t}getText(){return this.text}process(){for(;this.scanIndex<this.buffer.length;){let t=this.buffer[this.scanIndex];if(t==='"'||t==="'"){this.isEscaped(this.scanIndex)||(We(this.inQuote)?this.inQuote=t:this.inQuote===t&&(this.inQuote=null)),this.scanIndex++;continue}if(We(this.inQuote)&&this.buffer.startsWith(this.separator,this.scanIndex)){let o=this.buffer.slice(0,this.scanIndex);return this.buffer=this.buffer.slice(this.scanIndex+this.separator.length),this.scanIndex=0,o}if(We(this.inQuote)&&this.separator.length>1&&this.scanIndex>=this.buffer.length-this.separator.length+1)return;this.scanIndex++}}isEscaped(t){let o=0,r=t-1;for(;r>=0&&this.buffer[r]==="\\";)o++,r--;return o%2===1}finalize(){this.buffer.trim().length!==0&&(this.buffer.endsWith(this.separator)||(this.buffer+=this.separator,this.text+=this.separator))}},mu=class{constructor(t,o,r,n){this.separator=t;this.parseCommand=o;this.onCommand=r;this.onError=n;D(this,"buffer");D(this,"commands",[]);D(this,"isFinalized",!1);this.buffer=new Rg(t)}addToken(t){return S(!this.isFinalized,"Parser has been finalized, cannot add more tokens"),this.buffer.append(t),this.processBuffer(),this.buffer.getText()}processBuffer(){let t;for(;(t=this.buffer.process())!==void 0;)try{let o=this.parseCommand(t);this.commands.push(o),this.onCommand(o,t)}catch(o){this.onError?.(t,o)}}finalize(){return this.isFinalized?{commands:this.commands,text:this.buffer.getText()}:(this.isFinalized=!0,this.buffer.finalize(),this.processBuffer(),{commands:this.commands,text:this.buffer.getText()})}};var Pz={"openai/gpt-3.5-turbo-1106":!0,"openai/gpt-4":!0,"openai/gpt-4o-2024-08-06":!0,"openai/gpt-4o-mini-2024-07-18":!0,"google/gemini-2.0-flash-001":!0,"google/gemini-2.5-flash":!0,"google/gemini-2.5-flash-lite":!0,"google/gemini-2.5-pro":!0,"google/gemini-3-pro-preview":!0,"google/gemini-3-flash-preview":!0,"openai/gpt-4.1":!0,"openai/gpt-5.1":!0,"openai/gpt-5.2":!0,"anthropic/claude-haiku-4.5":!0,"anthropic/claude-sonnet-4.5":!0,"anthropic/claude-opus-4.5":!0,"anthropic/claude-opus-4.6":!0,"moonshotai/kimi-k2.5":!0},R8=Wa(Pz);function w8(e){switch(e){case"google/gemini-2.0-flash-001":case"google/gemini-2.5-flash":case"google/gemini-2.5-flash-lite":case"google/gemini-2.5-pro":case"google/gemini-3-pro-preview":case"google/gemini-3-flash-preview":case"openai/gpt-4.1":case"openai/gpt-3.5-turbo-1106":case"openai/gpt-4":case"openai/gpt-4o-2024-08-06":case"openai/gpt-4o-mini-2024-07-18":return{effort:"minimal",enabled:!0};case"anthropic/claude-haiku-4.5":case"anthropic/claude-sonnet-4.5":case"anthropic/claude-opus-4.5":case"anthropic/claude-opus-4.6":return{effort:"low",enabled:!0};case"openai/gpt-5.1":case"openai/gpt-5.2":return{effort:"none",enabled:!0};case"moonshotai/kimi-k2.5":return;default:G(e,"Model must have reasoning specified.")}}function L8(e){switch(e){case"google/gemini-2.5-flash":case"google/gemini-2.0-flash-001":case"google/gemini-2.5-flash-lite":case"google/gemini-2.5-pro":case"openai/gpt-4.1":case"openai/gpt-5.1":case"openai/gpt-5.2":case"openai/gpt-3.5-turbo-1106":case"openai/gpt-4":case"openai/gpt-4o-2024-08-06":case"openai/gpt-4o-mini-2024-07-18":return;case"moonshotai/kimi-k2.5":return{only:["fireworks","moonshotai"]};case"anthropic/claude-haiku-4.5":case"anthropic/claude-sonnet-4.5":return{ignore:["anthropic"]};case"anthropic/claude-opus-4.5":case"anthropic/claude-opus-4.6":return{ignore:["anthropic","google-vertex"]};case"google/gemini-3-pro-preview":case"google/gemini-3-flash-preview":return{only:["google-vertex"]};default:G(e,"Model must have provider specified.")}}var D8={"openai/gpt-3.5-turbo-1106":"GPT-3.5 Turbo","openai/gpt-4":"GPT-4","openai/gpt-4o-2024-08-06":"GPT-4o","openai/gpt-4o-mini-2024-07-18":"GPT-4o Mini","google/gemini-2.0-flash-001":"Gemini 2.0 Flash","google/gemini-2.5-flash":"Gemini 2.5 Flash","google/gemini-2.5-flash-lite":"Gemini 2.5 Flash Lite","google/gemini-2.5-pro":"Gemini 2.5 Pro","google/gemini-3-pro-preview":"Gemini 3 Pro","google/gemini-3-flash-preview":"Gemini 3 Flash","openai/gpt-4.1":"GPT-4.1","openai/gpt-5.1":"GPT-5.1","openai/gpt-5.2":"GPT-5.2","anthropic/claude-haiku-4.5":"Haiku 4.5","anthropic/claude-sonnet-4.5":"Sonnet 4.5","anthropic/claude-opus-4.5":"Opus 4.5","anthropic/claude-opus-4.6":"Opus 4.6","moonshotai/kimi-k2.5":"Kimi K2.5"},F8={"openai/gpt-5.1":{allowedFileTypes:["image/*"],maxAttachments:10,totalSizeLimit:wg(50)},"openai/gpt-5.2":{allowedFileTypes:["image/*"],maxAttachments:10,totalSizeLimit:wg(50)},"anthropic/claude-sonnet-4.5":{allowedFileTypes:["image/*"],maxAttachments:5,totalSizeLimit:wg(30),maxResolution:8e3}};function wg(e){return e*1024*1024}var Vz=Je("OverlayCollector"),Is=class Is{constructor(t){D(this,"treeStore");D(this,"bindings");D(this,"bindingsByOverlayId",new Map);D(this,"bindingsByOverlayTriggerId",new Map);D(this,"relativeOverlayTriggerIds",new Set);this.treeStore=t.treeStore,this.bindings=t.bindings}static overlayMethod(t,o){return new I(`${t}.${o}`)}addOverlayTrigger(t,o){let r=this.treeStore.tree.get(t);if(!r)return;let n=this.treeStore.tree.get(o);if(!n)return;let i=this.treeStore.tree.get(n.getPrimaryId());if(!i)return;if(!n?.children?.find(c=>c.getPrimaryId()===t&&ct(c))){Vz.reportError("OverlayCollector: Tried to create a event handler to show an overlay which is not a descendant of the trigger.",{triggerId:o,overlayId:t});return}let s=this.bindingsByOverlayId.get(t)??this.bindings.create("overlay");this.bindingsByOverlayId.set(t,s);let l=this.bindingsByOverlayTriggerId.get(i.id)??new Map;return l.set(r.getPrimaryId(),s),this.bindingsByOverlayTriggerId.set(i.id,l),lt(r)&&this.relativeOverlayTriggerIds.add(i.id),I.fn(Is.overlayMethod(Is.OverlayBinding,lt(r)?"show":"toggle"))}hasAncestorOverlayBinding(t){if(!_r(t))return!1;let o=this.getOverlayIdForNode(t);return S(o,"overlayAncestorId must not be null when nodeIsInOverlay is true"),this.bindingsByOverlayId.has(o)}getOverlayIdForNode(t){return Qe(t)?this.treeStore.tree.get(t.cache.overlayAncestorId)?.originalid:t.cache.overlayAncestorId}};D(Is,"OverlayBinding",p`overlay`),D(Is,"Api",{visible:"visible",show:"show",hide:"hide",toggle:"toggle"});var or=Is;function fu(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":return!0;default:return!1}}function Lr(e){return J(e)&&!fu(e)&&!e.isVectorInstance}function oL(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":case"framer/Prototype":return!0;default:return!1}}function rL(e){switch(e.codeComponentIdentifier){case"framer/Page":return"Page";case"framer/Scroll":return"Scroll";case"framer/Prototype":return"DeviceCodeComponent"}}var nL=dr("componentPresets","componentPresets");function iL(e,t){let o=e.getPresetsListNode();return o?o.getComponentPresets().find(r=>r.componentIdentifier===t)??null:null}function aL(e,t){let{treeStore:o}=e.stores;if(o.tree.has(t.id))return;let r=iL(o.tree,t.componentIdentifier),n=On(o.tree),i=cx(n.children,s=>$a(s)&&s.componentIdentifier!==t.componentIdentifier);i!==-1&&(i+=1),o.tree.insertNode(t,n.id,i),Za(e)&&e.stores.codeGenerationStore.createModuleFromComponentSource(n).catch(vr),Tr(t.componentIdentifier)&&e.stores.modulesStore.addExternalModulesToProject([t.componentIdentifier],{onTreeUpdate(){}});let a=fl(t.componentIdentifier);r||e.scheduler.runWithFullyLoadedTree(()=>{let s=o.getLoadedIndexes();for(let l of s.richTextNodes)l.htmlContent&&Lt(o.tree,l,a)&&l.setComponentPreset(t.componentIdentifier,t.id)},{runInBackground:!0,name:"insertComponentPreset"})}function kz(e,t){if(iL(e.tree,t.componentIdentifier))return;let r=Yf.createDefault(t);aL(e,r)}function t7(e,t,o){e.scheduler.processWhenReady(()=>{let n=On(e.tree).getComponentPresets(),i=new Set;for(let s of n){let l=s.resolveValue("name");l&&i.add(l)}let a=Yf.createDefault(t,{name:Mo(t.name,i)});aL(e,a);try{o&&o(a)}catch{}})}function o7(e,t){return e.getPresetsListNode()?.getComponentPresets().filter(r=>r.componentIdentifier===t)??[]}function r7(e,t,o){let r=he(t);function n(a){let s=he(a);return s.kind==="externalModuleExport"&&r.kind==="externalModuleExport"&&s.moduleId===r.moduleId&&s.exportSpecifier===r.exportSpecifier}let i=e.getPresetsListNode();if(i){let a=i.getComponentPresets();for(let s of a)n(s.componentIdentifier)&&s.set({componentIdentifier:o})}S(!e.getService("loader"),"Tree should be fully loaded");for(let a of e.root.walk()){if(!Pe(a))continue;let s=a.getComponentPresets();for(let[l,c]of s){let d=fl(l);n(l)&&Lt(e,a,d)&&(a.setComponentPreset(o,c),a.setComponentPreset(l,void 0))}}}function n7(e,t,o){let r=t.find(n=>n.componentIdentifier===o);r&&kz(e,r)}var Rz=e=>[`.${e}[data-border="true"]::after, .${e} [data-border="true"]::after { content: ""; border-width: var(--border-top-width, 0) var(--border-right-width, 0) var(--border-bottom-width, 0) var(--border-left-width, 0); border-color: var(--border-color, none); border-style: var(--border-style, none); width: 100%; height: 100%; position: absolute; box-sizing: border-box; left: 0; top: 0; border-radius: inherit; corner-shape: inherit; pointer-events: none; }`],wz=e=>[`.${e}[data-selection="true"] * ::selection, .${e} [data-selection="true"] * ::selection { color: var(--selection-color, none); background-color: var(--selection-background-color, none); }`],Lz=e=>[`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar { width: 0px; height: 0px; }`,`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar-thumb, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar-thumb { background: transparent; }`,`.${e}[data-hide-scrollbars="true"], .${e} [data-hide-scrollbars="true"] { scrollbar-width: none; }`],sL="data-layout-template",Dz={0:Rz,1:Lz,2:wz},Lg="-container",Ns,hu=class{constructor(t,o,r,n){this.entryNode=t;this.sourceNode=o;this.serializationId=r;this.cssVariableDefinitions=n;D(this,"sharedStyleIds",new Set);D(this,"rules",{});D(this,"nodeClassNames",new Map);ce(this,Ns,new Set);D(this,"selectorsByNodeId",new Map)}getNodeIdForClassName(t){let o=t.endsWith(Lg)?t.slice(0,-Lg.length):t;return this.nodeClassNames.get(o)}get(t=this.sourceNode.id){return t===this.sourceNode.id&&this.getWideGamutColorRule(),{rules:this.rules[t]??new Map}}createScopingSelector(t,o){if(t){let r=`.${this.serializationId}.${cT}v-${Ut(t)}`;return o?`${r}.${o}`:r}return`.${this.serializationId}`}createSelector(t,o,r,n,i=t===this.sourceNode.id){let a=this.createScopingSelector(r,n);return t===this.entryNode.id?`${a}.${o}, ${a} .${o}`:i?`${a}.${o}`:`${a} .${o}`}addRule(t,o,r={}){let{scope:n,gesture:i,container:a,ruleType:s=0,hasScopingSelector:l}=r,c=o.getPrimaryId(),d=dT(s,c);this.nodeClassNames.has(d)||this.nodeClassNames.set(d,o.id),a&&(d+=Lg);let u=this.createSelector(c,d,n,i,l);this.selectorsByNodeId.set(c,u);let m=r.variant?.id??this.sourceNode.id;if(this.createRule(u,Ef(t),m),Az(t)){let h=Mz(o,this.serializationId);for(let C in h)this.createRule(C,Ef(h[C]),m)}return d}addConditionalRule(t){E(this,Ns).add(t)}hasConditionalRule(t){return E(this,Ns).has(t)}conditionalRules(t){let o=[];return E(this,Ns).forEach(r=>{let n=Dz[r],i=n(t);o.push(...i)}),o}addSharedStyle(t){this.sharedStyleIds.add(t)}createRule(t,o,r=this.sourceNode.id){let n=this.rules[r];if(n){n.set(t,o);return}this.rules[r]=new Map([[t,o]])}getWideGamutColorRule(){let t=this.cssVariableDefinitions.getWideGamutColorRules(`.${this.serializationId}`,this.selectorsByNodeId);t.length!==0&&this.createRule("@supports (color: color(display-p3 1 1 1))",t.join(" "))}};Ns=new WeakMap;var Fz="viewTransitionName";function Az(e){return Fz in e&&Ez(e)}var lL="-exclude";function Ez(e){return XC(e.viewTransitionName)&&e.viewTransitionName.endsWith(lL)}function Dg(e,t,o){let r=Ut(e.getPrimaryId());return o?`${t}-${r}${lL}`:r}function Mz(e,t){let o=Dg(e,t,!0);return{[`::view-transition-group(${o})`]:{animation:"none !important"},[`::view-transition-new(${o})`]:{animation:"none !important"},[`::view-transition-old(${o})`]:{animation:"none !important"}}}function cL(e,t,o){return!!(et(e)||et(t)||e.id===o.rootId)}var gu=class{constructor(t,o){this.repeaterNode=t;this.parent=o;D(this,"subqueries",new Map);D(this,"variableDependencies",new Map);D(this,"childRepeaterIds",new Set)}addSubquery(t,o,r){let n=this.getSubqueries(t);n.set(o,r),this.subqueries.set(t,n),this.childRepeaterIds.add(o)}getSubqueries(t){return this.subqueries.get(t)??new Map}addVariableDependencies(t,o){let r=this.getVariableDependencies(t);r.push(...o),this.variableDependencies.set(t,r)}getVariableDependencies(t){return this.variableDependencies.get(t)??[]}};function Fg(e,t){if(!Jr(e)||F(e.visible))return!0;if(B(e.visible)){let o=t.createDeduplicatedDynamicValueBinding(e.visible,e,"visible");return p`${o} !== false`}return e.isVisible()}function Ag(e,t,o,r){if(o.inComponentSlot||r||Pe(e)||so(e)||lt(e)||on(e)||lo(e)&&at.isOn("layoutScroll")||Kt(e)&&xT.some(i=>(e[i]?.length??0)>0)||co(e)&&!Xe(e)||ss(t.scopeType)&&(op(e)||Ci(e)||yd(t.treeStore.tree,e)&&tp(e)))return!0;switch(t.scopeType){case"CanvasPage":return!0;case"SmartComponent":return!0;case"LayoutTemplate":case"WebPage":case"DesignPage":if(Ee(e)||Kd(e))return!0;if(xr(e)){let i=e.rotation;if(B(i)||te(i)&&i!==0)return!0}return rp(e);case"VectorSet":return!1;default:ho(t.scopeType)}}function rr(e,t){if(Number.isNaN(e)&&Number.isNaN(t)||e===t)return!0;if(We(e)||We(t)||A(e)||A(t)||F(e)||F(t)||te(e)||te(t)||zr(e)||zr(t)||Jm(e)||Jm(t))return!1;if(No(e)||No(t))return No(e)&&No(t)?ge(e)===ge(t):!1;if(Ze(e)||Ze(t)){if(Ze(e)&&Ze(t)){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!rr(e[o],t[o]))return!1;return!0}return!1}if(Ue(e)||Ue(t)){if(Ue(e)&&Ue(t)){for(let a in e)if(!rr(e[a],t[a]))return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;let o,r,n,i;return el(e)&&(o=Y.spreadsAtStart(e),r=Y.spreadsAtEnd(e)),el(t)&&(n=Y.spreadsAtStart(t),i=Y.spreadsAtEnd(t)),!rr(o,n)||!rr(r,i)?!1:el(e)&&el(t)?Y.isSorted(e)===Y.isSorted(t):!0}return!1}throw new Error(`Tried to compare unsupported primitive types. ${typeof e} / ${typeof t}`)}function Oz(e,t,o){switch(t){case"js":return p`undefined`;case"css":return o&&e in o?o[e]:"unset";default:G(t,`target is not a defined enum: ${t}`)}}function Yl(e,t,o,r){if(!e)return;if(!t)return e;let n={},i=!1;for(let a in e){let s=e[a],l=t[a];rr(s,l)||(F(s)?a in t&&(n[a]=o?Oz(a,o,r):void 0,i=!0):(n[a]=s,i=!0))}if(i)return n}var yu=(e,t)=>{if(!pi(e)||!e.codeOverrideEnabled||!e.codeOverrideIdentifier)return;let o=t.componentLoader.componentForIdentifier(e.codeOverrideIdentifier);if(!(o&&$m(o)))return;let r=he(e.codeOverrideIdentifier);if(!rt(r))return;let{importSpecifier:n,exportSpecifier:i}=kr(r,t.moduleType,t.componentLoader,t.modulesStore);if(!(!n||!i))return{importSpecifier:n,exportSpecifier:i}};function Cu(e,t){let o=[];if(at.isOn("overridesWithPropertyControls")&&Ll(e)&&e.codeOverrides)for(let r of e.codeOverrides){let n=t.componentLoader.componentForIdentifier(r.identifier);if(!(n&&$m(n)))continue;let i=he(r.identifier);if(!rt(i))continue;let a=t.imports.addModuleImport(i);if(!a)continue;let s=VN(r),l=Object.keys(s).length>0&&oo(s);o.push(l?[a,s]:a)}return o}function Wz(e){if(e.type!=="controlReference"&&e.type!=="nodePropertyControlReference")return;let{expectedType:t}=e;S(t==="enum"||t==="segmentedenum"||t==="file")}function p9({galleryImageId:e,isSmartComponent:t}){return t?Array(4).fill(null).map(()=>({id:Gt(),type:"object",value:{[e]:{type:"image",value:void 0}}})):[]}function ec(e,t){return S(e.type!=="responsiveimage",`Image variables are compiled to be responsive images. To
        prevent confusion we don't allow creation of type responsive images.
        Because that would mean that two different types represent the same thing.`),Wz(e),e.type!=="trackingid"&&e.type!=="vectorsetitem"&&It("variable_create",{scopeType:t,variableType:e.type}),e.type==="image"&&(A(e.initialValue)?uf(e.initialValue)||(e.initialValue=void 0):Uo(e.initialValue)&&A(e.initialValue.value)&&(uf(e.initialValue.value)||(e.initialValue=void 0))),e.type==="array"&&t==="canvas_component"&&(S(e.minCount===void 0,"minCount should not be lifted to component"),S(e.maxCount===void 0,"maxCount should not be lifted to component")),{id:Gt(),...e}}function zz(e,t,o={}){let r=Su(e),n=Bz(e,o),i=r.children,a=new Map;for(let l of t.collections)a.set(l.id,l);let s=[];for(let l of i){let c=l.resolveValue("name");if(We(c))continue;let d=l.createdFromKitSchemaId?a.get(l.createdFromKitSchemaId):a.get(l.id),u=[];for(let m of l.variables){if(!Vo(m))continue;if(m.type!=="collectionreference"&&m.type!=="multicollectionreference"){u.push({name:m.name,type:m.type});continue}let h=pn(e,m.dataIdentifier);S(h,"Target collection not found for variable");let C=h.resolveValue("name");S(C,"Collection name not found"),u.push({name:m.name,type:m.type,reference:{collection:C,kind:m.type==="collectionreference"?"single":"multi"}})}s.push({name:c,variables:u,items:n.get(c)??[],createdFromKitTemplate:d?.name})}return s}function b9(e){let t=Su(e),o=new Map;for(let r of t.children){let n=r.resolveValue("name");We(n)||o.set(n,r.id)}return o}function Su(e){let t=e.getContentManagementNode();S(t,"Content management node not found");let o=t.loaded;return S(o,"Content management node not loaded"),o}function Bz(e,t={}){let o=Su(e),r=new Map,{filterOnItemIds:n}=t;for(let i of o.children){let a=i.resolveValue("name");if(We(a))continue;let s=i.getSlugVariable(),l=[];for(let c of i.getUnsortedChildren()){if(n&&!n.has(c.id))continue;let d=zx(c,s);if(d){if(!t?.fullSnapshot){l.push({slug:d});continue}l.push({...$z(i,c),slug:d})}}r.set(a,l)}return r}function $z(e,t){let o={};for(let r of e.variables){if(!Vo(r))continue;let n=t.getControlProp(r.id);o[r.name.toLowerCase()]=n?.value??r.initialValue??null}return o}function dL(e,t){let o=Su(e),r=[];for(let n of o.children){if(We(n.name)||n.id!==t&&n.createdFromKitSchemaId!==t)continue;let i=n.resolveValue("name");S(i,"Collection name not found"),r.push(i)}return r}function I9(e,t){let o=[];for(let r of t.variables){if(!Vo(r)||r.type!=="collectionreference"&&r.type!=="multicollectionreference")continue;let n=pn(e,r.dataIdentifier);S(n,`Referenced collection for field "${r.name}" not found`),o.push(n)}return o}function Gz(e,t,o,r,n){let i=t.getCollectionTemplate(r.collection);S(i,`Collection with alias ${r.collection} not found`);let s=n.find(c=>c.field===o&&r.collection===c.fromTemplate)?.name;if(!s)return;let l=Hz(e,i.id,s);return S(l,`Referenced collection for template "${i.name}" not found. Plan must create it first.`),l}function N9(e,t,o,r,n=[],i){let a=[];for(let s of r.variables){let{defaultValueSuggestions:l,reference:c,...d}=s;if(d.type==="collectionreference"||d.type==="multicollectionreference"){S(c,"Reference is required");let u=i?i(c.collection):Gz(e,t,s.name,c,n);if(!u)continue;a.push(ec({...d,dataIdentifier:u.instanceIdentifier},"collection"));continue}a.push(ec(d,"collection"))}return new yN({name:o,variables:a,createdFromKitSchemaId:r.id})}function Hz(e,t,o){return du(e).children.find(n=>(n.id===t||n.createdFromKitSchemaId===t)&&n.resolveValue("name")===o)}function x9(e,t,o){let r=new Map;for(let d of t)r.set(d.fromTemplateCollection,{name:d.collectionName,new:d.new});let n=new Map;for(let d of e.fields){if(!d.isCMSConnectedField)continue;let u=o.getCollectionTemplateById(d.collectionId)?.name;if(!u)continue;let m=n.get(u)??new Set;if(d.reference?.collectionId){let h=o.getCollectionTemplateById(d.reference.collectionId)?.name;if(!h)continue;m.add(h),n.has(h)||n.set(h,new Set)}n.set(u,m)}let i=new Map;for(let[d,u]of n)for(let m of u){let h=i.get(m)??new Set;h.add(d),i.set(m,h)}let a=new Map;for(let d of n.keys()){let u=n.get(d);a.set(d,u?.size??0)}let s=[],l=[];for(let[d,u]of a)u===0&&l.push(d);for(;l.length>0;){let d=l.shift();S(d,"Collection ID must exist when the queue is not empty"),s.push(d);let u=i.get(d);if(u)for(let m of u){let h=a.get(m)??0;if(h===0)continue;let C=h-1;a.set(m,C),C===0&&l.push(m)}}let c=[];for(let d of s){let u=r.get(d);u&&c.push({id:d,name:u.name,new:u.new})}return c}function P9(e,t,o,r={}){let n=o.resolveValue("name");S(n,"Collection must have a name");let a=zz(e,t,r).find(s=>s.name===n);return S(a,`Collection snapshot for "${n}" not found`),a}function A9(e){return e.customizationsSectionId??e.id}function pL(e){if(Qd(e)&&e.kitSectionSource)return e.kitSectionSource?.section;if(Bf(e))return e.customizationsSectionId}function uL(e,t){if(!Bf(t))return!1;let o=e.getParent(t.id);if(!Ce(o))return!1;let r=e.getScopeNodeFor(o);return kS(r)}var _z="$NEW";function E9(e,t,o){let r=new Map;for(let a of o.fields){if(!a.isCMSConnectedField||r.has(a.collectionId))continue;let s=t.find(l=>l.id===a.collectionId);S(s,"Collection template must be defined"),r.set(a.collectionId,s.name)}let n={};for(let[a,s]of r){let l=dL(e,a);n[s]=[...l,_z]}let i=o.fields.map(a=>{if(!a.isCMSConnectedField)return a;let s=r.get(a.collectionId);S(s,"Alias must be defined");let{collectionId:l,reference:c,...d}=a,u=c?{...c,collection:r.get(c.collectionId)}:void 0;return{...d,collection:s,reference:u}});return{id:o.id,description:o.description,rules:o.rules,supportedCollections:n,singleton:o.moduleIdentifier?!0:void 0,fields:i,detailPageTemplateId:t.find(a=>a.id===o.detailPageCollectionId)?.name,layoutId:o.layoutId}}function xs(e,t,o,r){let n=fL(e,r);return aN(t,o,n)}function mL(e,t,o,r){let n=fL(e,r);return sN(t,o,n)}function fL(e,{context:t,repeaterInfo:o}){return{resolveAsset(r,n,i,a){let s,l=Ja(n)?n.__defaultAssetReference:void 0;return r!==l&&(s=(a?t.assets.resolveResponsiveImage(r):t.assets.resolve(r))?.src),!pv(i)||!t.localizedValues?s:t.localizedValues.add(s,i.valueLocalized,c=>{let d=i.valueLocalized?.[c]?.value;return yo(d)?void 0:d===l?p`undefined`:(a?t.assets.resolveResponsiveImage(r):t.assets.resolve(r))?.src})},resolveResponsiveImage(r,n,i){let a,s,l,c;if(pl(n)&&dl(n.__vekterDefault)?(s=n.__vekterDefault.assetReference,l=n.__vekterDefault.positionX,c=n.__vekterDefault.positionY):Ja(n)&&(s=n.__defaultAssetReference),(r!==s||i.positionX!==l||i.positionY!==c)&&(a=I.fromValue(t.assets.resolveResponsiveImage(r,{focalPoint:i}))),t.localizedValues&&(a=t.localizedValues.add(a,i.valueLocalized,u=>{let m=i.valueLocalized?.[u];if(!ol(m))return;if(m.value===s&&m.imageFocalPoint?.positionX===l&&m.imageFocalPoint?.positionY===c)return p`undefined`;let h=t.assets.resolveResponsiveImage(m.value,{focalPoint:m.imageFocalPoint});return I.fromValue(h)})),!a)return;if(!t.valueTransforms)return a;let d=i.alt??ls;return t.localizedValues&&(d=t.localizedValues.add(d,i.altLocalized,u=>i.altLocalized?.[u]?.value)),t.valueTransforms.wrapInAddImageAlt(a,I.fromValue(d))},resolveDynamicValue(r,n){let i;if(q(r))S(t.variables,"Variables are not supported"),i=t.variables.create(r);else if(Zt(r)){if(!t.valueTransforms)return;S(e.cache,"Node cache must be passed in when computed values can be created"),i=t.valueTransforms.createComputedValue(r,e,n)}else{return}if(!t.valueTransforms)return i;switch(n.type){case"image":return t.valueTransforms.wrapInToImageSrc(i);case"responsiveimage":return t.valueTransforms.wrapInToResponsiveImage(i);case"gap":case"padding":case"borderradius":return t.valueTransforms.wrapInNumberToPixelString(i);default:return i}},resolveLink(r,n,i){let a=nl(n.value);if(cn(a)&&t.localizedValues){let s=n.valueLocalized;return t.localizedValues.add(a.url,s,l=>s?.[l]?.value)}if(Zt(a)){if(!t.valueTransforms)return;S(e.cache,"Node cache must be passed in when computed values can be created");let s=t.valueTransforms.createComputedValue(a,e,i);return t.links.createResolvedBinding(e,s)}return t.links.resolve(e,a,o)},resolvePageScope(r){return t.links.resolvePageScope(nl(r))},resolveLocalizedValue(r,n){return t.localizedValues?t.localizedValues.add(r,n,i=>n?.[i]?.value):r},resolveRichText(r,n){let i=Ti(r,{collectors:t,nodeId:e.getPrimaryId()});return t.localizedValues?t.localizedValues.add(i,n,(a,s)=>{if(!n)return;let l=n[a];if(!l)return;let c=l.value;if(A(c))return Ti(c,{collectors:{...t,...s},nodeId:e.getPrimaryId()})}):i},resolveFont(r,n){if(!Uv(n))return{};let i=ad(e);return t.fonts.addFontObjectBySelector(n.fontSelector,i),Jv(n)},resolveScrollSectionRef(r,n){if(!F(n)){if(q(n))return t.variables?.create(n);if(A(n.target)){let i=t.elementIds?.scrollTargetInfo(n);if(i?.ref)return i.ref}}},resolveCustomCursor(r,n){if(!F(n))return q(n)?t.variables?.create(n):t.customCursors?.addControl(r,e,n)},resolveVectorSetItem(r,n){if(!F(r))return t.vectorSets?.resolveControl(r,n,e)},resolveColor(r){return A(r)?t.cssVariableDefinitions?.resolveColor(r)??r:r}}}function jz(e){return!No(e)&&(A(e)||te(e)||We(e)||F(e))}function Mg(e,t){return t.scopeType!=="SmartComponent"?jz(e):oo(e)}var hL=$t((e,t,o)=>{if(!J(e)||!e.isVectorInstance||!ye(o))return;let r=o.componentLoader.reactComponentForIdentifier(e.codeComponentIdentifier);if(!r)return;let n=xs(e,r.properties,e.getControlProps(r.properties),{context:o,repeaterInfo:void 0});for(let i in n){let a=n[i],s=`--${Ut(i)}`;Mg(a,o)&&(t[s]=a??void 0)}});function gL(e,t,o,r){let n={...t};qS.has(e.codeComponentIdentifier)&&(n.__fromCodeComponentNode=!0);let i=o.componentLoader.reactComponentForIdentifier(e.codeComponentIdentifier);if(i?.properties){let m=xs(e,i.properties,e.getControlProps(i.properties),{context:o,repeaterInfo:r?o.repeaterInfo.get(r):void 0});if(e.isVectorInstance)for(let h in m){let C=m[h],T=o.scopeType!=="SmartComponent"?!0:void 0;n[h]=Mg(C,o)?T:C}else Object.assign(n,m)}let a=gN(o.componentLoader,e.codeComponentIdentifier,n),s=e.getActions(o.componentLoader);for(let m in s)a[m]=o.events?.addHandler({node:e,trigger:m,actionInfo:s[m]});if(e.isVectorInstance)return sh(a);let l=hN(e,o.componentLoader);YS(e)&&Object.assign(a,e.getStylingProps(o.componentLoader,l,!1));let c=e.id===o.rootId&&o.scopeType!=="SmartComponent",d=l?Wa(l):[],u=Ue(l)&&d.length>0&&d.some(m=>!F(l[m]));return Ue(l)&&(u||c)&&c&&(l.width=p`style?.width`,l.height=p`style?.heigh`,u=!0),u&&(a.style?Object.assign(a.style,l):a.style=l),sh(a)}var Uz=/\/assets\/(?:(\d+)\/)?([^?]+)\?/u;function Jz(e,t){if(typeof DOMParser>"u"||e.indexOf("image")<0)return;let o=Qs(e),r=o.querySelector("svg");if(!r)return;let n=new Map;if(o.querySelectorAll("image").forEach(i=>{let a=i.getAttribute("xlink:href");if(!a)return;let s=Uz.exec(a);if(!s)return;let l=Number.parseInt(s[1],10),c=s[2],d="::ASSET::"+n.size+"::",m=t?.resolveResponsiveImage(c)?.src??Gc(c,l);n.set(d,m),i.setAttribute("xlink:href",d)}),n.size!==0)return r.outerHTML.replace(/::ASSET::\d+::/gu,i=>n.get(i)??`missing:${i}`)}function vu(e,t){let o=e.svg;A(o)&&(e.svg=Jz(o,t)??o)}var yL=re((e,t,o)=>{if(!PN(e)||!us(o.scopeType))return;if(rN(e)||so(e)&&B(e.fillImage)){t["aria-label"]=void 0;return}if(ye(o)&&B(e.ariaLabel)){t["aria-label"]=o.createDeduplicatedDynamicValueBinding(e.ariaLabel,e,"ariaLabel");return}let r=e.resolveValue("ariaLabel",o.variableOverrides);if(A(r)&&r!==""){t["aria-label"]=r;return}t["aria-label"]=void 0});var CL=re((e,t,o)=>{let r=co(e),n=!!(e.parentid&&o.renderAsListNodes?.has(e.parentid));if(!Fe(e)){if(!Xe(e)&&r&&(t.as="a"),n){t.as="li";return}return}if(!so(e))return;let i=e;if(r){t.as="a";return}if(n){t.as="li";return}let a=i.htmlTag??Zd;a!=="div"&&(t.as=a)});var SL=re((e,t,o)=>{if(!KN(e)||!ye(o))return;let r=e.getPrimaryId(),n=o.overlays.bindingsByOverlayId.get(r);n&&(B(e.backdropDismissible)?t.onTap=p`() => ${o.createDeduplicatedDynamicValueBinding(e.backdropDismissible,e,"backdropDismissible")} && ${I.fn(p`${n}.hide`)}`:t.onTap=e.resolveValue("backdropDismissible")?p`() => ${I.fn(p`${n}.hide`)}`:void 0,t.initial={opacity:0},t.key=r,e.backdropTransitionLocked?(t.transition=ln(e.backdropEnterTransition??dp),t.animate={opacity:1},t.exit={opacity:0}):(t.animate={opacity:1,transition:ln(e.backdropEnterTransition??dp)},t.exit={opacity:0,transition:ln(e.backdropExitTransition??dp)}))});var vL=re((e,t,o)=>{if(!Pr(e)&&Ao(e)){if(Nr(e)&&!e.fillEnabled){t.background=void 0;return}t.background=fN(e,!0,o),t.background&&st(e)&&(e.heightType===5?t.fitImageDimension="height":e.widthType===5?t.fitImageDimension="width":t.fitImageDimension=void 0)}});var bL=re((e,t,o)=>{!Ur(e)||!e.borderEnabled||av(e)||(t["data-border"]=!0,ye(o)&&o.css.addConditionalRule(0))});var IL="data-reset",NL=re((e,t,o)=>{if(ye(o)&&!(o.scopeType==="CanvasPage"||o.scopeType==="DesignPage")&&yi(e)){if(!_b(e.htmlTag)){t[IL]=void 0;return}e.htmlTag==="button"&&(t[IL]="button")}});function Og(e,t,o){let r=fo(o)?o.localId:o?.moduleId,n=e.get(r);if(od(n))return n.pluginId;if(!ip(n))return;if(!F(n.save.pluginId))return n.save.pluginId;let i=t.getPersistedModuleByLocalId(n.id);if(!i)return;let a=i.metadata.pluginId;if(A(a))return a}function Ste(e,t,o,r){let n=Og(e.tree,t,r);if(!F(n))return o.manifestById.get(n)}function vte(e){return`Edit in ${e.name}`}function Tte(e,t){let o;return Tr(t)?o=e.getPersistedModuleByGlobalId(t.moduleId):fo(t)&&(o=e.getPersistedModuleByLocalId(t.localId)),o?o.metadata.editViaPlugin!==!1:!0}function xL(e,t){if(fo(e))return he(e).type;if(Tr(e)){let r=t.getExternalModuleNodes().find(n=>n.codeComponentIdentifier===e);return r?r.type:void 0}}var PL=re((e,t,o)=>{if(!J(e)||!ye(o)||!Lr(e))return;t.scopeId=o.scopeId,t.nodeId=e.getPrimaryId(),t.isAuthoredByUser=xL(e.codeComponentIdentifier,o.treeStore.tree)==="codeFile"?!0:void 0;let r=Tr(e.codeComponentIdentifier);r&&(t.isModuleExternal=r);let n=o.nodeRendersWithMotion.get(e);n&&(t.rendersWithMotion=n);let i=he(e.codeComponentIdentifier);t["data-code-component-plugin-id"]=Og(o.treeStore.tree,o.modulesStore,i)});var VL=re((e,t,o)=>{RN(e)&&us(o.scopeType)&&(t["data-nosnippet"]=wN(e)?e.dataNosnippet:void 0)});var kL=re((e,t,o)=>{if(!Il(e))return;let r=ye(o)&&B(e.draggable)?o.createDeduplicatedDynamicValueBinding(e.draggable,e,"draggable"):e.resolveValue("draggable")??Hb(e);t.draggable=!F(r)&&!B(e.draggable)?r.toString():r});var RL=re((e,t,o)=>{if(!ye(o)||Xo(e)||!ns(e)&&!Vd(e))return;let r=o.treeStore.tree.get(o.scopeId);ko(r)&&Ab(r)&&Object.assign(t,o.events?.eventHandlersForNode(e))});var wL=re((e,t,o)=>{if(!tp(e)||!ye(o)||!ss(o.scopeType)||ct(e))return;if(!Ci(e)){t.flowEffectEnabled=void 0,t.flowEffectTransition=void 0;return}t.flowEffectEnabled=!0,t.isNestedFlowEffect=yI(e);let r=e.flowEffectTransition??(t.isNestedFlowEffect?void 0:gI.flowEffectTransition);t.flowEffectTransition=r?o.declarations.file.dedupe("transition",ln(r)):void 0});var LL=re((e,t,o)=>{if(!Xe(e))return;let r=e.getFontsForLoading();if(ye(o)){let n=ad(e);for(let i of r)o.fonts?.addFontObjectBySelector(i,n)}t.fonts=r.length>0?r:void 0});var DL=re((e,t,o)=>{jx(e)&&(t.step=ye(o)&&B(e.formInputStep)?o.createDeduplicatedDynamicValueBinding(e.formInputStep,e,"step"):e.resolveValue("formInputStep"))});var FL=re((e,t,o)=>{if(Fl(e)){if(ye(o)){t["data-hide-scrollbars"]=B(e.hideScrollbars)?o.createDeduplicatedDynamicValueBinding(e.hideScrollbars,e,"hideScrollbars"):e.hideScrollbars||void 0,F(e.hideScrollbars)||o.css.addConditionalRule(1);return}t["data-hide-scrollbars"]=e.resolveValue("hideScrollbars",o.variableOverrides)?!0:void 0}});var AL=re((e,t,o)=>{!Kt(e)||o.scopeType==="WebPage"||(t["data-highlight"]=VT(e,o.componentLoader)||void 0)});var Wg=re((e,t,o)=>{if(!ye(o)||!o.llmSnapshot)return;let r=Zz(e);if(r&&(t["data-type"]=r),J(e)&&!e.isVectorInstance){let n=Kz(o.componentLoader,e);if(!n)return;let{keys:i,labels:a}=n;i.length>0&&(t["data-prop-keys"]=i.join(",")),a.length===i.length&&a.length>0&&(t["data-prop-labels"]=a.join(","))}});function Zz(e){if(Pe(e)&&!Qz(e))return"text";if(eb(e))return"image";if(J(e))return e.isVectorInstance&&!B(e.dynamicVectorSetIdentifier)?"icon":"component"}function Qz(e){return q(e.htmlContent)?!0:B(e.textContent)||q(e.textContent)}function Kz(e,t){let o=e.componentForIdentifier(t.codeComponentIdentifier);if(!o?.properties)return;let r=t.getControlProps(o.properties),n=[],i=[];for(let a in r){let s=r[a];if(!s)continue;let{type:l,value:c}=s;if(l!=="string"&&l!=="vectorsetitem"||B(c)||q(c))continue;n.push(a);let d=o.properties?.[a]?.title;i.push(d??a)}return n.length>0?{keys:n,labels:i}:void 0}var EL=re((e,t,o)=>{if(!Ve(e)||!Ae(e)||!ye(o)||o.scopeType!=="LayoutTemplate")return;let r=e.tree()?.getParent(e.id);if(!Ce(r))return;let{center:n}=II(e);iS(t,xI(e)?n:void 0)});var ML=re((e,t,o)=>{if(!co(e)||Xe(e))return;if(o.variables&&q(e.linkOpenInNewTab)){t.openInNewTab=o.variables.create(e.linkOpenInNewTab);return}let r=e.resolveValue("linkOpenInNewTab",o.variableOverrides);zr(r)&&(t.openInNewTab=r)}),OL=re((e,t,o)=>{if(!co(e)||Xe(e))return;if(o.variables&&q(e.linkSmoothScroll)){t.smoothScroll=o.variables.create(e.linkSmoothScroll);return}let r=e.resolveValue("linkSmoothScroll",o.variableOverrides);zr(r)&&(t.smoothScroll=r)}),WL=re((e,t,o)=>{if(!co(e)||Xe(e))return;if(o.variables&&q(e.linkClickTrackingId)){t.clickTrackingId=o.variables.create(e.linkClickTrackingId);return}let r=e.resolveValue("linkClickTrackingId",o.variableOverrides);A(r)&&(t.clickTrackingId=r)}),zL=re((e,t,o)=>{if(!co(e)||Xe(e))return;let r=e.resolveValue("linkRelValues",o.variableOverrides);if(o.variables&&q(e.linkRelValues)){t.relValues=o.variables.create(e.linkRelValues);return}Cv(r)&&(t.relValues=r)}),BL=re((e,t,o)=>{if(!co(e)||Xe(e))return;if(o.variables&&q(e.linkPreserveParams)){t.preserveParams=o.variables.create(e.linkPreserveParams);return}let r=e.resolveValue("linkPreserveParams",o.variableOverrides);zr(r)&&(t.preserveParams=r)}),$L=re((e,t,o)=>{if(!gi(e)||Xe(e))return;if(!co(e)){t.href=void 0;return}let r=e.getLink();Zt(r)?t.href=o.valueTransforms?.createComputedValue(r,e,void 0):cn(r)&&e.linkLocalized&&o.localizedValues?t.href=o.localizedValues.add(r.url,e.linkLocalized,n=>e.linkLocalized?.[n]?.value):t.href=o.links?.create(r)}),GL=re((e,t)=>{if(Zs(e)){let o=new Set,r=e.getInlineLinks(!1);A(e.link)&&r.push(e.link),r.forEach(n=>{if(!n||!$S(n))return;let i=GS(n)?.target;i&&o.add(i)}),t.__link=e.link,o.size&&(t.preload=Array.from(o))}}),HL=re((e,t)=>{t.nodeId=e.getPrimaryId()}),_L=re((e,t,o)=>{t.scopeId=o.scopeId});var jL=re((e,t,o)=>{if(!Xd(e)||!ye(o)||!np(o.scopeType)||ct(e))return;if(!Gb(e)){t.drag=void 0;return}let r,n;!e.dragEffectFreeform&&o.scopeType!=="SmartComponent"?r=o.elementIds.scrollTargetInfo({target:e.dragEffectConstraintElement,collectionItem:e.dragEffectConstraintItem})?.ref:e.dragEffectSnapBack&&(n=!0);let i=e.dragEffectTransition?ln(e.dragEffectTransition):void 0,a=i?o.declarations.file.dedupe("inertia",i):void 0,s=r||n,l=p`e`,c={drag:!0,dragConstraints:r,dragMomentum:!!e.dragEffectMomentum,dragTransition:s?a:void 0,dragSnapToOrigin:n,onMouseDown:o.declarations.file.dedupe("preventDefault",p`(${l}) => ${l}.preventDefault()`)};Object.assign(t,c)});var UL=re((e,t,o)=>{if(ye(o)&&mt(e))for(let r of e.children)lt(r)&&mn(r)&&o.overlays.addOverlayTrigger(r.id,e.id)});var qz="--extracted-",Yz=["--framer-text-color","--framer-text-stroke-width","--framer-text-stroke-color","--framer-font-variation-axes"];function tc(e,t){let o=cs(e);return JL(o,(r,n)=>{for(let i of Yz){let a=r.style.getPropertyValue(i);if(!a)continue;let s=eB(n,i),l=tB(s,a);t&&(t[s]=a),r.style.setProperty(i,l)}}),o.innerHTML}function eB(e,t){return qz+Ut(e+t)}function tB(e,t){return`var(${e}, ${t})`}function JL(e,t,o=""){for(let r=0;r<e.children.length;r++){let n=e.children[r];if(n instanceof HTMLElement){let i=o+n.tagName+r;t(n,i),JL(n,t,i)}}}var XL=re((e,t,o)=>{if(!Id(e)||!ye(o))return;let r=o.scopeType==="SmartComponent",n=r?tc(e.html):e.html,{assets:i,imports:a,variables:s,links:l,cssVariableDefinitions:c}=o||{};if(S(i&&a&&l,"assets, imports, links must exist at this point"),q(e.htmlContent))S(s,"context.variables should exist if we are dealing with variables references"),t.children=s.create(e.htmlContent);else{let d=Ti(n,{collectors:{assets:i,imports:a,links:l,variables:s,cssVariableDefinitions:c},useFramerMotion:r,nodeId:e.getPrimaryId(),scopeId:o.scopeId}),u=Sp(n);t.children=o.localizedValues.add(d,e.htmlLocalized,(m,h)=>{let C=TP(u,e.htmlLocalized?.[m],n);if(!C)return;let T;return C.type==="rich-text"?(T=vP(e.html,C.value),r&&(T=tc(T))):T=QN(n,C.value),Ti(T,{collectors:{assets:i,...h},useFramerMotion:r,nodeId:e.getPrimaryId(),scopeId:o.scopeId})})}Pe(e)&&Uo(e.anchorLinkOffsetY)&&(t.anchorLinkOffsetY=e.anchorLinkOffsetY),o.metrics?.measureLength("textBytes",t.__htmlStructure),o.metrics?.measureLength("textBytes",t.htmlFromDesign),o.metrics?.measureLength("textBytes",t.children)});var ZL=re((e,t,o)=>{if(!(!ri(e)||!e.colorable)){if(Nr(e)&&!e.fillEnabled){t.fill=null;return}if(Ao(e)&&!(e.fillType==="linear-gradient"&&e.fillLinearGradient||e.fillType==="radial-gradient"&&e.fillRadialGradient||e.fillType==="conic-gradient"&&e.fillConicGradient)){if(e.fillType==="image"&&e.fillImage){t.fill=mN(e,o);return}if(e.fillColor){if(B(e.fillColor)&&ye(o)){t.fill=o.createDeduplicatedDynamicValueBinding(e.fillColor,e,"fillColor");return}t.fill=e.resolveValue("fillColor",o.variableOverrides)}}}});var QL=re((e,t,o)=>{if(!xd(e)||!KS(e))return;let r=gi(e)&&A(e.link)?e.link:void 0,n=WS(e)?e.htmlTextTag:void 0,{alignment:i,rawHTML:a}=e.getStyledText().getProps(e,r,n,()=>{});t.alignment=i,t.rawHTML=a?p`${a}`:void 0,o.metrics?.measureLength("textBytes",t.rawHTML)});var KL=re((e,t,o)=>{if(!Nb(e))return;let r=e.textContent;if(!r){t.text=void 0;return}if(ye(o)){if(bS(r)){let n=r.transforms[0],i=o.imports.addImport("framer",{exportSpecifier:"RelativeDate"});t.text=ut.tag(i,new Y({date:tn(r)?o.variables.create(r.startValue):o.fetches.createFetchBinding(e,r.startValue),dateFormat:n.format,dateStyle:n.dateStyle,dateCapitalize:n.capitalize??!1,locale:n.locale}))}else B(r)?t.text=o.createDeduplicatedDynamicValueBinding(r,e,"textContent"):G(r,"text content must be a variable or a computed value");o.metrics?.measureLength("textBytes",t.text)}});var qL=re((e,t,o)=>{!sp(e)||!e.resolveValue("textSelection")||(t["data-selection"]=!0,ye(o)&&o.css.addConditionalRule(2))});var YL=re((e,t)=>{El(e)&&(t.verticalAlignment=e.textVerticalAlignment)});var eD=re((e,t)=>{Nx(e)&&(t.description=A(e.description)&&e.description!==""?e.description:void 0,t.title=A(e.title)&&e.title!==""?e.title:void 0)});function oB(e){if(Ee(e))return e.variantTransition;if(xl(e))return e.transition}var tD=re((e,t,o)=>{if(o.scopeType!=="SmartComponent")return;let r=oB(e);if(B(r)){t.value=o.createDeduplicatedDynamicValueBinding(r,e,"transition");return}if(!r){t.value=void 0;return}let n=ln(r);t.value=o.declarations.file.dedupe("transition",n)});var oD=re((e,t,o)=>{if(!ye(o)||(t.layout=op(e)||$e(e)&&o.scopeType==="SmartComponent"?"position":t.layout,o.scopeType==="WebPage"&&yd(o.treeStore.tree,e)&&(t.layout=rB(o,t.layout)),!at.isOn("layoutScroll")||!ts(e)))return;let r=o.scopeType==="LayoutTemplate"&&(lo(e)||ab(e));t.layoutScroll=r?!0:void 0,t.layout=r?!0:t.layout});function rB(e,t){let o=e.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),r=e.imports.addImport("framer-motion",{exportSpecifier:"MotionConfigContext"}),n=e.imports.addImport("framer",{exportSpecifier:"GeneratedComponentContext"}),i=e.declarations.file.dedupe("getRootLayoutProp",p`(hasLayoutTemplate, hasInheritedFlowEffect, fallback) => {${p.joinLines(p`if (!hasLayoutTemplate) return fallback`,p`return hasInheritedFlowEffect ? "position" : fallback`)}}`),a=e.declarations.component.dedupe("hasLayoutTemplate",p`${I.fn(p`${o}.useContext`,n)}?.isLayoutTemplate`),s=e.declarations.component.dedupe("hasInheritedFlowEffect",p`Boolean(${I.fn(p`${o}.useContext`,r)}?.transition?.layout)`);return e.declarations.component.dedupe("motionLayout",I.fn(i,a,s,t))}var nB="-container",Bg=p`formState`,iB=re((e,t,o)=>{ri(e)&&(t.withExternalLayout=!0,t.intrinsicHeight=e.intrinsicHeight||void 0,t.intrinsicWidth=e.intrinsicWidth||void 0,t.svg=p`${e.svg}`,vu(t,o?.assets),o?.metrics?.measureLength("svgBytes",t.svg))}),aB=re((e,t,o)=>{if(!$e(e))return;S(t instanceof Y,"");let r=fh.shared().getSVGStringForNode(o.componentLoader,e),n=e.contentHash;Y.assign(t,{intrinsicWidth:void 0,intrinsicHeight:void 0,...rh(e),withExternalLayout:!0,svgContentId:n,svg:r});let i=t.style?.opacity;(i||Number.isFinite(Number(i)))&&(t.opacity=i),vu(t,o?.assets),o?.metrics?.measureLength("svgBytes",t.svg)}),sB=re((e,t,o)=>{if(!jt(e))return;let r=fh.shared().getSVGStringForNode(o.componentLoader,e);Object.assign(t,{intrinsicWidth:void 0,intrinsicHeight:void 0,...rh(e),svg:r,opacity:void 0,withExternalLayout:!0,requiresOverflowVisible:bP(e)}),vu(t,o?.assets),o?.metrics?.measureLength("svgBytes",t.svg)});function lB(e,t,o){if(!Ba(e)||(t.__fromCanvasComponent=!0,!e.shaderModuleIdentifier))return;let r=he(e.shaderModuleIdentifier);if(!rt(r))return;let{importSpecifier:n}=kr(r,o.moduleType,o.componentLoader,o.modulesStore);if(!n)return;let i=o.imports.addImport(n,{exportSpecifier:"default",importBinding:"shaderConfig"});t.fragmentShader=p`${i}.fragment`,t.vertexShader=p`${i}.vertex`;let a=o.componentLoader.shaderForIdentifier(e.shaderModuleIdentifier);if(!a)return;let s=xs(e,a.properties,e.getControlProps(a.properties),{context:o}),l;for(let{name:c,uniform:d}of SP(a.properties,s))l||(l=new Y),l[c]=new Y(d);t.uniforms=l}function cB(e){return e.codeComponentIdentifier==="framer/Prototype"}function zg(e,t,o,r,n){if(!J(e))return;let{lastRepeaterId:i,layoutId:a}=n;if(Y.assign(t,gL(e,void 0,o,i)),cB(e))t.scaleTo="dynamic";else if(fu(e))t.__fromCanvasComponent=!0;else if(!e.isVectorInstance)t.width="100%",t.height="100%",t.id=e.getPrimaryId(),eo(e.name)&&!t.name&&!JT(e.name)&&(t.name=e.name);else{let d=xr(e)&&(B(e.rotation)||te(e.rotation)&&e.rotation!==0);t[cI]=o.scopeType==="SmartComponent"?!0:Kd(e)||d||rp(e)}RI(e,t,o);let s=[],l=o.overlays.bindingsByOverlayTriggerId.get(e.getPrimaryId());if(oI(e)&&l?.size){let d=new I(Array.from(l.values())?.map(u=>p`${u}.visible`)?.join(" || "));t.variant=p`(${d}) ? ${e.whileOpenEffectVariant} : ${t.variant??p`undefined`}`,s.push(p`(${d}) && ${e.whileOpenEffectVariant}`)}for(let d of o.triggerActions.triggerActionByNode.get(e.getPrimaryId())??[])d.setVariantBinding&&s.push(d.setVariantBinding);t.variant&&s.push(I.fromValue(t.variant)),t.variant=s.length>0?I.fn(o.declarations.file.dedupe("matchVariant",p.joinLines(p`(...args) => {  `,p`  for (const arg of args) {`,p`    if (arg && typeof arg === "string") return arg`,p`  }`,p`  return undefined`,p`}`)),...s):void 0,Xb(o.treeStore.tree,e)&&(t.type="submit",Ub(e)&&(t.variant=I.fn(o.declarations.file.dedupe("formVariants",p`(form, variants, currentVariant) => { ${p.joinLines(p`switch(form.state) {${p.joinLines(p`case "success": return variants.success ?? currentVariant`,p`case "pending": return variants.pending ?? currentVariant`,p`case "error": return variants.error ?? currentVariant`,p`case "incomplete": return variants.incomplete ?? currentVariant`,p`default: return currentVariant`)}}`)} }`),Bg,{success:e.formButtonSuccessVariantEnabled?e.formButtonSuccessVariant:void 0,error:e.formButtonErrorVariantEnabled?e.formButtonErrorVariant:void 0,pending:e.formButtonPendingVariantEnabled?e.formButtonPendingVariant:void 0,incomplete:e.formButtonIncompleteVariantEnabled?e.formButtonIncompleteVariant:void 0},t.variant??p`undefined`)));let c=o.treeStore.tree.get(n.lastRepeaterId);if(br(c)&&Zr(c)&&(Ln(e,c)||Bb(o.componentLoader,e))&&(t.variant=c&&$b(e)?I.fn(o.declarations.file.dedupe("loaderVariants",p`(repeaterState, variants, currentVariant) => { ${p.joinLines(p`if (repeaterState.currentPage >= repeaterState.totalPages) return variants.disabled ?? currentVariant`,p`if (repeaterState.isLoading) return variants.loading ?? currentVariant`,p`return currentVariant`)} }`),o.bindings.createWithNode("paginationInfo",c),{disabled:e.dataLoaderDisabledVariantEnabled?e.dataLoaderDisabledVariant:void 0,loading:e.dataLoaderLoadingVariantEnabled?e.dataLoaderLoadingVariant:void 0},t.variant??p`undefined`):void 0),ii(e)||r.identifiers&&r.identifiers.size>1){let d=he(e.codeComponentIdentifier);S(rt(d),`Expected a module export identifier, got ${d}`);let{importSpecifier:u,exportSpecifier:m,importBinding:h}=kr(d,o.moduleType,o.componentLoader,o.modulesStore);S(u,"A module must have an import specifier."),t.Component=q(e.dynamicVectorSetIdentifier)?o.vectorSets.resolveVariableInstance(e):o.imports.addImport(u,{exportSpecifier:m,importBinding:h})}t.layoutId=a??e.getPrimaryId()}var dB=(e,t,o,r)=>{let n=new Y;return zg(e,n,t,o,r),Wg(e,n,t),n},pB=_i(yL,CL,SL,vL,bL,PL,FN,NL,VL,kL,RL,LL,Ex,AN,Gx,Ux,DL,eP,tP,Jx,Xx,EN,wI,FL,AL,EL,GL,wL,LI,jL,VI,oD,AI,EI,PI,UL,XL,aB,QL,hx,ZL,iB,Px,KL,gx,yx,qL,YL,eD,sB);function uB(e){if(F(e)||e instanceof Y&&Y.hasSpreads(e))return e;for(let t of Object.values(e))if(!F(t))return e}function Tu(e){return e.declarations.component.dedupe("scopingClassNames",I.fn(e.imports.addImport("framer",{exportSpecifier:"cx"}),fe.serializationHash,p`...${fe.sharedStyleClassNames}`))}var mB=(e,t,o,r,{style:n,className:i})=>{let a=new Y;pB(e,a,t),Xo(e)&&Lr(e)||Wg(e,a,t);let s=e.getPrimaryId()===t.rootId;if(a.style||n||s){let h={};if(Ue(a.style)&&Object.assign(h,a.style),n&&Object.assign(h,n),a.style=uB(h),s){let C=new Y(a.style);Y.addSpreadAtEnd(C,p`style`),a.style=C}}let l=[];a.className&&l.push(a.className),i&&l.push(i),s&&(l.unshift(Tu(t)),l.push(fe.className),a.ref=fe.refBinding,Y.addSpreadAtStart(a,fe.restProps),t.scopeType==="SmartComponent"&&(l.push(fe.classNames),Y.addSpreadAtStart(a,fe.gestureHandlers))),t.scopeType==="WebPage"&&uL(t.treeStore.tree,e)&&(a["data-section-id"]=e.getPrimaryId()),(et(e)||et(t.treeStore.tree.getParent(e.id)))&&l.unshift(Tu(t)),l.length===1?a.className=l[0]:l.length>1&&(a.className=I.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),...l)),t.scopeType==="LayoutTemplate"&&Ce(e)&&(a[sL]=!0);let{withKey:c,layoutId:d}=o,u=d??e.getPrimaryId();c&&(a.key=u),t.scopeType==="SmartComponent"?(a.layoutId=Lr(e)?u+nB:u,a.layoutDependency=p`layoutDependency`):t.scopeType==="CanvasPage"&&(a.layoutIdKey=u,e.duplicatedFrom&&e.duplicatedFrom.length>0&&(a.duplicatedFrom=e.duplicatedFrom)),J(e)&&(Lr(e)?o.inComponentSlot&&(a.inComponentSlot=o.inComponentSlot):(fu(e)&&(a.__fromCanvasComponent=!0),zg(e,a,t,r,o)),lo(e)&&(a.layoutScroll=!0)),Ba(e)&&lB(e,a,t),Xe(e)&&(a.withExternalLayout=!0,a.__fromCanvasComponent=!0),vd(e)&&t?.scopeType==="WebPage"&&!Ee(e)&&(a.id=e.scrollTargetEnabled?t.elementIds.id(e):void 0),a["data-framer-cursor"]=t.customCursors.add(e),lt(e)?Object.assign(a,{role:"dialog"}):a[Qm]=t.elementIds.portalId(e),CI(e)&&(a.id=a.id??t.elementIds.id(e),a.lightboxClassName=Tu(t));let m=t.treeStore.tree.get(o.lastRepeaterId);return m&&J(e)&&Ln(e,m)&&Object.assign(a,{__paginationInfo:t.bindings.createWithNode("paginationInfo",m),__loadMore:t.bindings.createWithNode("loadMore",m)}),o.isColumnMasonryLayout&&Ue(o.itemsOrderOverrides)&&!Bt(o.itemsOrderOverrides)&&(a["data-framer-order-id"]=u),a},fB=_i($L,ML,OL,WL,zL,BL,HL,_L);function hB(e,t){let o=new Y({motionChild:!0});return fB(e,o,t),o}function gB(e,t){let o=new Y;return tD(e,o,t),o}var yB=new Y({placement:void 0,alignment:void 0,offsetX:void 0,offsetY:void 0,className:void 0,anchorRef:void 0,floatingRef:void 0,onDismiss:void 0,portalSelector:void 0,safeArea:void 0,collisionDetection:void 0});function CB(e,t){if(!Ka(e))return;if(!lt(e))return yB;let o=t.overlays.bindingsByOverlayId.get(e.getPrimaryId());if(!o)return;let r=t.treeStore.tree.getParent(e.getPrimaryId());if(r)return new Y({placement:e.floatingPlacement,alignment:e.floatingAlignment,offsetX:e.floatingOffsetX,offsetY:e.floatingOffsetY,anchorRef:t.rootId===r.id?p`${fe.refBinding}`:t.elementIds.ref(r),onDismiss:p`${or.overlayMethod(o,"hide")}`,safeArea:e.floatingSafeArea??!0,zIndex:Ev(e)?e.zIndex:void 0,collisionDetection:e.floatingCollisionDetection??!1,collisionDetectionPadding:e.floatingCollisionDetection?e.floatingCollisionPadding??wd:void 0,[Qm]:t.elementIds.portalId(e),className:I.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),Tu(t),t.scopeType==="SmartComponent"?fe.classNames:void 0)})}function SB(e,t){if(!et(e))return;let o=!1;return oo(e.backdropDismissible)?o=e.backdropDismissible:B(e.backdropDismissible)&&(o=t.createDeduplicatedDynamicValueBinding(e.backdropDismissible,e,"backdropDismissible")??!1),new Y({blockDocumentScrolling:e.blockDocumentScrolling,dismissWithEsc:o})}function rD(e,t){let o=t.fetches.getFetchesForNode(e);return new Y({requests:o??[],disabled:t.scopeType==="SmartComponent"?fe.isLoading:void 0})}function vB(e,t){if(!J(e))return;let o=new Y;if(t.componentLoader.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerComponentViewportWidth==="true"){let i=t.simulatedDOM.getComponentViewportContext(e);Object.assign(o,i)}return o}function nD(e){if(!sl(e)||!st(e)||!Ae(e))return;let t={width:void 0,height:void 0};return e.widthType===1&&Number.isFinite(e.width)&&(t.width=`${e.width*100}%`),e.widthType===3&&Number.isFinite(e.width)&&(t.width=e.cache.parentDirection==="horizontal"?Uf(e.width):Gr(e.width*100,"%")),e.heightType===1&&Number.isFinite(e.height)&&(t.height=`${e.height*100}%`),e.heightType===3&&Number.isFinite(e.height)&&(t.height=e.cache.parentDirection==="vertical"?Uf(e.height):Gr(e.height*100,"%")),new Y(t)}function $g(e,t,o,r,{className:n,style:i}={}){let a=mB(e,t,r,o,{style:i,className:n}),s=gB(e,t),l=CB(e,t),c=SB(e,t);if(Xo(e)&&Lr(e)){let d=dB(e,t,o,r),u=rD(e,t);return{container:a,transition:s,floating:l,overlay:c,fetcher:u,element:d,componentViewport:vB(e,t),tickerItem:nD(e)}}return{element:a,transition:s,floating:l,overlay:c,link:hB(e,t),fetcher:rD(e,t),tickerItem:nD(e)}}var TB=["onTap","onTapStart","onClick","onMouseDown","onMouseUp"],bB=(e,t,o)=>{if(!Kt(o)||!Eb(e,o))return!1;let r=o.getActions(t);return TB.some(n=>{if(n in r){let i=r[n];return i?i.length>0:!1}return!1})},iD=$t((e,t,o)=>{if(!Ji(e)||Qo(e))return;if(B(e.cursor)&&ye(o)){t.cursor=o.cssVariableDefinitions.create(e,"cursor");return}if(e.cursor&&$v(e.cursor)){t.cursor=e.resolveValue("cursor",o.variableOverrides),Pe(e)&&e.hasLinks()&&(t.cursor=void 0,t[Gv]=e.cursor);return}if(!ye(o))return;let r=Ee(e)&&o.topLevelVariantsWithGestures[e.id];t.cursor=r||bB(o.treeStore.tree,o.componentLoader,e)?"pointer":void 0});var aD=$t((e,t)=>{co(e)&&(t.textDecoration="none")});var sD=$t((e,t,o)=>{Ve(e)&&yi(e)&&o.renderAsListNodes?.has(e.id)&&(t.listStyle="none",t.margin=0)});var lD=$t((e,t,o)=>{if(!(!al(e)||!mr(e))&&Tv(e)){if(B(e.overscrollBehavior)&&ye(o)){t.overscrollBehavior=o.cssVariableDefinitions.create(e,"overscrollBehavior");return}t.overscrollBehavior=e.resolveValue("overscrollBehavior",o.variableOverrides)}});var cD=$t((e,t)=>{vd(e)&&(t.scrollMarginTop=te(e.scrollMarginTop)&&e.scrollTargetEnabled&&e.scrollMarginTop>0?e.scrollMarginTop:void 0)});var dD=$t((e,t,o)=>{if(!DN(e))return;if(B(e.tapHighlightColor)&&ye(o)){t.WebkitTapHighlightColor=o.cssVariableDefinitions.create(e,"tapHighlightColor");return}let r=e.resolveValue("tapHighlightColor",o.variableOverrides);if(Hr(r)){t.WebkitTapHighlightColor=cl(r);return}t.WebkitTapHighlightColor=r?Oa.toRgbString(r):void 0});var pD=$t((e,t,o)=>{if(!sp(e))return;let r=e.resolveValue("textSelection");t["--selection-color"]=r?.color,t["--selection-background-color"]=r?.backgroundColor});var uD=$t((e,t,o)=>{if(ll(e)){if(B(e.userSelect)&&ye(o)){t.userSelect=t.WebkitUserSelect=o.cssVariableDefinitions.create(e,"userSelect");return}t.userSelect=t.WebkitUserSelect=bv(e)?e.resolveValue("userSelect",o.variableOverrides):void 0}});var mD=$t((e,t,o)=>{if(!Pl(e)||!ye(o)||o.scopeType!=="LayoutTemplate")return;let r=o.treeStore?.tree.getParent(e.id);Ce(r)&&(t.viewTransitionName=e.viewTransitionNone===!0?Dg(e,o.serializationId,!0):void 0)});var hD=$t((e,t,o)=>{let r=NB(e,o);t.willChange=r}),fD=`var(${oS}, transform)`;function NB(e,t){if(np(t.scopeType)&&(bI(e)&&(tI(e)||rI(e))||t.scopeType!=="SmartComponent"&&qb(e)&&Zb(e.styleAppearEffectTrigger)==="onMount"))return fD;if(mt(e)&&mr(e)&&vv(e.overflow)){if(sT(e))return`var(${tS}, transform)`;if(MI(e))return`var(${rS}, filter)`}}var xB=_i(rx,uI,Ox,iD,MN,Hx,ON,WI,WN,zN,Qx,NI,aD,sD,UI,lD,Cb,BI,cD,pD,BN,GI,dD,Zx,HI,KI,ZI,uD,mD,hD,YI),Gg=_i(ox,hb,_I,Mx,gb,jI,OI,yb,_x,Kx,Yx,qx,Tb,dI,zI,Sb,lT,JI,XI,vb,hL),Hg=_i(QI,$I);function PB(e,t){return We(e)||Co(e)||J(e)?"relative":et(e)?"fixed":Nn(e)||lt(t)?"relative":"absolute"}function _g(e,t,o,r){let n={position:PB(t,e),zIndex:et(t)?qI(t,o):void 0,...r},i=o.scopeType==="WebPage"||o.scopeType==="LayoutTemplate"||o.nodeRendersWithMotion?.get(e)===!1,a={};return o.llmSnapshot&&Object.assign(a,n),xB(e,o.llmSnapshot?a:n,o),Gg(e,!o.llmSnapshot&&i?n:a,o),Id(e)&&o.scopeType==="SmartComponent"&&tc(e.html,a),Hg(e,a,o),{css:n,style:Bt(a)?void 0:a}}var Ps={opacity:1,rotate:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,cornerShape:`superellipse(${ev})`,backgroundColor:"rgba(0, 0, 0, 0)",background:"rgba(0, 0, 0, 0)",boxShadow:"none",filter:"none",WebkitFilter:"none",backdropFilter:"none",WebkitBackdropFilter:"none",mask:"none",WebkitMask:"none",textShadow:"none",scale:1,rotateX:0,rotateY:0,skewX:0,skewY:0,z:0,padding:0};function VB(e){let t={},o={},r={},n={},i={},a={},s=[[new En({fillEnabled:!0,fillType:"color",fillColor:"rgba(0, 0, 0, 0)",borderWidth:0,borderEnabled:!0,borderColor:"rgba(0, 0, 0, 0)",borderStyle:"solid"}),t],[new wx,o],[new fp,r],[new ta({codeComponentIdentifier:"framer/Page"}),n],[new xx,i],[new Wn,a]],l={componentLoader:e};return s.forEach(([c,d])=>{Gg(c,d,l),Hg(c,d,l)}),{FrameNode:Object.assign(t,Ps),TextNode:Object.assign(o,Ps),RichTextNode:Object.assign(r,Ps),CodeComponentNode:Object.assign(n,Ps),SVGNode:Object.assign(i,Ps),ShapeContainerNode:Object.assign(a,Ps)}}var gD;function yD(e){return gD??=VB(e),gD}function CD(e,t,o,r){if(!r||F(t.__class)||No(o.style)||!F(o.style)&&!Ue(o.style))return;let n;for(n in r){if(F(o.style?.[n])&&F(r[n])||o.style&&n in o.style&&!F(o.style[n])&&!F(r[n]))continue;let a=yD(e)?.[t.__class];if(!a||!(n in a)){F(r[n])&&(r[n]=p`undefined`);continue}let s=a[n];if(F(o.style?.[n])){let l=o.style??{};l[n]=s,o.style=l}F(r[n])&&(r[n]=s)}}function ma(e,t,o){let r=e.originalid===t?e.id:Yo(e.id,t);return o.get(r)}function kB(e){let t=e.children?.find(n=>an(n));if(!t)return;let o=e.itemsOrder?e.itemsOrder.indexOf(t.getPrimaryId()):e.children?.indexOf(t);if(!te(o)||o<0||!e.itemsOrder&&e.children&&o===e.children.length-1)return;let r=new Map;return e.itemsOrder?e.itemsOrder.forEach((n,i)=>{if(n===t.originalid)return;let a=i<o?-1e3:1e3;r.set(n,i+a)}):e.children?.forEach((n,i)=>{if(n===t)return;let a=i<o?-1e3:1e3;r.set(n.getPrimaryId(),i+a)}),r}function SD(e,t){if(t==="LayoutTemplate"&&Ce(e))return kB(e);let o=e.itemsOrder;if(!o||o.length<1)return;let r=new Map;return o.forEach((n,i)=>{r.set(n,i)}),r}var RB=e=>(t,o)=>!o||!e?t:{...t,...o[e]};function ID(e,t,o,r){let{combinedVariableControlMap:n}=e.combineVariableControlMap(o.treeStore.tree,void 0,r.inheritedControlMap,o.componentLoader,o.componentLoader.activeBundleHash);t&&(mh(t,e),LB(t,e));let i=Zr(e),a=r.subqueries;Et(e)&&xt(e)?a=new gu(e,i?void 0:r.subqueries):Dl(e)&&(a=void 0);let s=o.scopeType==="WebPage",l=o.scopeType==="SmartComponent",c=r.inCodeOverride||!F(yu(e,o))||Cu(e,o).length>0,d=o.treeStore.tree.get(r.lastRepeaterId),u=o.kitSectionsStructure.addSection(e),m={isAnyVariantAnImage:so(e),isAnyVariantALink:co(e)&&!Xe(e),isAnyVariantAnEffect:Xf(e,o.scopeType),isAnyVariantAVariantAppearEffect:jf(e),isAnyVariantATickerEffect:ci(e),isAnyVariantATickerItem:sl(e),isAnyVariantARef:s&&Xi(e)||lt(e)||J(e)&&Et(d)&&Ln(e,d),isAnyVariantATransitionOverride:l&&(_f(e)||tf(e)),isAnyVariantOptimizedAppearEffect:Jf(e,o),itemsOrderOverrides:{},hiddenInVariants:new Set(r.hiddenInVariants),inCodeOverride:c,inheritedControlMap:n,isAnyVariantFloating:lt(e),isAnyVariantPaginated:i,isAnyVariantColumnMasonryLayout:on(e),identifiers:J(e)?new Set([TD(e)]):void 0,subqueries:a,kitSectionNodeId:u};o.trackingIds.add(e),o.kitSectionsStructure.addCustomizations(e,r.kitSectionNodeId),er(e)&&o.formIds.add(e.id),mn(e)&&o.triggerActions.collectTriggerActionsForNode(e),o.scopeType==="LayoutTemplate"&&qa(e)&&Ce(e)&&(m.itemsOrderOverrides[e.id]=SD(e,o.scopeType));let h=Fg(e,o),C=new Map,T=Ag(e,o,r,c),N=[],P=If(e);for(let be of o.variants){let se=ma(be,e.id,o.treeStore.tree);if(!se)continue;se.combineVariableControlMap(o.treeStore.tree,void 0,r.inheritedControlMap,o.componentLoader,o.componentLoader.activeBundleHash);let Nt=o.treeStore.tree.getParent(se.id);if(m.hiddenInVariants.has(be.id))continue;Nt&&mh(Nt,se);let Xt=vD(be),ro=Fg(se,o);if(!rr(ro,C.get(be.replicaInfo?.inheritsFrom??"")??h)){let uo=Qo(be);C.set(Xt,{value:ro,isGesture:uo})}else(o.scopeType==="WebPage"||o.scopeType==="LayoutTemplate")&&h!==!0&&C.set(Xt,{value:h});if(ro===!1){m.hiddenInVariants.add(be.id);continue}co(se)&&!Xe(se)&&(m.isAnyVariantALink=!0),so(se)&&(m.isAnyVariantAnImage=!0),Xf(se,o.scopeType)&&(m.isAnyVariantAnEffect=!0),jf(se)&&(m.isAnyVariantAVariantAppearEffect=!0),Jf(se,o)&&(m.isAnyVariantOptimizedAppearEffect=!0),ci(se)&&(m.isAnyVariantATickerEffect=!0),sl(se)&&(m.isAnyVariantATickerItem=!0),Zr(se)&&(m.isAnyVariantPaginated=!0),J(se)&&m.identifiers?.add(TD(se)),on(se)&&(m.isAnyVariantColumnMasonryLayout=!0),o.trackingIds.add(se);let sr=If(se);if(sr){P||=sr;let{stops:uo,info:lr}=sr;P.stops=Math.max(P?.stops,uo??0),P.info||=lr}o.scopeType==="WebPage"?Xi(se)&&(m.isAnyVariantARef=!0):o.scopeType==="SmartComponent"&&(kI(se)&&(m.isAnyVariantAnEffect=!0),(_f(se)||tf(se))&&(m.isAnyVariantATransitionOverride=!0)),Rn(se)&&(m.itemsOrderOverrides[be.id]=SD(se,o.scopeType)),T=T||Ag(se,o,r,c),N.push({nodeInVariant:se,variant:be})}F(P)||o.nodesWithAnyGradientFill.set(e.id,P);let{condition:k,classNames:W,classNameExpressions:M}=o.renderFunctions.create(h,C);if(k===!1)return;o.nodeRendersWithMotion.set(e,T);let H=e.parentid?o.renderAsListNodes.get(e.parentid):!1;yi(e)&&jb(e.htmlTag)&&!H&&o.renderAsListNodes.set(e.id,!0);let K=t&&on(t),oe=r?.itemsOrderOverrides?.[o.rootId],{css:me,style:j}=_g(e,t,o,!K&&oe?{order:bD(e,oe)}:void 0),xe=Lr(e),pe=cL(e,t,o),Ie=o.css.addRule(me,e,{container:xe,hasScopingSelector:pe}),Re=$g(e,o,m,r,{className:Ie,style:j});o.hitTargets.recordClassName(e,o.rootId,Ie);let R={link:void 0,container:void 0,element:void 0,floating:void 0,overlay:void 0,transition:void 0,fetcher:void 0,componentViewport:void 0,tickerItem:void 0},ne={variants:void 0,css:void 0};if(Pe(e))for(let be of e.getStylePresetsForCodeGeneration(o.treeStore.tree))o.css.addSharedStyle(be.id);let ae=xe?Re.container:Re.element;S(!F(ae),"Target will always be defined if the node needs a container");for(let{nodeInVariant:be,variant:se}of N){let Nt=vD(se);if(o.hitTargets.recordClassName(be,se.id,Ie),Pe(be))for(let _o of be.getStylePresetsForCodeGeneration(o.treeStore.tree))o.css.addSharedStyle(_o.id);let Xt=o.treeStore.tree.getParent(be.id),{itemsOrderOverrides:ro}=r,Sr=ro?.[se.id],sr=Xt&&on(Xt),uo=_g(be,Xt,o,!sr&&Sr?{order:bD(e,Sr)}:void 0),lr=RB(se.replicaInfo?.inheritsFrom),Ho={display:Pe(be)?eS.display:"block"},Gs=Yl(uo.css,lr(me,ne.css),"css",Ho);if(Gs){let _o=Qo(se);ne.css||(ne.css={}),ne.css[se.id]=Gs,o.css.addRule(Gs,be,{variant:se,hasScopingSelector:pe,container:xe,gesture:_o?se.gesture:void 0,scope:_o?se.replicaInfo?.inheritsFrom:o.scopeType==="SmartComponent"?se.id:void 0})}o.scopeType==="SmartComponent"&&CD(o.componentLoader,be,ae,uo.style);let Qn=$g(be,o,m,r,{className:Ie,style:ae.style}),La=Yl(uo.style,lr(j,ne.variants));if(La)if(o.scopeType==="SmartComponent"||o.llmSnapshot)ne.variants||(ne.variants={}),ne.variants[Nt]=La;else{let _o=xe?"container":"element";R[_o]=DB(uo.style,R[_o],Nt)}for(let _o in Qn){let qr=_o,Da=Yl(Qn[qr],lr(Re[qr],R[qr]??{}),"js");if(!Da)continue;R[qr]||(R[qr]={[Nt]:{}});let Ai=R[qr][Nt];R[qr][Nt]=Ue(Ai)?Object.assign(Ai,Da):Da}}let Te=new Set(W);m.isAnyVariantALink&&Te.add(o.linkClassName);let gt=new I.Set(M),yt=m.isAnyVariantARef||o.overlays.relativeOverlayTriggerIds.has(e.id);return Y.assign(ae,{variants:ne.variants,className:wB(ae.className,Te,gt,o.imports),ref:ae.ref??(yt?o.elementIds.ref(e):ae.ref),[BS]:m.isAnyVariantOptimizedAppearEffect?o.appearIds.create(e.id):void 0}),o.renderConditions.set(e.id,k),{...m,propsForLink:{props:Re.link,overrides:R.link},propsForElement:{props:Re.element,overrides:R.element},propsForContainer:{props:Re.container,overrides:R.container},propsForTransition:{props:Re.transition,overrides:R.transition},propsForFetcher:{props:Re.fetcher,overrides:R.fetcher},renderCondition:k,propsForFloating:{props:Re.floating,overrides:R.floating},propsForOverlay:{props:Re.overlay,overrides:R.overlay},propsForComponentViewport:{props:Re.componentViewport,overrides:R.componentViewport},propsForTickerItem:{props:Re.tickerItem,overrides:R.tickerItem}}}function wB(e,t,o,r){if(t.size===0&&o.size===0)return e;if(o.size===0){let n=Array.from(t).join(" ");return e?it`${e} ${n}`:n}else{let n=r.addImport("framer",{exportSpecifier:"cx"});return e?I.fn(n,e,...t,...o):I.fn(n,...t,...o)}}function LB(e,t){t.cache.ancestorRepeaterIds=Zp(e,e.cache.ancestorRepeaterIds??[])}function vD(e){return Qo(e)?`${e.replicaInfo.inheritsFrom}-${e.gesture}`:e.id}function DB(e,t,o){let r=t??{};return r[o]=r[o]??{},r[o].style=r[o].style??{},Object.assign(r[o].style,e),r}function ND(e,t,o){let r={background:"transparent",height:0,width:0,position:"relative",flexGrow:1,margin:0,marginBottom:th(t,o)};for(let n of o.variants){let i=ma(n,e.id,o.treeStore.tree);if(!i)continue;let a=Yl({...r,marginBottom:th(n,o)},r);!a||Bt(a)||o.css.addRule(a,i,{variant:n})}return o.css.addRule(r,e)}function TD(e){return ii(e)?rv:e.codeComponentIdentifier}function bD(e,t){return t.get(e.id)??t.size}var oc,bu=class{constructor(t,o,r,n,i,a,s){this.entryNode=t;this.treeStore=o;this.variables=r;this.declarations=n;this.bindings=i;this.imports=a;this.assets=s;ce(this,oc,new Map)}command(t){let o=E(this,oc).get(t);if(o)return o;let r=this.bindings.create(`pre${t}`);return E(this,oc).set(t,r),r}getVariantIdFor(t){return this.treeStore.treeIndex.getGroundNodeIdFor(t.id)}};oc=new WeakMap;function xD(e){return e.queryParam||FB(e.name)}function FB(e){return zS(e)}var Q,PD,VD,kD,RD,wD,jg,rc,Ug,LD,DD,Jg,Xg,Zg,Vs,Dr,nc,zo,FD,Iu,Nu=class{constructor(t){this.ctx=t;ce(this,Q)}serialize(t){let{repeaterToQuery:o,independentQueries:r,urlOnlyQueries:n,detailOnlyQueries:i,mixedQueries:a,repeaterDependentQueries:s,independentChildComponents:l,repeaterDependentChildComponents:c,detailPageQuery:d}=t,u=new Map,m=[],h=p`locale`;m.push(p`const ${h} = context.locale`);let C=!F(d),T=r.length>0||n.length>0||C||i.length>0||a.length>0||s.length>0,N=l.length>0||c.length>0,P=s.length>0||c.length>0;if(!T&&!N)return;let k=U(this,Q,PD).call(this,T,P),W=U(this,Q,VD).call(this,n,a,s),{resolutions:M,bindings:H,bindingsById:X,bindingsObject:K}=U(this,Q,RD).call(this,W,h),oe=W.size>0?this.ctx.bindings.create("urlVarsPromise"):void 0;if(oe){let pe=p`(async () => {${p.joinLines(...M,p`return ${K}`)}})()`;m.push(p`const ${oe} = ${pe}`)}let me=U(this,Q,kD).call(this,k,r,n,l,oe,X,u,m,h),j=C&&U(this,Q,Vs).call(this,Array.from(o.values()));if(C&&d?.constantBinding&&k){let pe=this.ctx.imports.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"}),Ie=I.fn(d.constantBinding,I.fn(pe,p`context.pathVariables`,d.collectionAlias)),Re=U(this,Q,zo).call(this,k,Ie,h),R=j?this.ctx.bindings.create("detailResultPromise"):void 0;R&&m.push(p`const ${R} = ${I.fn(p`${Re}.readMaybeAsync`)}`);let ne=U(this,Q,jg).call(this,o,s,c,k,oe,X,R,u,m,h);if(i.length>0||a.length>0){let Te=[];for(let se of i){let Nt=U(this,Q,Dr).call(this,se,{urlVarBindingsById:X,detailDataBinding:p`detailData`,itemVarByRepeaterId:new Map}),Xt=I.fn(se.constantBinding,...Nt),ro=U(this,Q,zo).call(this,k,Xt,h);Te.push(I.fn(p`${ro}.preload`))}for(let se of a){let Nt=U(this,Q,Dr).call(this,se,{urlVarBindingsById:X,detailDataBinding:p`detailData`,itemVarByRepeaterId:new Map}),Xt=I.fn(se.constantBinding,...Nt),ro=U(this,Q,zo).call(this,k,Xt,h);Te.push(I.fn(p`${ro}.preload`))}let gt=Te[0],yt=Te.length>1||!gt?I.fn(p`Promise.allSettled`,Te):gt,be=U(this,Q,wD).call(this,oe,H,R??I.fn(p`${Re}.readMaybeAsync`),yt);return me.push(be,...ne),U(this,Q,Iu).call(this,m,I.fn(p`Promise.allSettled`,me))}return R||me.unshift(I.fn(p`${Re}.preload`)),me.push(...ne),U(this,Q,Iu).call(this,m,I.fn(p`Promise.allSettled`,me))}let xe=U(this,Q,jg).call(this,o,s,c,k,oe,X,void 0,u,m,h);if(me.push(...xe),me.length!==0)return U(this,Q,Iu).call(this,m,I.fn(p`Promise.allSettled`,me))}};Q=new WeakSet,PD=function(t,o){return t||o?this.ctx.imports.addImport("framer",{exportSpecifier:"queryCache"}):void 0},VD=function(...t){let o=new Map,r=t.flat();for(let n of r)for(let i of n.urlVariables)o.set(i.id,i);return o},kD=function(t,o,r,n,i,a,s,l,c){let d=[];if(t){for(let{constantBinding:u}of o){let m=U(this,Q,nc).call(this,u,t,s,l,c);d.push(I.fn(p`${m}.preload`))}for(let{constantBinding:u,urlVariables:m}of r){let h=m.map(P=>a.get(P.id)).filter(Boolean);if(!i)continue;let C=I.fn(u,...h),T=U(this,Q,zo).call(this,t,C,c),N=I.fn(p`${T}.preload`);d.push(I.fn(p`${i}.then`,p`({ ${p.listFrom(h)} }) => ${N}`))}}return d.push(...U(this,Q,FD).call(this,n)),d},RD=function(t,o){let r=[],n=[],i=new Map;for(let[s,l]of t){let c=this.ctx.bindings.create(s);switch(n.push(c),i.set(s,c),l.type){case"string":{let d=A(l.initialValue)?l.initialValue:p`undefined`;r.push(p`const ${c} = context.pathVariables?.[${l.parameterName}] ?? ${d}`);break}case"collectionreference":{let d=A(l.initialValue)?l.initialValue:p`undefined`;r.push(p`const ${c} = await (async () => {${p.joinLines(p`const slug = context.pathVariables?.[${l.parameterName}] ?? ""`,p`if (!slug) return ${d}`,p`const cache = ${I.fn(p`context.collectionUtils?.get`,l.collectionId??"")}`,p`if (!cache) return ${d}`,p`return (await ${I.fn(p`cache.getRecordIdBySlug`,p`slug`,o)}) ?? ${d}`)}})()`);break}case"multicollectionreference":{let d=Ze(l.initialValue)?l.initialValue:p`undefined`;r.push(p`const ${c} = await (async () => {${p.joinLines(p`const slugs = Array.isArray(context.pathVariables?.[${l.parameterName}]) ? context.pathVariables[${l.parameterName}] : []`,p`if (slugs.length === 0) return ${d}`,p`const cache = ${I.fn(p`context.collectionUtils?.get`,l.collectionId??"")}`,p`if (!cache) return ${d}`,p`const ids = await ${I.fn(p`Promise.all`,p`slugs.map(slug => ${I.fn(p`cache.getRecordIdBySlug`,p`slug`,o)})`)}`,p`return ${I.fn(p`ids.filter`,p`Boolean`)}`)}})()`);break}default:G(l.type,"Unexpected URL variable type")}}let a={};for(let s of n)a[ge(s)]=s;return{resolutions:r,bindings:n,bindingsById:i,bindingsObject:a}},wD=function(t,o,r,n){return!t||o.length===0?p`(async () => {${p.joinLines(p`const [detailData] = (await ${r}) ?? []`,p`return ${n}`)}})()`:p`(async () => {${p.joinLines(p`const [urlVars, detailResult] = await ${I.fn(p`Promise.all`,[t,r])}`,p`const { ${p.listFrom(o)} } = urlVars`,p`const [detailData] = detailResult ?? []`,p`return ${n}`)}})()`},jg=function(t,o,r,n,i,a,s,l,c,d){if(o.length===0&&r.length===0)return[];let u=new Map,m=[];for(let T of o){if(U(this,Q,rc).call(this,T).length>1){m.push(T);continue}let P=T.repeaterVariables[0]?.repeaterId;if(!P)continue;let k=u.get(P),W=t.get(P);k?k.queries.push(T):u.set(P,{queries:[T],components:[],parentQuery:W})}for(let T of r){let N=T.ancestorRepeaterId;if(!N)continue;let P=u.get(N),k=t.get(N);P?P.components.push(T):u.set(N,{queries:[],components:[T],parentQuery:k})}let h=[],C=r.length>0?this.ctx.imports.addImport("framer",{exportSpecifier:"forwardLoader"}):void 0;for(let[,{queries:T,components:N,parentQuery:P}]of u){if(!P||!n)continue;if(P.repeaterVariables.length>0){let R=U(this,Q,DD).call(this,{parentQuery:P,queries:T,components:N,repeaterToQuery:t,queryCacheBinding:n,urlVarsPromiseBinding:i,urlVarBindingsById:a,detailResultPromiseBinding:s,hoistedCacheEntries:l,hoistedCacheStatements:c,localeBinding:d,forwardLoaderBinding:C});R&&h.push(R);continue}let k=U(this,Q,Zg).call(this,[P,...T],a),W=k.length>0&&!!i,M=U(this,Q,Vs).call(this,P,T)&&!!s,H=M?p`detailData`:p`undefined`,X=[];for(let R of T){let ne=U(this,Q,Dr).call(this,R,{urlVarBindingsById:a,detailDataBinding:H,itemVarByRepeaterId:new Map([[P.nodeId,p`item`]])}),ae=I.fn(R.constantBinding,...ne),Te=U(this,Q,zo).call(this,n,ae,d);X.push(I.fn(p`${Te}.preload`))}if(C)for(let R of N){let ne=this.ctx.imports.addModuleImport(R.moduleIdentifier);if(!ne)continue;let ae=Object.keys(R.staticProps).length>0?new Y(R.staticProps):p`{}`;X.push(I.fn(C,ne,ae,p`context`))}if(X.length===0)continue;let K=U(this,Q,Dr).call(this,P,{urlVarBindingsById:a,detailDataBinding:H,itemVarByRepeaterId:new Map}),oe=I.fn(P.constantBinding,...K),me=U(this,Q,zo).call(this,n,oe,d),j=K.length===0?(()=>{let R=U(this,Q,nc).call(this,P.constantBinding,n,l,c,d);return I.fn(p`${R}.readMaybeAsync`)})():I.fn(p`${me}.readMaybeAsync`),xe=X[0],pe=X.length===1&&xe?xe:p`${X}`,Ie=[];W&&i&&Ie.push(p`const { ${p.listFrom(k)} } = await ${i}`),M&&s&&Ie.push(p`const [detailData] = (await ${s}) ?? []`);let Re=p`(async () => {${p.joinLines(...Ie,p`const parentData = await ${j} ?? []`,p`return ${I.fn(p`Promise.allSettled`,I.fn(p`parentData.flatMap`,p`item => ${pe}`))}`)}})()`;h.push(Re)}for(let T of m){let N=U(this,Q,LD).call(this,T,t,n,i,a,s,l,c,d);N&&h.push(N)}return h},rc=function(t){let o=new Set(t.repeaterVariables.map(a=>a.repeaterId));if(o.size===0)return[];let n=this.ctx.treeStore.tree.get(t.nodeId)?.cache?.ancestorRepeaterIds?.filter(a=>a&&o.has(a))??[];if(n.length===o.size)return n;let i=[...n];for(let a of o)i.includes(a)||i.push(a);return i},Ug=function(t,o){let r=[],n=new Set,i=a=>{if(n.has(a))return;n.add(a);let s=o.get(a);if(s){let l=U(this,Q,rc).call(this,s);for(let c of l)i(c)}r.push(a)};for(let a of t)i(a);return r},LD=function(t,o,r,n,i,a,s,l,c){if(!r)return;let d=U(this,Q,Ug).call(this,U(this,Q,rc).call(this,t),o);if(d.length===0)return;let u=U(this,Q,Jg).call(this,d,o);if(!u)return;let{providerQueries:m,dataVars:h,itemVars:C}=u,T=p`tasks`,N=[],{detailDataBinding:P}=U(this,Q,Xg).call(this,N,{queriesForUrlBindings:[t,...m],urlVarBindingsById:i,urlVarsPromiseBinding:n,needsDetailData:U(this,Q,Vs).call(this,t),detailResultPromiseBinding:a}),k=m[0],W=h[0];if(!k||!W)return;let M=U(this,Q,Dr).call(this,k,{urlVarBindingsById:i,detailDataBinding:P,itemVarByRepeaterId:new Map});if(M.length===0){let X=U(this,Q,nc).call(this,k.constantBinding,r,s,l,c);N.push(p`const ${W} = await ${I.fn(p`${X}.readMaybeAsync`)} ?? []`,p`const ${T} = []`)}else{let X=I.fn(k.constantBinding,...M),K=U(this,Q,zo).call(this,r,X,c);N.push(p`const ${W} = await ${I.fn(p`${K}.readMaybeAsync`)} ?? []`,p`const ${T} = []`)}for(let X=0;X<d.length;X++){let K=C[X],oe=h[X];if(!K||!oe)continue;N.push(p`for (const ${K} of ${oe}) {`);let me=X+1;if(me<d.length){let j=h[me],xe=m[me];if(!j||!xe)continue;let pe=new Map;d.slice(0,me+1).forEach((ne,ae)=>pe.set(ne,C[ae]));let Ie=U(this,Q,Dr).call(this,xe,{urlVarBindingsById:i,detailDataBinding:P,itemVarByRepeaterId:pe}),Re=I.fn(xe.constantBinding,...Ie),R=U(this,Q,zo).call(this,r,Re,c);N.push(p`const ${j} = await ${I.fn(p`${R}.readMaybeAsync`)} ?? []`)}else{let j=new Map;d.forEach((R,ne)=>j.set(R,C[ne]));let xe=U(this,Q,Dr).call(this,t,{urlVarBindingsById:i,detailDataBinding:P,itemVarByRepeaterId:j}),pe=I.fn(t.constantBinding,...xe),Ie=U(this,Q,zo).call(this,r,pe,c),Re=I.fn(p`${Ie}.preload`);N.push(I.fn(p`${T}.push`,Re))}}for(let X=d.length-1;X>=0;X--)N.push(p`}`);return N.push(p`return ${I.fn(p`Promise.allSettled`,T)}`),p`(async () => {${p.joinLines(...N)}})()`},DD=function(t){let{parentQuery:o,queries:r,components:n,repeaterToQuery:i,queryCacheBinding:a,urlVarsPromiseBinding:s,urlVarBindingsById:l,detailResultPromiseBinding:c,hoistedCacheEntries:d,hoistedCacheStatements:u,localeBinding:m,forwardLoaderBinding:h}=t,C=U(this,Q,Ug).call(this,U(this,Q,rc).call(this,o),i);if(C.length===0)return;let T=U(this,Q,Jg).call(this,C,i);if(!T)return;let{providerQueries:N,dataVars:P,itemVars:k}=T,W=U(this,Q,Vs).call(this,o,r,N)&&!!c,M=W?p`detailData`:p`undefined`,H=[];for(let pe of r){let Ie=new Map;Ie.set(o.nodeId,p`item`),C.forEach((ae,Te)=>Ie.set(ae,k[Te]));let Re=U(this,Q,Dr).call(this,pe,{urlVarBindingsById:l,detailDataBinding:M,itemVarByRepeaterId:Ie}),R=I.fn(pe.constantBinding,...Re),ne=U(this,Q,zo).call(this,a,R,m);H.push(I.fn(p`${ne}.preload`))}if(h)for(let pe of n){let Ie=this.ctx.imports.addModuleImport(pe.moduleIdentifier);if(!Ie)continue;let Re=Object.keys(pe.staticProps).length>0?new Y(pe.staticProps):p`{}`;H.push(I.fn(h,Ie,Re,p`context`))}if(H.length===0)return;let X=H[0],K=H.length===1&&X?X:p`${H}`,oe=[];U(this,Q,Xg).call(this,oe,{queriesForUrlBindings:[o,...r,...N],urlVarBindingsById:l,urlVarsPromiseBinding:s,needsDetailData:W,detailResultPromiseBinding:c});let me=N[0],j=P[0];if(!me||!j)return;let xe=U(this,Q,Dr).call(this,me,{urlVarBindingsById:l,detailDataBinding:M,itemVarByRepeaterId:new Map});if(xe.length===0){let pe=U(this,Q,nc).call(this,me.constantBinding,a,d,u,m);oe.push(p`const ${j} = await ${I.fn(p`${pe}.readMaybeAsync`)} ?? []`)}else{let pe=I.fn(me.constantBinding,...xe),Ie=U(this,Q,zo).call(this,a,pe,m);oe.push(p`const ${j} = await ${I.fn(p`${Ie}.readMaybeAsync`)} ?? []`)}for(let pe=0;pe<C.length;pe++){let Ie=k[pe],Re=P[pe];if(!Ie||!Re)continue;oe.push(p`for (const ${Ie} of ${Re}) {`);let R=pe+1;if(R<C.length){let ne=P[R],ae=N[R];if(!ne||!ae)continue;let Te=new Map;C.slice(0,R+1).forEach((se,Nt)=>Te.set(se,k[Nt]));let gt=U(this,Q,Dr).call(this,ae,{urlVarBindingsById:l,detailDataBinding:M,itemVarByRepeaterId:Te}),yt=I.fn(ae.constantBinding,...gt),be=U(this,Q,zo).call(this,a,yt,m);oe.push(p`const ${ne} = await ${I.fn(p`${be}.readMaybeAsync`)} ?? []`)}else{let ne=new Map;C.forEach((yt,be)=>ne.set(yt,k[be]));let ae=U(this,Q,Dr).call(this,o,{urlVarBindingsById:l,detailDataBinding:M,itemVarByRepeaterId:ne}),Te=I.fn(o.constantBinding,...ae),gt=U(this,Q,zo).call(this,a,Te,m);oe.push(p`const parentData = (await ${I.fn(p`${gt}.readMaybeAsync`)}) ?? []`,p`await ${I.fn(p`Promise.allSettled`,I.fn(p`parentData.flatMap`,p`item => ${K}`))}`)}}for(let pe=C.length-1;pe>=0;pe--)oe.push(p`}`);return oe.push(p`return undefined`),p`(async () => {${p.joinLines(...oe)}})()`},Jg=function(t,o){let r=[],n=[],i=[];for(let a=0;a<t.length;a++){let s=t[a],l=o.get(s);if(!l)return;r.push(l),n.push(p`data${a}`),i.push(p`item${a}`)}return{providerQueries:r,dataVars:n,itemVars:i}},Xg=function(t,o){let r=U(this,Q,Zg).call(this,o.queriesForUrlBindings,o.urlVarBindingsById),n=r.length>0&&!!o.urlVarsPromiseBinding,i=o.needsDetailData&&!!o.detailResultPromiseBinding,a=i?p`detailData`:p`undefined`;return n&&o.urlVarsPromiseBinding&&t.push(p`const { ${p.listFrom(r)} } = await ${o.urlVarsPromiseBinding}`),i&&o.detailResultPromiseBinding&&t.push(p`const [detailData] = (await ${o.detailResultPromiseBinding}) ?? []`),{detailDataBinding:a}},Zg=function(t,o){let r=new I.Set,n=[];for(let i of t)for(let a of i.argumentOrder){if(a.kind!=="url")continue;let s=o.get(a.id);s&&(r.has(s)||(r.add(s),n.push(s)))}return n},Vs=function(...t){for(let o of t){if(Ze(o))return U(this,Q,Vs).call(this,...o);for(let r of o.argumentOrder)if(r.kind==="detail")return!0}return!1},Dr=function(t,o){let r=[];for(let n of t.argumentOrder)switch(n.kind){case"url":{let i=o.urlVarBindingsById.get(n.id);r.push(i??p`undefined`);break}case"detail":r.push(p`${o.detailDataBinding}?.[${n.id}]`);break;case"repeater":{let i=o.itemVarByRepeaterId.get(n.repeaterId);r.push(i?p`${i}[${n.id}]`:p`undefined`);break}default:G(n)}return r},nc=function(t,o,r,n,i){let a=ge(t),s=r.get(a);if(s)return s;let l=this.ctx.bindings.create("queryCacheEntry");r.set(a,l);let c=I.fn(t),d=U(this,Q,zo).call(this,o,c,i);return n.push(p`const ${l} = ${d}`),l},zo=function(t,o,r){return I.fn(p`${t}.get`,o,r)},FD=function(t){if(t.length===0)return[];let o=this.ctx.imports.addImport("framer",{exportSpecifier:"forwardLoader"}),r=[],n=new Set;for(let i of t){let a=this.ctx.imports.addModuleImport(i.moduleIdentifier);if(!a)continue;let s=Object.keys(i.staticProps).length>0?new Y(i.staticProps):p`{}`,l=`${ge(a)}|${ge(s)}`;n.has(l)||(n.add(l),r.push(I.fn(o,a,s,p`context`)))}return r},Iu=function(t,o){let r=p.joinLines(...t),n=r?p.joinLines(r,p`return ${o}`):p`return ${o}`;return{load:p`(props, context) => {${n}}`}};function AD(e){let t=AB(e.routeLoaderQueries,e.detailPageQuery),o=EB(e.childComponents),r=!F(e.detailPageQuery),n=t.independentQueries.length>0||t.urlOnlyQueries.length>0||r||t.detailOnlyQueries.length>0||t.mixedQueries.length>0||t.repeaterDependentQueries.length>0,i=o.independentChildComponents.length>0||o.repeaterDependentChildComponents.length>0;if(!(!n&&!i))return{...t,...o,detailPageQuery:e.detailPageQuery}}function AB(e,t){let o=new Map,r=[],n=[],i=[],a=[],s=[];for(let l of e.values()){if(l.hasUnresolvableVariables||l.detailPageVariableIds.length>0&&F(t))continue;for(let m of l.nodeIds)o.set(m,l);let c=l.detailPageVariableIds.length>0,d=l.urlVariables.length>0;l.repeaterVariables.length>0?s.push(l):c&&d?a.push(l):c?i.push(l):d?n.push(l):r.push(l)}return{repeaterToQuery:o,independentQueries:r,urlOnlyQueries:n,detailOnlyQueries:i,mixedQueries:a,repeaterDependentQueries:s}}function EB(e){let t=[],o=[];for(let r of e.values())r.ancestorRepeaterId?o.push(r):t.push(r);return{independentChildComponents:t,repeaterDependentChildComponents:o}}function ED(e){return ge(e)}var fa,ha,ga,ks,Pu,MD,xu=class{constructor(t){this.ctx=t;ce(this,Pu);ce(this,fa,new Map);ce(this,ha);ce(this,ga,new Map);ce(this,ks)}addDetailPageQuery(t,o,r){let n=p`where`,i=p`(${n}) => (${new Y({from:t,select:o,where:n})})`,a=this.ctx.declarations.dedupe("detailQuery",i);le(this,ha,{from:t,select:o,collectionAlias:r,constantBinding:a})}addRouteLoaderQuery(t,o,r=[]){let n=ED(o),i=E(this,fa).get(n);if(i){i.nodeIds.includes(t.id)||i.nodeIds.push(t.id);let k=new I.Set,W=[];for(let M of r){let H=this.ctx.variables.create(M);k.has(H)||(k.add(H),W.push(H))}return W.length>0?I.fn(i.constantBinding,...W):I.fn(i.constantBinding)}let a=U(this,Pu,MD).call(this),s=[],l=new I.Set,c=[],d=[],u=[],m=[],h=!1;for(let k of r){let W=this.ctx.variables.create(k);if(!l.has(W))if(l.add(W),c.push(W),k.providerId===this.ctx.entryNode.id){let M=a.get(k.id);M?(u.push(M),d.push({kind:"url",id:k.id})):(s.push(k.id),d.push({kind:"detail",id:k.id}))}else if(k.providerId){let M=this.ctx.treeStore.tree.get(k.providerId);M&&Et(M)?(m.push({id:k.id,repeaterId:k.providerId}),d.push({kind:"repeater",id:k.id,repeaterId:k.providerId})):h=!0}else h=!0}let C=c.length>0,T=C?p.listFrom(c):p``,N=p`(${T}) => (${o})`,P=this.ctx.declarations.dedupe("query",N);return E(this,fa).set(n,{key:n,constantBinding:P,query:o,nodeId:t.id,nodeIds:[t.id],detailPageVariableIds:s,urlVariables:u,repeaterVariables:m,hasUnresolvableVariables:h,argumentOrder:d}),C?I.fn(P,...c):I.fn(P)}addChildComponent(t,o,r,n){rt(t)&&(E(this,ga).has(r)||E(this,ga).set(r,{moduleIdentifier:t,staticProps:o,nodeId:r,ancestorRepeaterId:n}))}hasRouteLoaderQueries(){return E(this,fa).size>0||!F(E(this,ha))||E(this,ga).size>0}getDetailPageQueryConstant(){return E(this,ha)?.constantBinding}getRouteLoaderCode(){let t=AD({routeLoaderQueries:E(this,fa),detailPageQuery:E(this,ha),childComponents:E(this,ga)});if(t)return new Nu(this.ctx).serialize(t)}};fa=new WeakMap,ha=new WeakMap,ga=new WeakMap,ks=new WeakMap,Pu=new WeakSet,MD=function(){let t=E(this,ks);if(t)return t;let o=new Map;if(!z(this.ctx.entryNode))return le(this,ks,o),o;for(let r of this.ctx.entryNode.variables){if(!Vo(r)||!wv(r)||r.type!=="string"&&r.type!=="collectionreference"&&r.type!=="multicollectionreference")continue;let n;switch(r.type){case"multicollectionreference":n=Ze(r.initialValue)?r.initialValue:[];break;case"collectionreference":n=A(r.initialValue)?r.initialValue:"";break;case"string":n=r.optional===!0?void 0:r.initialValue;break;default:G(r,"Unexpected variable type")}let i={id:r.id,parameterName:xD(r),type:r.type,optional:r.type==="string"&&r.optional===!0?!0:void 0,initialValue:n};if((r.type==="collectionreference"||r.type==="multicollectionreference")&&r.dataIdentifier){let a=he(r.dataIdentifier);a&&"type"in a&&a.type==="collection"&&(i.collectionId=a.localIdName)}o.set(r.id,i)}return le(this,ks,o),o};function Qg(e,t){let o=[],r=dS(e,i=>{let a=t.create(i);return o.push(i),"${"+a+"}"});return{templatedUrl:new I("`"+r+"`"),usedVariables:o}}function Vu(e,t,o,r=void 0){if(B(e.value))return Yt(!Zt(e.value),"Computed values should not be possible in fetch fallback"),t.create(e.value);switch(e.type){case"color":return e.value?p`${e.value}`:p`undefined`;case"string":return p`${e.value}`;case"boolean":return new I(e.value);case"number":return new I(e.value);case"image":{if(e.value===void 0)return p`undefined`;let n=o.resolveResponsiveImage(e.value);return n?p`${n.src}`:p`undefined`}case"link":{if(!e.value||!r)return p`undefined`;let n=r.create(e.value);return n?new I(ge(n)):p`undefined`}default:ho(e)}}function ku(e,t,o,r=void 0){let{templatedUrl:n}=Qg(e,t),i=Hc(e);return new Y({url:n,resultKeyPath:e.resultKeyPath,fallbackValue:Vu(i.controlProp,t,o,r),errorFallbackValue:i.errorControlProp?Vu(i.errorControlProp,t,o,r):void 0,resultOutputType:i.controlProp.type,cacheDuration:e.cacheDuration,credentials:e.credentials})}function MB(e){return{id:e,value:void 0,dependencies:new Map,usedVariables:[],children:new Map,fetches:new I.Set,variantHasAnyFetches:!1}}function Kg(e,t){return e.get(t)??MB(t)}function OD(e,t,o){if(e.cache.ancestorRepeaterIds){if(o){let r=[...e.cache.ancestorRepeaterIds,e.id];for(let n=e.cache.ancestorRepeaterIds.length-1;n>=0;n--){let i=e.cache.ancestorRepeaterIds[n];if(i&&t.has(i))break;r.splice(n,1)}return r}return[...e.cache.ancestorRepeaterIds,e.id]}return[e.id]}function qg(...e){let t=[];for(let o of e)o&&t.push(ge(o));return new I(t.join(", "))}function Ru(e){if(e.length===0)return;let t={};for(let o of e)t[ge(o)]=o;return t}function WD(e,t){if(t.length===0)return p``;let o=new Y;for(let r of t)o[r.id]=e(r);return o}var ya,Yg,zD,wu=class{constructor(t){this.ctx=t;ce(this,ya);D(this,"preloadDependencyTree",new Map)}addQuery(t,o,r){if(!U(this,ya,Yg).call(this))return;let{destructured:n,dependencies:i}=this.getVariableDependencies(r),a=p`(${qg(this.ctx.command("query"),n)}) => ${I.fn(this.ctx.command("query"),o)}`;this.addStatement("query",t,i,I.fn(this.ctx.declarations.dedupe("query",a),this.ctx.command("query"),n))}addFetch(t,o){if(!U(this,ya,Yg).call(this))return;let{usedVariables:r}=Qg(o,this.ctx.variables);q(o.controlProp.value)&&r.push(o.controlProp.value);let{destructured:n,dependencies:i}=this.getVariableDependencies(r),a=p`(${qg(this.ctx.command("fetch"),n)}) => ${I.fn(this.ctx.command("fetch"),ku(o,this.ctx.variables,this.ctx.assets,void 0))}`;this.addStatement("fetch",t,i,I.fn(this.ctx.declarations.dedupe("fetch",a),this.ctx.command("fetch"),n))}createPromiseList({fetches:t,children:o},r=!1){let n=[];if(r)for(let i of t)n.push(i);for(let[,i]of o){for(let s of i.fetches)n.push(s);if(!i.value)continue;let a=i.value;if(i.children.size===0){n.push(a);continue}n.push(p`${a}.then(collection => Promise.all(collection.flatMap((${WD(s=>this.ctx.variables.create(s),i.usedVariables)}) => (${this.createPromiseList(i)}))))`)}return n}getHook(){if(!U(this,ya,zD).call(this))return{variants:new Set,hook:void 0};let t={},o=[],r=new Set;for(let[h,C]of this.preloadDependencyTree){if(C.children.size===0&&C.fetches.size===0||!C.variantHasAnyFetches)continue;r.add(h);let T=C.usedVariables.map(N=>this.ctx.variables.create(N));o.push(...T),t[h]=this.ctx.declarations.dedupe("preload",p`(${this.ctx.command("query")}, ${this.ctx.command("fetch")}, ${Ru(T)??p`props`}) => Promise.all(${this.createPromiseList(C,!0)})`)}if(!r.size)return{variants:new Set,hook:void 0};let n=this.ctx.declarations.dedupe("preloadStatements",t),i=this.ctx.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),a=this.ctx.imports.addImport("framer",{exportSpecifier:"usePreloadQuery"}),s=this.ctx.imports.addImport("framer",{exportSpecifier:"usePrefetch"}),l=p`variant`,c=p`gestures`,d=p`clearLoadingVariant`,u=p`setGestureState`,m=this.ctx.declarations.dedupe("useLoadingVariant",p`(${l}, ${c}, ${d}, ${u}, props?: Record<string, unknown>) => {${p.joinLines(p`const prequery = ${I.fn(a)}`,p`const prefetch = ${I.fn(s)}`,p`${i}.useEffect(() => {${p.joinLines(p`const promise = ${n}[${l}]`,p`if (!promise || !${c}?.[${l}]?.loading) return`,p`promise(prequery, prefetch, props)`,p`.then(() => ${I.fn(d)})`,p`.catch(() => ${I.fn(u,{isError:!0})})`)}}, [${l}])`)}}`);return{variants:r,hook:h=>I.fn(m,fe.baseVariant,h,fe.clearLoadingGesture,fe.setGestureState,Ru(o))}}addStatement(t,o,r,n){let i=this.ctx.getVariantIdFor(o),a=this.ctx.treeStore.tree.get(i);if(!a||!Ee(a)||hs(a.gesture))return;let s=Kg(this.preloadDependencyTree,a.id);t==="fetch"&&(s.variantHasAnyFetches=!0);let l=r.get(this.ctx.entryNode.id);l&&s.usedVariables.push(...l);let c=s;for(let d of OD(o,r,t==="fetch")){let u=Kg(c.children,d);if(d===o.id){t==="query"&&(u.value=n),t==="fetch"&&u.fetches.add(n);for(let[h,C]of r){let T=u.dependencies.get(h)??[];T.push(...C),u.dependencies.set(h,T)}}let m=r.get(d);m&&u.usedVariables.push(...m),c.children.set(d,u),c=u}this.preloadDependencyTree.set(a.id,s)}getVariableDependencies(t){let o=[],r=new Map;for(let n of t)o.push(this.ctx.variables.create(n)),OB(r,n.providerId??this.ctx.entryNode.id,n);return{destructured:Ru(o),dependencies:r}}};ya=new WeakSet,Yg=function(){return ue(this.ctx.entryNode)||Be(this.ctx.entryNode)},zD=function(){return ue(this.ctx.entryNode)};function OB(e,t,o){let r=e.get(t)??[];r.push(o),e.set(t,r)}var Bn=class{constructor(t,o,r,n,i,a,s){this.entryNode=t;this.treeStore=o;this.variables=r;this.declarations=n;this.bindings=i;this.imports=a;this.assets=s;D(this,"ctx");D(this,"routeLoader");D(this,"variantPreload");this.ctx=new bu(this.entryNode,this.treeStore,this.variables,this.declarations,this.bindings,this.imports,this.assets),this.routeLoader=new xu(this.ctx),this.variantPreload=new wu(this.ctx)}addDetailPageQuery(t,o,r){this.routeLoader.addDetailPageQuery(t,o,r)}addRouteLoaderQuery(t,o,r=[]){return this.routeLoader.addRouteLoaderQuery(t,o,r)}addChildComponent(t,o,r,n){this.routeLoader.addChildComponent(t,o,r,n)}getRouteLoaderCode(){return this.routeLoader.getRouteLoaderCode()}hasRouteLoaderQueries(){return this.routeLoader.hasRouteLoaderQueries()}getDetailPageQueryConstant(){return this.routeLoader.getDetailPageQueryConstant()}addQuery(t,o,r){this.variantPreload.addQuery(t,o,r)}addFetch(t,o){this.variantPreload.addFetch(t,o)}getHook(){return this.variantPreload.getHook()}};var Lu=class{constructor(){D(this,"cssWidthCache",new Map);D(this,"heightCache",new Map);D(this,"yPositionCache",new Map);D(this,"verticalStackLayoutInfoCache",new Map);D(this,"gridLayoutInfoCache",new Map);D(this,"computationCache",new Map);D(this,"testing",{getCSSWidthCache:()=>this.cssWidthCache,getHeightCache:()=>this.heightCache})}getCSSWidth(t){return this.cssWidthCache.get(t)}setCSSWidth(t,o){this.cssWidthCache.set(t,o)}getHeight(t){return this.heightCache.get(t)}setHeight(t,o){this.heightCache.set(t,o)}getYPosition(t){return this.yPositionCache.get(t)}setYPosition(t,o){this.yPositionCache.set(t,o)}getVerticalStackLayoutInfo(t){return this.verticalStackLayoutInfoCache.get(t)}setVerticalStackLayoutInfo(t,o){this.verticalStackLayoutInfoCache.set(t,o)}getGridLayoutInfo(t){return this.gridLayoutInfoCache.get(t)}setGridLayoutInfo(t,o){this.gridLayoutInfoCache.set(t,o)}memo(t,o){if(this.computationCache.has(t))return this.computationCache.get(t);let r=o();return this.computationCache.set(t,r),r}};var ey=class{constructor(){D(this,"heightNodes",new Set)}startComputingHeightFor(t){this.heightNodes.add(t)}isComputingHeightFor(t){return this.heightNodes.has(t)}finishComputingHeightFor(t){this.heightNodes.delete(t)}};function WB(e,t){return(o,r,n=void 0)=>{if(Zt(o))return t.createComputedValue(o,r,n);if(q(o))return e.create(o);ho(o,"all dynamic values should be handled above")}}function BD(e,t,o,r){return{tree:e,componentLoader:t,cache:new Lu,workInProgress:new ey,getVariableBinding:WB(o,r)}}var Me=class extends Error{constructor(...t){super(...t)}};function ke(e,t){let o=Math.round(e*1e4)/1e4;return{type:"css-const",expr:t?`${o}${t}`:`${o}`,value:e,unit:t}}var Du={"+":"-","-":"+","*":"/","/":"*"};function tt(e,t,o){if(t.type==="css-const"&&o.type==="css-const"){if(t.unit===o.unit){if(e==="+")return ke(t.value+o.value,t.unit);if(e==="-")return ke(t.value-o.value,t.unit);if(e==="min")return ke(Math.min(t.value,o.value),t.unit);if(e==="max")return ke(Math.max(t.value,o.value),t.unit)}else if(Rs(e)&&(t.value===0||o.value===0))return o.value!==0?o:t;if(e==="*"&&(!t.unit||!o.unit))return ke(t.value*o.value,t.unit||o.unit);if(e==="/"&&!o.unit)return ke(t.value/o.value,t.unit)}if(Rs(e)){if(o.type==="css-const"&&o.value===0)return t;if(t.type==="css-const"&&t.value===0)return o}else if(Fu(e)){if(o.type==="css-const"&&o.value===1)return t;if(t.type==="css-const"&&t.value===1)return o}else if(e==="min"||e==="max"){if(t.type==="css-op"&&t.op===e&&$D(t,o))return t;if(o.type==="css-op"&&o.op===e&&$D(o,t))return o;if(rr(t.expr,o.expr))return t}t.type==="css-op"&&t.right.type==="css-const"&&(Rs(e)&&Rs(t.op)?(o=tt(e==="+"?t.op:Du[t.op],o,t.right),t=t.left):Fu(e)&&Fu(t.op)&&(o=tt(e==="*"?t.op:Du[t.op],o,t.right),t=t.left));let r;if(Rs(e))o.type==="css-const"&&o.value<0&&(e=Du[e],o=ke(-o.value,o.unit)),e==="+"?r=it`${Ca(t)} + ${o.expr}`:e==="-"?o.type==="css-op"&&!Au(o.op)?r=it`${Ca(t)} - (${o.expr})`:r=it`${Ca(t)} - ${Ca(o)}`:ho(e);else if(Fu(e)){if(o.type==="css-const"&&o.value<1){let n=ke(1/o.value,o.unit);n.expr.length<o.expr.length&&(e=Du[e],o=n)}e==="/"&&o.type==="css-op"&&!Au(o.op)?r=it`${Ca(t)} / (${o.expr})`:r=it`${Ca(t)} ${e} ${Ca(o)}`}else Au(e)?r=it`${e}(${t.expr}, ${o.expr})`:ho(e,`unhandled op ${e}`);return{type:"css-op",expr:r,op:e,left:t,right:o}}function Eu(e){switch(e.type){case"number-const":return ke(e.value,"px");case"number-template":return Pi(e.expr);default:ho(e)}}function Pi(e){return{type:"css-template",expr:e}}function Rs(e){return e==="+"||e==="-"}function Fu(e){return e==="*"||e==="/"}function Au(e){return e==="min"||e==="max"}function $D(e,t){return rr(e.left.expr,t.expr)||rr(e.right.expr,t.expr)}function Ca(e){return e.type==="css-op"&&Rs(e.op)?it`(${e.expr})`:e.expr}function Mu(e){return e.type==="css-template"||e.type==="css-const"||e.type==="css-op"&&Au(e.op)?e.expr:it`calc(${e.expr})`}function zB(e,t,o,r,n,i){let a=t??hI;if(!i)return!0;let s=e.filters.filter(l=>{if(!l.itemKey)return!1;let c=i.properties[l.itemKey];return!(!c||c.type!=="boolean"&&l.transforms.length===0)});return s.length===0?!0:s[a==="all"?"every":"some"](l=>{let c=l.itemKey;S(c!==null,"itemKey should not be null");let d=i.properties[c];S(d,"control should exist");let u=o(c),m=r.getVariableControlByKey(c);return l.transforms.reduce((h,C)=>aT(h,C,r,n,m,void 0,void 0),u)})}function GD(e,t,o,r,n,i){return e?o.filter(a=>zB(e,t,s=>a[s],r,n,i)):o}function BB(e,t){return t?Array.from(e).reverse():e}function $B(e,t){if(t===void 0||t===0)return e;let o=Array.from(e);return o.splice(0,t),o}function GB(e,t){return e.length<=t?e:e.slice(0,t)}function HD(e,t,o,r,n=15){if(n&1&&(t=GD(e.collectionFilters,e.collectionFiltersOperator,t,e.cache,o,r)),n&2&&(t=BB(t,e.collectionReverse)),n&4&&(t=$B(t,e.collectionStartOffset)),n&8){let i=e.collectionLimit??1/0,a=e.collectionPaginationPageSize??1/0,s=Math.min(i,a);t=GB(t,s)}return t}var hr=1e3,_D=Symbol("Affects Layout: Indeterminate");function Ou(e){return e===_D}function $n(e,t,o,r){return ct(e)||Ed(e,t)&&jr(e)||Ad(o,e)&&lo(e)||Jr(e)&&e.visible===!1?!1:Jr(e)&&B(e.visible)?r?e.isVisible():_D:!0}function Dt(e){if(!Zo(e))return 0;if(B(e.padding))throw new Me;return e.paddingPerSide?e.paddingTop??0:e.padding??0}function Bo(e){if(!Zo(e))return 0;if(B(e.padding))throw new Me;return e.paddingPerSide?e.paddingBottom??0:e.padding??0}function nr(e){return B(e)?0:e??0}var HB=[];function Vi(e,t){let o=(qa(t)?t.getChildrenInVisualOrder():t.children)??HB;if(Et(t)){let r=t.collectionRepeatedItemId?o.findIndex(a=>a.id===t.collectionRepeatedItemId):0,n=o[r];if(!n)return o;let i=_B(e,t);return o.slice(0,r).concat(Array(i).fill(n)).concat(o.slice(r+1))}return o}function _B(e,t){if((t.collectionFilters?.filters?.length??0)>0)return 1;let o=e.dataForIdentifier(t.dataIdentifier),r=o?.itemToSlug??{},n=Object.keys(r).length,i=Array(n).fill({});return HD(t,i,void 0,o,14).length}function ic(e){let t=e.resolveValue("fillImage"),o=uv(t)?t.src:t;if(!o)return;let r=nN(o);if(!(!r||!Number.isFinite(r.width)||!Number.isFinite(r.height)||r.width<=0||r.height<=0))return r.width/r.height}function Wu(e,t){let o=e.widthType===0,r=Xa(e)&&e.usesDOMRectCached()&&eo(e.cache.getRawDOMRect(e.id));if(!(!o&&!r))return t.tree.getRect(e).width}var UD=";";function oy(e,t){return`${e}${UD}${t}`}function jB(e){let[t,o]=e.split(UD);return S(!F(o),"parseCellCoordinate(), satisfying TypeScript: columnIndex must exist: "+e),[Number(t),Number(o)]}function jD(e,t,o,r){let n=0;for(let i=0;i<o;i++){let a=oy(t,i);if(e.has(a)){n=0;continue}if(n++,n!==r)continue;let l=i-(r-1);return S(l>=0,"getColumnIndexForItem(), column index should be at least 0"),l}return-1}function UB(e,t,o,r,n,i,a){let s=r+(i-1);S(a>s,"fillCellsForItem(), column count has to be larger than maxColumnIndex");let l=o+(n-1);for(let c=r;c<=s;c++)for(let d=o;d<=l;d++){let u=oy(d,c);t.set(u,e)}}function JB(e,t){return!zi(e)||B(e.gridItemColumnSpan)?1:e.gridItemColumnSpan==="all"?t:Math.min(e.gridItemColumnSpan??1,t)}function zu(e,t){return!zi(e)||!at.isOn("gridBentoLayout")&&t.gridRowHeightType==="fit"||B(e.gridItemRowSpan)?1:e.gridItemRowSpan??1}var ty=class{constructor(t,o,r,n){this.gridLayout=t;this.rowCount=o;this.columnCount=r;this.filledRowCount=n;D(this,"coordinateCache")}getGridItem(t,o){let r=oy(t,o);return this.gridLayout.get(r)??null}findCoordinates(t){if(!this.coordinateCache){this.coordinateCache=new Map;for(let[o,r]of this.gridLayout){let[n,i]=jB(o),a=this.coordinateCache.get(r);(!a||n<a.rowIndex||i<a.columnIndex)&&this.coordinateCache.set(r,{rowIndex:n,columnIndex:i})}}return this.coordinateCache.get(t)??null}isEmpty(){return this.gridLayout.size===0}};function JD(e,t,o){let r=e.gridColumnCount;if(!te(r))return null;let n=new Map,i=0,a=-1;for(let c of Vi(o,e)){if(!$n(c,e,t,!0))continue;let d=JB(c,r),u=zu(c,e),m=jD(n,i,r,d);for(;m===-1;)i++,m=jD(n,i,r,d);UB(c.id,n,i,m,u,d,r);let h=i+(u-1);a=Math.max(a,h)}let s=a+1,l=Math.max(e.gridRowCount??0,s);return new ty(n,l,r,s)}function Sa(e,t){let o=t.cache.getGridLayoutInfo(e.id);if(o)return o;let r=JD(e,t.tree,t.componentLoader);if(We(r))throw new Me;return t.cache.setGridLayoutInfo(e.id,r),r}function kpe(e,t,o){return JD(e,t,o)?.filledRowCount}var XB={type:"number-const",value:0},ZB={type:"number-const",value:1/0},QB={type:"number-const",value:hr};function Ne(e){return e===0?XB:e===1/0?ZB:e===hr?QB:{type:"number-const",value:e$(e)}}function _(e,...t){return Bu(e,0,t.length,t)}function Bu(e,t,o,r){Yt(0<=t&&t<=o&&o<=r.length,"start and end must be within the bounds of operands");let n=o-t;if(n===0)return null;if(n===1){let c=r[t];return $c(c)?Ne(c):c}let{hasTemplateOperands:i,operationResult:a}=KB(t,o,r,e);if(!i)return Ne(a);let s=qB(t,o,r),l=e==="min"||e==="max"?I.fn(p`Math.${new I(e)}`,...s):new I(`(${bt(s,` ${e} `)})`);return ac(l,a,!0)}function KB(e,t,o,r){let n=!1,i;for(let a=e;a<t;a++){let s=o[a],l;$c(s)?l=s:s.type==="number-const"?l=s.value:s.type==="number-template"?(n=!0,l=$o(s)):ho(s),F(i)?i=l:i=YB(r,i,l)}return Yt(!F(i),"resultEstimate must be computed after walking over all operands"),{hasTemplateOperands:n,operationResult:i}}function qB(e,t,o){let r=[];for(let n=e;n<t;n++){let i=o[n];$c(i)?r.push(p`${i}`):i.type==="number-const"?r.push(p`${i.value}`):r.push(i.expr)}return r}function ac(e,t,o=!1){return{type:"number-template",expr:o?e:p`(${e})`,impreciseEstimate:t}}function YB(e,t,o){switch(e){case"+":return t+o;case"-":return t-o;case"*":return t*o;case"/":return t/o;case"min":return Math.min(t,o);case"max":return Math.max(t,o);default:ho(e)}}function e$(e){return Math.round(e*1e4)/1e4}function $o(e){return e.type==="number-const"?e.value:e.impreciseEstimate}var ry=class{constructor(t,o,r,n,i){this.columns=t;this.nodeToAccurateCoordinateMap=o;this.nodeToRoughCoordinateMap=r;this.gap=n;this.contentHeight=i;D(this,"frToPxCache",new Map)}walkColumn(t,o){if(this.columns[t])for(let r of this.columns[t])o(r.nodeId)}getStackItem(t,o){return this.columns[t]?.[o]?.nodeId??null}findCoordinates(t){return this.findAccurateCoordinates(t)??this.findRoughCoordinatesOfConditionallyVisibleNode(t)}findAccurateCoordinates(t){return this.nodeToAccurateCoordinateMap.get(t)??null}findRoughCoordinatesOfConditionallyVisibleNode(t){return this.nodeToRoughCoordinateMap.get(t)??null}getFrToPxForColumn(t){let o=this.columns[t];if(!o)return null;if(!this.frToPxCache.has(t)){let r=[],n=[];for(let d of o)d.type==="regular"?r.push(d):d.type==="fr"?n.push(d):ho(d);let i=r.reduce((d,u)=>_("+",d,u.getHeight()),Ne(0)),a=this.gap*(o.length-1),s=_("-",this.contentHeight,_("+",i,a)),l=n.reduce((d,u)=>d+u.frUnits,0),c=_("/",s,Math.max(l,1));for(n=n.sort((d,u)=>$o(u.getMinHeightPerFr())-$o(d.getMinHeightPerFr()));n[0]&&$o(n[0].getMinHeightPerFr())>$o(c);)s=_("-",s,n[0].getMinHeight()),l-=n[0].frUnits,c=_("/",s,Math.max(l,1)),n.shift();for(n=n.sort((d,u)=>$o(d.getMaxHeightPerFr())-$o(u.getMaxHeightPerFr()));n[0]&&$o(n[0].getMaxHeightPerFr())<$o(c);)s=_("-",s,n[0].getMaxHeight()),l-=n[0].frUnits,c=_("/",s,Math.max(l,1)),n.shift();this.frToPxCache.set(t,_("max",Ne(0),c))}return this.frToPxCache.get(t)??null}};function $u(e,t,o,r,n){let i=t.cache.getVerticalStackLayoutInfo(e.id);if(i)return i;let a=t$(e,t,o,r,n);return t.cache.setVerticalStackLayoutInfo(e.id,a),a}function t$(e,t,o,r,n){let i=ny(e),a=Eo(i),s=_("-",o(e),Dt(e)+Bo(e)),l=$o(s),c=new Map,d=new Map,u=[],m=0;for(let h of Vi(t.componentLoader,e)){if(!(Ae(h)&&st(h)))continue;let C=$n(h,e,t.tree,!1);if(C===!1)continue;if(Ou(C)){d.set(h.id,{columnIndex:Math.max(u.length-1,0),columnItemIndex:Math.max(u[u.length-1]?.length??0,0)});continue}let T=o$(h,t,o,r,n);if(e.stackWrapEnabled){let P=$o(T.type==="fr"?T.getMinHeight():T.getHeight());Math.ceil(m+a+P)>Math.ceil(l)||u.length===0?(u.push([T]),m=P):(u[u.length-1].push(T),m+=a+P)}else u[0]=u[0]??[],u[0].push(T);c.set(h.id,{columnIndex:u.length-1,columnItemIndex:u[u.length-1].length-1})}return new ry(u,c,d,a,s)}function o$(e,t,o,r,n){if(e.heightType===3){let i={nodeId:e.id,type:"fr",frUnits:e.height,getMinHeight:()=>t.cache.memo(`stack-getMinHeight-${e.id}`,()=>r(e)),getMaxHeight:()=>t.cache.memo(`stack-getMaxHeight-${e.id}`,()=>n(e)),getMinHeightPerFr:()=>t.cache.memo(`stack-getMinHeightPerFr-${e.id}`,()=>_("/",i.getMinHeight(),i.frUnits)),getMaxHeightPerFr:()=>t.cache.memo(`stack-getMaxHeightPerFr-${e.id}`,()=>_("/",i.getMaxHeight(),i.frUnits))};return i}else return{nodeId:e.id,getHeight:()=>t.cache.memo(`stack-getHeight-${e.id}`,()=>o(e)),type:"regular"}}function ny(e){return jc(e)?nr(e.gap):0}function XD(e,t){if(e.textFitViewBoxSize)throw new Me;let o=e.widthType!==2,r=0;for(let[n,i]of e.getProsemirrorTextBlocks(!1).entries()){let a,[s,l]=i$(i,t);if(l==="px")a=s;else{let u=l==="%"?s/100:s;a=r$(i,t)*u}let c=0;n>0&&(c=a$(i,e,t)??0);let d=1;if(o){let u=i.attrs.tag;u==="h1"||u==="h2"||u==="h3"||u==="h4"||u==="h5"||u==="h6"?d=1:u==="p"||u==="div"?d=5:ho(u)}r+=c+a*d}return r}function r$(e,t){let o=n$(e,t);return e.descendants(r=>{if(!mT(r))return;let i=r.marks.find(uT)?.attrs.inlineStyles.fontSize;if(B(i))throw new Me;if(F(i))return;let[a,s="px"]=ai(i)?i:[i],l=qm(a,s,"px");l>o&&(o=l)}),o}function n$(e,t){if(Sd(e)){let o=e.attrs.textStylePreset,r=t.getNodeWithTrait(o,io);if(r){let[n,i]=id(r.fontSize)?Gi(r.fontSize):[r.fontSize,"px"];return i==="rem"?go(n*ZS,0):n}}if(!F(e.attrs.inlineStyles.fontSize)){let o=e.attrs.inlineStyles.fontSize;if(B(o))throw new Me;let[r,n="px"]=ai(o)?o:[o];return qm(r,n,"px")}return Gi(Ym.fontSize)[0]}function i$(e,t){if(Sd(e)){let o=e.attrs.textStylePreset,r=t.getNodeWithTrait(o,io);if(r)return r.lineHeight}return F(e.attrs.blockStyles.lineHeight)?Ym.lineHeight:e.attrs.blockStyles.lineHeight}function a$(e,t,o){if(Sd(e)){let r=e.attrs.textStylePreset,n=o.getNodeWithTrait(r,io);if(n)return n.paragraphSpacing}return t.paragraphSpacing}var ZD=Je("simulateHeight"),s$=200;function QD(e,t){try{let o=ht(e,t);return o.type==="number-const"?o.value:o.expr}catch(o){if(o instanceof Me)return;ZD.reportWithoutLogging(o,{nodeId:e.id}),ZD.warnOncePerMinute(`Can\u2019t simulate the height for node ${e.id} because the tree doesn\u2019t match expectations. Skipping.`,o);return}}function ht(e,t){let o=t.cache.getHeight(e.id);if(!F(o))return o;if(t.workInProgress.isComputingHeightFor(e.id))throw new Error("Detected a circular walk in simulateHeight(): we\u2019re entering a node which is already being computed. This would result in a call stack overflow. Exiting early.");let r;try{t.workInProgress.startComputingHeightFor(e.id),r=l$(e,t)}finally{t.workInProgress.finishComputingHeightFor(e.id)}return t.cache.setHeight(e.id,r),r}function l$(e,t){if(!as(e))throw new Me;let o=t.tree.getNodeParent(e);if(et(e))return Ne(hr);if(S(Ae(e)&&st(e),"Can\u2019t calculate the height on a node when it doesn\u2019t have size information"),Ha(e)){let n=t.tree.getRect(e).height;return ac(p`${fe.componentViewport}?.height || ${n}`,n)}if(ml(e))return Wt.startFromRowHeightMultipliedBySpan(e,t).getWithConstraints();if(!hi(e,o)&&Ve(e)&&eo(e.top)&&eo(e.bottom))return(lo(e)?Wt.startFromFixedValue(Ne(hr),e,t):Wt.startFromParentOuterHeight(e,t)).op((i,a)=>{let s=a.top,l=a.bottom;return S(eo(s)&&eo(l),"Satisfying TypeScript"),_("-",i,Ne(s+l))}).getWithConstraints();if(e.heightType===0)return Wt.startFromFixedValue(Ne(e.height),e,t).getWithConstraints();if(e.heightType===1){S(o,"A node can\u2019t have a % height without a parent");let n;return lo(e)?n=Wt.startFromFixedValue(Ne(hr),e,t):jr(e)?n=Wt.startFromParentOuterHeight(e,t):to(o)&&zi(e)?n=Wt.startFromRowHeightMultipliedBySpan(e,t):n=Wt.startFromParentInnerHeight(e,t),n.op((i,a)=>_("*",i,Ne(a.height))).getWithConstraints()}if(e.heightType===4)return Wt.startFromFixedValue(Ne(e.height*hr),e,t).getWithConstraints();if(e.heightType===3){if(S(!jr(e)&&!lo(e),"FractionOfFreeSpace height is not supported for fixed or absolute node"),S(o,"A node can\u2019t have a fractional height without a parent"),!no(o)&&to(o)){let n=Gu(e,t);if(!n)throw new Me;return n}if(S(no(o),"A node can have a fractional height only if it\u2019s inside a stack"),S(o.stackDirection,"A stack must have a direction defined"),B(o.stackDirection))throw new Me;if(o.stackDirection==="horizontal")return Wt.startFromParentInnerHeight(e,t).op((n,i)=>_("*",n,Ne(i.height))).getWithConstraints();if(o.stackDirection==="vertical"){S(Ae(o)&&st(o),"A stack must have a size and size-dimension type");let n=$u(o,t,l=>ht(l,t),l=>Hu(l,t),l=>_u(l,t)),i=n.findCoordinates(e.id);S(i,"Node must be found in stack");let a=n.getFrToPxForColumn(i.columnIndex);S(a,"frHeight must be available for column");let s=_("*",a,Ne(e.height));return Wt.startFromFixedValue(s,e,t).getWithConstraints()}G(o.stackDirection)}if(e.heightType===2){let n=Gu(e,t);if(!n)throw new Me;return n}if(e.heightType===5){if(!so(e))throw new Me;let n=ic(e),i=Wu(e,t),a=F(i)||F(n)?e.height:Math.round(i*(1/n));return Wt.startFromFixedValue(Ne(a),e,t).getWithConstraints()}G(e.heightType)}var Gn,sc,ws,lc,gr,iy,ay,KD,sy,ir=class ir{constructor(t,o,r,n){ce(this,Gn);ce(this,sc);ce(this,ws);ce(this,lc);le(this,Gn,t),le(this,sc,o),le(this,ws,r),le(this,lc,n)}static startFromFixedValue(t,o,r){return new ir(t,()=>{var i,a;let n=r.tree.getNodeParent(o);if(S(n,"Can\u2019t calculate the parent height on a node without a parent"),S(Ae(n)&&st(n),"Can\u2019t calculate the parent height on a node when a parent doesn\u2019t have size information"),to(n)){let s=U(i=ir,gr,iy).call(i,o,n,r);return U(a=ir,gr,ay).call(a,s,o,n)}else return ht(n,r)},o,r)}static startFromParentOuterHeight(t,o){let r=o.tree.getNodeParent(t);S(r,"Can\u2019t call startFromParentOuterHeight() on a node without a parent");let n=ht(r,o);return new ir(n,()=>n,t,o)}static startFromParentInnerHeight(t,o){let r=o.tree.getNodeParent(t);S(r,"Can\u2019t call startFromParentInnerHeight() on a node without a parent");let n=_("-",ht(r,o),Dt(r)+Bo(r));return new ir(n,()=>n,t,o)}static startFromRowHeightMultipliedBySpan(t,o){var a,s;let r=o.tree.getNodeParent(t);S(r&&to(r),"Can\u2019t call startFromColumnHeightMultipliedBySpan() if the node isn\u2019t inside a grid");let n=U(a=ir,gr,iy).call(a,t,r,o),i=U(s=ir,gr,ay).call(s,n,t,r);return new ir(i,()=>i,t,o)}op(t){return le(this,Gn,t(E(this,Gn),E(this,ws))),this}getWithConstraints(){var t;return le(this,Gn,U(t=ir,gr,KD).call(t,E(this,Gn),E(this,ws),E(this,lc),E(this,sc))),E(this,Gn)}};Gn=new WeakMap,sc=new WeakMap,ws=new WeakMap,lc=new WeakMap,gr=new WeakSet,iy=function(t,o,r){if(S(!F(o.gridRowHeightType),"A grid node must have gridRowHeightType defined"),o.gridRowHeightType==="fixed")return S(!F(o.gridRowHeight),"A fixed-height grid node must have gridRowHeight defined"),Ne(o.gridRowHeight);if(o.gridRowHeightType==="fit"){let n=Sa(o,r);if(n.isEmpty())return Ne(0);let i=n.findCoordinates(t.id);S(i,"Node must be found in the grid layout");let a=i.rowIndex;return qD(r,n,o,a)}else if(o.gridRowHeightType==="auto"){let n=ht(o,r),i=_("-",n,Dt(o)+Bo(o)),a=Sa(o,r).rowCount,s=nr(o.gap),l=Eo(s),c=(a-1)*l;return _("/",_("-",i,c),a)}else G(o.gridRowHeightType)},ay=function(t,o,r){let n=zu(o,r),i=nr(r.gap),a=Eo(i);return _("+",_("*",t,n),a*(n-1))},KD=function(t,o,r,n){var a,s;let i=t;return fn(o)&&(o.maxHeight&&(i=U(a=ir,gr,sy).call(a,"maxHeight",i,o,r,n)),o.minHeight&&(i=U(s=ir,gr,sy).call(s,"minHeight",i,o,r,n))),i},sy=function(t,o,r,n,i){let a=t==="minHeight"?"max":"min",[s,l]=Qi(r[t]);if(l==="%"){let c=n.tree.getNodeParent(r);if(S(c,"parentNode must exist for a node with percentage min-max heights"),st(c)&&c.heightType===2)return o;let d=i();return _(a,o,_("*",d,s/100))}else{if(l==="px")return _(a,o,s);if(l==="vh")return _(a,o,hr*s/100);G(l)}},ce(ir,gr);var Wt=ir;function Gu(e,t){return t.cache.memo(`autoHeight-${e.id}`,()=>c$(e,t))}function c$(e,t){if(Pe(e)){let o=XD(e,t.tree);return Wt.startFromFixedValue(Ne(o),e,t).getWithConstraints()}if(J(e)){let o=e.getIntrinsicSize(t.componentLoader).height??s$;return Wt.startFromFixedValue(Ne(o),e,t).getWithConstraints()}if(no(e)){if(S(e.stackDirection,"A stack must have a direction defined"),B(e.stackDirection))throw new Me;if(e.stackDirection==="horizontal"){if(e.stackWrapEnabled)throw new Me;{let o=d$(e,t);return Wt.startFromFixedValue(o,e,t).op((r,n)=>_("+",r,Dt(n)+Bo(n))).getWithConstraints()}}else if(e.stackDirection==="vertical"){let o=p$(e,t),r=u$(e,t,o);return Wt.startFromFixedValue(r,e,t).op((n,i)=>_("+",n,Dt(i)+Bo(i))).getWithConstraints()}else G(e.stackDirection)}if(to(e)){if(S(!F(e.gridColumnCount),"A grid node must have gridColumnCount"),e.gridColumnCount==="auto-fill")throw new Me;if(te(e.gridColumnCount)){S(!F(e.gridRowHeightType),"A grid must have gridRowHeightType defined");let o=Sa(e,t);if(e.gridRowHeightType==="fixed"){S(!F(e.gridRowHeight),"A node with gridRowHeightType: fixed must have gridRowHeight defined");let r=o.rowCount,n=nr(e.gap),i=Eo(n),a=(o.rowCount-1)*i,l=e.gridRowHeight*r+a;return Wt.startFromFixedValue(Ne(l),e,t).op((c,d)=>_("+",c,Dt(d)+Bo(d))).getWithConstraints()}else if(e.gridRowHeightType==="fit"){let r=Ne(0);for(let l=0;l<o.rowCount;l++){let c=qD(t,o,e,l);r=_("+",r,c)}let n=nr(e.gap),i=Eo(n),a=(o.rowCount-1)*i,s=_("+",r,a);return Wt.startFromFixedValue(s,e,t).op((l,c)=>_("+",l,Dt(c)+Bo(c))).getWithConstraints()}else if(e.gridRowHeightType==="auto"){let r=Ne(0);for(let c=0;c<o.rowCount;c++)for(let d=0;d<o.columnCount;d++){let u=o.getGridItem(c,d);if(!u)continue;let m=t.tree.getNode(u);if(S(m,"Can\u2019t find grid item in the tree"),!Ae(m)||!st(m))continue;let h=YD(m,e,t);r=_("max",r,h)}let n=_("*",r,o.rowCount),i=nr(e.gap),a=Eo(i),s=(o.rowCount-1)*a,l=_("+",n,s);return Wt.startFromFixedValue(l,e,t).op((c,d)=>_("+",c,Dt(d)+Bo(d))).getWithConstraints()}else G(e.gridRowHeightType)}G(e.gridColumnCount)}return null}function d$(e,t){let o=Ne(0);for(let r of e.children??[])!Ae(r)||!st(r)||$n(r,e,t.tree,!0)&&(r.heightType===1||r.heightType===3||(o=_("max",o,ht(r,t))));return o}function p$(e,t){if(Ae(e)&&fn(e)&&!F(e.maxHeight)&&e.stackWrapEnabled){let o=_u(e,t),r=_("-",o,Dt(e)+Bo(e));return $o(r)}return 1/0}function u$(e,t,o){let r=ny(e),n=Eo(r),i=[];for(let s of Vi(t.componentLoader,e)){if(!Ae(s)||!st(s)||!$n(s,e,t.tree,!0))continue;let l;switch(s.heightType){case 3:l=Hu(s,t);break;case 1:l=Ne(0);break;case 0:case 2:case 4:case 5:l=ht(s,t);break;default:G(s.heightType)}let c=i[i.length-1]??Ne(0),d=_("+",c,n,l);Math.ceil($o(d))>Math.ceil(o)||i.length===0?i.push(l):i[i.length-1]=d}return _("max",...i)??Ne(0)}function qD(e,t,o,r){let n=Ne(0);for(let i=0;i<t.columnCount;i++){let a=t.getGridItem(r,i);if(!a)continue;let s=e.tree.getNode(a);if(S(s,"Can\u2019t find grid item in the tree"),!Ae(s)||!st(s))continue;let l=at.isOn("gridBentoLayout")?YD(s,o,e):s.heightType===1?Gu(s,e)??Ne(0):ht(s,e);n=_("max",n,l)}return n}function YD(e,t,o){let r=e.heightType===1||ml(e)?Gu(e,o)??Ne(0):ht(e,o),n=zu(e,t);if(n>1){let i=nr(t.gap),s=Eo(i)*(n-1);r=_("/",_("-",r,s),n)}return r}function Hu(e,t){let o=Ne(0);return Ae(e)?Wt.startFromFixedValue(o,e,t).getWithConstraints():o}function _u(e,t){let o=Ne(1/0);return Ae(e)?Wt.startFromFixedValue(o,e,t).getWithConstraints():o}var eF=Je("simulateCSSWidth");function rF(e,t){try{let o=cc(e,t);return Mu(o)}catch(o){if(o instanceof Me)return;eF.reportWithoutLogging(o,{nodeId:e.id}),eF.warnOncePerMinute(`Can\u2019t simulate the CSS width for node ${e.id} because the tree doesn\u2019t match expectations. Skipping.`,o);return}}function cc(e,t){let o=t.cache.getCSSWidth(e.id);if(o)return o;let r=m$(e,t);return t.cache.setCSSWidth(e.id,r),r}function m$(e,t){if(!as(e))throw new Me;let o=t.tree.getNodeParent(e);if(et(e))return ke(100,"vw");if(S(Ae(e)&&st(e),`Can\u2019t calculate the width on a node ${e.id} when it doesn\u2019t have size information`),t.tree.isGroundNode(e)){if(Ce(e)&&Be(t.tree.getScopeNodeFor(e)))return ke(100,"vw");if(Ha(e)||Ce(e)){let n=ke(100,"vw");return Pi(p`${fe.componentViewport}?.width || ${n.expr}`)}else{let n=Wu(e,t);if(F(n))throw new Me;return ke(n,"px")}}if(Nd(e))return Ro.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(!hi(e,o)&&Ve(e)&&eo(e.left)&&eo(e.right))return Ro.startFromParentOuterWidth(e,t).op((n,i)=>{let a=i.left,s=i.right;return S(eo(a)&&eo(s),"Satisfying TypeScript"),tt("-",n,ke(a+s,"px"))}).getWithConstraints();if(mi(e)&&Ve(e)&&te(e.aspectRatio)&&pI(e)==="width"){let n=ht(e,t),i=tt("*",Eu(n),ke(e.aspectRatio));return Ro.startFromRawValue(i,e,t).getWithConstraints()}if(e.widthType===0)return Ro.startFromRawValue(ke(e.width,"px"),e,t).getWithConstraints();if(e.widthType===1){S(o,"A node can\u2019t have a % width without a parent");let n;return lo(e)?n=Ro.startFromRawValue(ke(100,"vw"),e,t):jr(e)?n=Ro.startFromParentOuterWidth(e,t):to(o)?n=Ro.startFromColumnWidthMultipliedBySpan(e,t):n=Ro.startFromParentInnerWidth(e,t),n.op((i,a)=>tt("*",i,ke(a.width))).getWithConstraints()}if(e.widthType===3){let n=t.tree.getNodeParent(e);if(S(n,"A node can\u2019t have a fractional width without a parent"),to(n))return Ro.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(S(no(n),"A node can have a fractional width only if it\u2019s inside a stack"),S(n.stackDirection,"A stack must have a direction defined"),n.stackDirection==="horizontal")return tF(e,n.stackWrapEnabled??!1,t);if(n.stackDirection==="vertical")return oF(e,t);if(B(n.stackDirection)){let i=tF(e,n.stackWrapEnabled??!1,t),a=oF(e,t);if(rr(i,a))return i;let s=t.getVariableBinding(n.stackDirection,n);if(!s)throw new Me;let l=p`${s} === "row"`,c=p`${l} ? ${Mu(i)} : ${Mu(a)}`;return Pi(c)}G(n.stackDirection)}if(e.widthType===2){if(fn(e)&&e.maxWidth){let[n,i]=Qi(e.maxWidth);return ke(n,i)}throw new Me}if(e.widthType===4){let n=ke(e.width*100,"vw");return Ro.startFromRawValue(n,e,t).getWithConstraints()}if(e.widthType===5){if(!so(e))throw new Me;let n=ic(e),i=ht(e,t),a=F(i)||F(n)?ke(e.width,"px"):tt("*",Eu(i),ke(n));return Ro.startFromRawValue(a,e,t).getWithConstraints()}G(e.widthType)}function tF(e,t,o){return t?Ro.startFromParentInnerWidth(e,o).getWithConstraints():Ro.startFromParentInnerWidth(e,o).subtractSiblingWidths().getWithConstraints()}function oF(e,t){return Ro.startFromParentInnerWidth(e,t).op((o,r)=>tt("*",o,ke(r.width))).getWithConstraints()}var dt,Ls,Fr,Hn,Ar,nF,iF,ly,cy,yr=class yr{constructor(t,o,r,n){ce(this,dt);ce(this,Ls);ce(this,Fr);ce(this,Hn);le(this,dt,t),le(this,Ls,o),le(this,Fr,r),le(this,Hn,n)}static startFromRawValue(t,o,r){return new yr(t,()=>{let n=r.tree.getNodeParent(o);return S(n,"Can\u2019t calculate the parent width if the node doesn\u2019t have a parent"),cc(n,r)},o,r)}static startFromParentOuterWidth(t,o){let r=o.tree.getNodeParent(t);S(r,"Can\u2019t call createFromParentWidth() if the node doesn\u2019t have a parent");let n=cc(r,o);return new yr(n,()=>n,t,o)}static startFromParentInnerWidth(t,o){var i;let r=o.tree.getNodeParent(t);S(r,"Can\u2019t call createFromParentWidthMinusPaddings() if the node doesn\u2019t have a parent");let n=cc(r,o);return n=U(i=yr,Ar,ly).call(i,n,r,o),new yr(n,()=>n,t,o)}static startFromColumnWidthMultipliedBySpan(t,o){var a,s;let r=o.tree.getNodeParent(t);S(r&&to(r),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node isn\u2019t inside a grid"),S(zi(t),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node doesn\u2019t have grid item layout");let n=U(a=yr,Ar,nF).call(a,r,o),i=U(s=yr,Ar,iF).call(s,n,r,t.gridItemColumnSpan??1,o);return new yr(i,()=>i,t,o)}subtractSiblingWidths(){let t=E(this,Hn).tree.getNodeParent(E(this,Fr));S(t&&no(t),"Can\u2019t call subtractSiblingWidths() if the node isn\u2019t inside a stack");let o=[],r=[],n=[],i=[],a=[],s=0;for(let u of Vi(E(this,Hn).componentLoader,t)){let m=$n(u,t,E(this,Hn).tree,!1);if(m!==!1&&!Ou(m))switch(S(Ae(u)&&st(u),"It\u2019s impossible to have a regular visible node without width/height/widthType/heightType fields"),s++,u.widthType){case 0:{o.push(u);break}case 1:{r.push(u);break}case 3:{n.push(u);break}case 4:{i.push(u);break}case 2:throw new Me;case 5:{if(!so(u)||!u.fillImagePixelWidth||!u.fillImagePixelHeight)throw new Me;a.push(u);break}default:G(u.widthType)}}let c=1-r.reduce((u,m)=>u+m.width,0);if(c!==1&&le(this,dt,tt("*",E(this,dt),ke(c))),o.length){let u=o.reduce((m,h)=>tt("+",m,ke(h.width,"px")),ke(0,"px"));le(this,dt,tt("-",E(this,dt),u))}if(a.length){let u=a.reduce((m,h)=>{let C=ic(h);if(!C)throw new Me;let T=ht(h,E(this,Hn));if(!T)throw new Me;return tt("+",m,tt("*",Eu(T),ke(C,"px")))},ke(0,"px"));le(this,dt,tt("-",E(this,dt),u))}if(i.length){let u=i.reduce((m,h)=>tt("+",m,ke(h.width*100,"vw")),ke(0,"vw"));le(this,dt,tt("-",E(this,dt),u))}if(B(t.gap)){let u=E(this,Hn).getVariableBinding(t.gap,t);if(u){let m=Pi(it`${p`${u} * ${s-1}`}px`);le(this,dt,tt("-",E(this,dt),m))}}else{let m=lp(t.gap)*(s-1);m!==0&&le(this,dt,tt("-",E(this,dt),ke(m,"px")))}let d=n.reduce((u,m)=>u+m.width,0);return le(this,dt,tt("/",E(this,dt),ke(d))),le(this,dt,tt("*",E(this,dt),ke(E(this,Fr).width))),le(this,dt,tt("max",E(this,dt),ke(1,"px"))),this}op(t){return le(this,dt,t(E(this,dt),E(this,Fr))),this}getWithConstraints(){var t,o;return fn(E(this,Fr))?(E(this,Fr).maxWidth&&le(this,dt,U(t=yr,Ar,cy).call(t,"maxWidth",E(this,dt),E(this,Ls),E(this,Fr))),E(this,Fr).minWidth&&le(this,dt,U(o=yr,Ar,cy).call(o,"minWidth",E(this,dt),E(this,Ls),E(this,Fr))),E(this,dt)):E(this,dt)}};dt=new WeakMap,Ls=new WeakMap,Fr=new WeakMap,Hn=new WeakMap,Ar=new WeakSet,nF=function(t,o){var r;if(S(!F(t.gridColumnWidthType),"A grid node must have a gridColumnWidthType defined"),t.gridColumnWidthType==="fixed")return S(!F(t.gridColumnWidth),"A grid node with fixed width columns must have a gridColumnWidth defined"),ke(t.gridColumnWidth,"px");if(t.gridColumnWidthType==="minmax"){if(t.gridColumnCount==="auto-fill")throw new Me;let n=cc(t,o);if(n=U(r=yr,Ar,ly).call(r,n,t,o),S(!F(t.gridColumnCount),"A grid node must have a gridColumnCount defined"),B(t.gap)){let i=o.getVariableBinding(t.gap,t);if(i){let a=Pi(it`${p`${i} * ${t.gridColumnCount-1}`}px`);n=tt("-",n,a)}}else{let a=lp(t.gap)*(t.gridColumnCount-1);a!==0&&(n=tt("-",n,ke(a,"px")))}return t.gridColumnCount>1&&(n=tt("/",n,ke(t.gridColumnCount))),t.gridColumnMinWidth&&(n=tt("max",n,ke(t.gridColumnMinWidth,"px"))),n}else G(t.gridColumnWidthType)},iF=function(t,o,r,n){if(r===1)return t;let i;if(te(r)){if(o.gridColumnCount==="auto-fill")throw new Me;S(!F(o.gridColumnCount),"A grid must have gridColumnCount defined"),i=Math.min(r,o.gridColumnCount)}else if(r==="all"){if(o.gridColumnCount==="auto-fill")throw new Me;S(!F(o.gridColumnCount),"A grid must have gridColumnCount defined"),i=o.gridColumnCount}else{if(B(r))throw new Me;G(r)}if(i>1&&(t=tt("*",t,ke(i))),B(o.gap)){let a=n.getVariableBinding(o.gap,o);if(a){let s=Pi(it`${p`${a} * ${i-1}`}px`);t=tt("+",t,s)}}else{let s=lp(o.gap)*(i-1);s!==0&&(t=tt("+",t,ke(s,"px")))}return t},ly=function(t,o,r){if(!Zo(o))return t;let n;if(B(o.padding)){let i=r.getVariableBinding(o.padding,o);i&&(n=Pi(it`${p`${i} * 2`}px`))}else o.paddingPerSide?n=ke((o.paddingLeft??0)+(o.paddingRight??0),"px"):n=ke((o.padding??0)*2,"px");return n?tt("-",t,n):t},cy=function(t,o,r,n){let i=t==="minWidth"?"max":"min",[a,s]=Qi(n[t]);if(s==="%"){let l=r();return tt(i,o,tt("*",l,ke(a/100)))}else return tt(i,o,ke(a,s))},ce(yr,Ar);var Ro=yr;var aF=Je("simulateYPosition");function lF(e,t){try{let o=Er(e,t);return o.type==="number-const"?o.value:o.expr}catch(o){if(o instanceof Me)return;aF.reportWithoutLogging(o,{nodeId:e.id}),aF.warnOncePerMinute(`Can\u2019t simulate the y position for node ${e.id} because the tree doesn\u2019t match expectations. Skipping.`,o);return}}function Er(e,t){let o=t.cache.getYPosition(e.id);if(o)return o;let r=f$(e,t);return t.cache.setYPosition(e.id,r),r}function f$(e,t){if(!as(e))throw new Me;let o=t.tree.getNodeParent(e);if(!(Ve(e)&&ts(e))){if(et(e))return Ne(0);S(!1,"Can\u2019t calculate the y position on a node when it doesn\u2019t have position information")}if(t.tree.isGroundNode(e)){if(Ce(e)&&Be(t.tree.getScopeNodeFor(e)))return Ne(0);if(Ha(e)||Ce(e))return ac(p`${fe.componentViewport}?.y || 0`,0);throw new Me}let r=C$(e,o,t);if(r==="fixed"){if(eo(e.top))return Ne(e.top);if(eo(e.bottom)){let n=ht(e,t);return _("-",hr-e.bottom,n)}else{let n=ht(e,t);return _("-",_("*",hr,e.centerAnchorY),_("/",n,2))}}if(r==="absolute"){S(o&&Ve(o)&&ts(o),"absolute position: parentNode for the node must exist, be pinnable, and have position type");let n=Er(o,t);if(eo(e.top))return _("+",n,Ne(e.top));if(eo(e.bottom)){let i=ht(o,t),a=ht(e,t);return _("-",_("+",n,i),_("+",e.bottom,a))}else{let i=ht(o,t),a=ht(e,t);return _("+",n,_("-",_("*",i,e.centerAnchorY),_("/",a,2)))}}if(r==="sticky"||F(r)){if(S(o&&Ve(o)&&ts(o),"relative position: parentNode for the node must exist, be pinnable, and have position type"),no(o)){if(S(o.stackDirection,"parentNode for the node must have stackDirection"),o.stackDirection==="horizontal"){if(o.stackWrapEnabled)return _("+",Er(o,t),Dt(o));if(B(o.stackAlignment))return _("+",Er(o,t),Dt(o));let n=ht(o,t),i=_("-",n,Dt(o)+Bo(o));if(S(o.stackAlignment,"parentNode for node must have stackAlignment"),o.stackAlignment==="start")return _("+",Er(o,t),Dt(o));if(o.stackAlignment==="center"){let a=ht(e,t),s=_("-",i,a);return _("+",Er(o,t),_("+",Dt(o),_("/",s,2)))}else if(o.stackAlignment==="end"){let a=ht(e,t),s=_("-",i,a);return _("+",Er(o,t),Dt(o),s)}else G(o.stackAlignment)}if(o.stackDirection==="vertical"){let n=$u(o,t,c=>ht(c,t),c=>Hu(c,t),c=>_u(c,t)),i=n.findCoordinates(e.id);S(i,"Node must be found in stack layout info");let a=h$(i.columnIndex,n,t),s=g$(i.columnItemIndex,a,o,t),l=[Er(o,t),Dt(o),s];return S$(o,e,t)&&l.unshift(hr),_("+",...l)}if(B(o.stackDirection))return _("+",Er(o,t),Dt(o));G(o.stackDirection)}if(to(o)){if(S(!F(o.gridColumnCount),"parentNode for node must have gridColumnCount"),o.gridColumnCount==="auto-fill")return _("+",Er(o,t),Dt(o));if(te(o.gridColumnCount)){let n=Sa(o,t);if(n.isEmpty())return _("+",Er(o,t),Dt(o));let i=n.findCoordinates(e.id);S(i,"Node must be found in the grid layout info");let a=y$(i.rowIndex,n,o,t);return _("+",Er(o,t),Dt(o),a)}G(o.gridColumnCount)}S(!1,"Relative and sticky nodes can only exist in stacks or grids")}G(r)}function h$(e,t,o){let r=[];return t.walkColumn(e,n=>{let i=o.tree.get(n);S(i&&Ae(i)&&st(i),"column item must exist, have size, and have size dimension type");let a;if(i.heightType===3){let s=t.getFrToPxForColumn(e);S(s,"frToPx must be available for the column"),a=_("*",s,i.height)}else a=ht(i,o);r.push(a)}),r}function sF(e,t,o){return o.cache.memo(`sumAllStackChildrenHeights-${e.id}`,()=>_("+",...t)??Ne(0))}function g$(e,t,o,r){let n=o.stackDistribution;if(S(n,"parentNode for node must have stackDistribution"),B(n))return Ne(0);let i=ht(o,r),a=_("-",i,Dt(o)+Bo(o));if(n==="start"||n==="center"||n==="end"){let s=nr(o.gap),l=Eo(s),c;if(n==="start")c=Ne(0);else{let m=sF(o,t,r),h=l*(t.length-1),C=_("-",a,_("+",m,h));c=n==="center"?_("/",C,2):C}let d=Bu("+",0,e,t)??Ne(0),u=l*e;return _("+",c,d,u)}if(n==="space-between"||n==="space-around"||n==="space-evenly"){S(!jc(o),"gap is not expected with stackDistribution:",o.stackDistribution);let s=sF(o,t,r),l=_("-",a,s),c=t.length,d;switch(n){case"space-between":d=_("/",l,Math.max(1,c-1));break;case"space-around":d=_("/",l,c);break;case"space-evenly":d=_("/",l,c+1);break;default:G(n)}let u;switch(n){case"space-between":u=Ne(0);break;case"space-around":u=_("/",d,2);break;case"space-evenly":u=d;break;default:G(n)}let m=Bu("+",0,e,t)??Ne(0),h=_("*",d,e);return _("+",u,m,h)}G(n)}function y$(e,t,o,r){if(S(!F(o.gridRowHeightType),"parentNode for node must have gridRowHeightType defined"),o.gridRowHeightType==="fixed"){S(!F(o.gridRowHeight),"A grid parent node with gridRowHeightType === 'fixed' (for node) must have gridRowHeight defined");let n=e*o.gridRowHeight,i=nr(o.gap),a=Eo(i),s=e*a;return Ne(n+s)}if(o.gridRowHeightType==="fit"){let n=[];for(let c=0;c<e;c++)for(let d=0;d<t.columnCount;d++){let u=r.tree.get(t.getGridItem(c,d));if(!u)continue;S(Ae(u)&&st(u),"grid child must have size and size-dimension type");let m=ht(u,r);n[c]=_("max",n[c]??Ne(0),m)}let i=_("+",...n)??Ne(0),a=nr(o.gap),s=Eo(a),l=e*s;return _("+",i,l)}if(o.gridRowHeightType==="auto"){let n=ht(o,r),i=_("-",n,Dt(o)+Bo(o)),a=Sa(o,r),s=a.rowCount,l=nr(o.gap),c=Eo(l),d=(a.rowCount-1)*c,u=_("/",_("-",i,d),s),m=_("*",e,u),h=e*c;return _("+",m,h)}G(o.gridRowHeightType)}function C$(e,t,o){if(Ad(o.tree,e)&&e.position==="fixed")return"fixed";if(Ed(e,t)&&e.position==="absolute")return"absolute";if(sb(e,t)&&e.position==="sticky")return"sticky";if(t&&et(t))return"fixed";if(!(t&&Co(t)))return"absolute"}function S$(e,t,o){if(Ce(e)&&Be(o.tree.getScopeNodeFor(e))){let r=e.children?.findIndex(an);if(F(r))return!1;let n=o.tree.getIndex(t);return r<n}return!1}var ju=class{constructor(t,o,r,n){D(this,"simulationContext");this.simulationContext=BD(o.tree,t,r,n)}getCSSWidth(t){return rF(t,this.simulationContext)}getHeight(t){return QD(t,this.simulationContext)}getYPosition(t){return lF(t,this.simulationContext)}getComponentViewportContext(t){let o=this.getCSSWidth(t),r,n;return _r(t)||(r=this.getHeight(t),n=this.getYPosition(t)),{width:o,height:r,y:n}}};var Uu=class{constructor(t,o){this.tree=t;this.bindings=o;D(this,"ids",new Map)}create(t){let o=this.composeBaseId(t),r=this.tree.get(t);Yt(r,"AppearIdCollector: Node not found");let n=ep(r,this.tree);return n.length>0?this.composeRepeaterId(o,n):o}composeBaseId(t){let o=Ut(t),r=this.ids.get(o);if(F(r))return this.ids.set(o,0),o;let n=r+1;return this.ids.set(o,n),`${o}-${n}`}composeRepeaterId(t,o){let r=[t];for(let n of o){let i=this.tree.get(n);i&&r.push(this.bindings.createWithNode("index",i))}return it.join(r,"-")}};var ki,dy,py,_n=class{constructor(t){this.assetMap=t;ce(this,ki);D(this,"keys",new Set)}addAsset(t){this.keys.add(t)}resolve(t){if(!U(this,ki,dy).call(this,t))return;let o=U(this,ki,py).call(this,t);if(!We(o))return o&&(t=o.identifier),{src:ZC(t)}}resolveResponsiveImage(t,{focalPoint:o}={}){if(!U(this,ki,dy).call(this,t))return;let r=U(this,ki,py).call(this,t);if(We(r))return;r&&(t=r.identifier);let n=r?.preferredSize??"auto",i=this.assetMap.assetForKey(t),a=i?.properties?.image,s=r?.intrinsicSize??a,l=qC(a?.width,a?.height),d={src:i?Ov(i,n,l):Gc(t,void 0,void 0,s),positionX:void 0,positionY:void 0,srcSet:at.isOn("fixedSizeImageSrcset")?void 0:this.generateSrcSet(i,l,n),preferredSize:at.isOn("fixedSizeImageSrcset")?n:void 0,pixelWidth:s?.width,pixelHeight:s?.height};return o&&A(o.positionX)&&A(o.positionY)&&(d.positionX=o.positionX,d.positionY=o.positionY),d}generateSrcSet(t,o,r){if(!t)return;Yt(!at.isOn("fixedSizeImageSrcset"),"This code path must only be executed with fixedSizeImageSrcset: off");let n;if((!r||r==="auto"||r==="lossless")&&o?.length&&t.properties?.image){n="";for(let{maxSideSize:a,width:s}of o)s<YC||(n+=`${Hm(t,a,r==="lossless")} ${s}w,`);n+=`${Hm(t,void 0,r==="lossless")} ${t.properties.image.width}w`}return n}};ki=new WeakSet,dy=function(t){return!(yo(t)||t.startsWith("https:"))},py=function(t){let o=Mv(t);return o&&(t=o.identifier),t===""?null:(this.addAsset(t),o)};var Ju=class{constructor(t,o,r){this.declarations=t;this.scope=o;this.primaryVariantId=r}create(t,o){if(t===!0&&F(o))return{condition:!0};if(!F(t)&&F(o))return{condition:t};if(o){if(Array.from(o.values()).every(({value:h})=>h===t))return{condition:t};let r=new Set,n=new I.Set;di(this.scope)&&this.primaryVariantId&&dF(this.primaryVariantId,t,r,n);let i=new Map,a=new Map,s=new Map,l=T$(s),c=l(t);for(let[h,C]of o){if(di(this.scope)&&dF(h,C.value,r,n),!C.isGesture&&C.value===t)continue;let T=C.isGesture?i:a;v$(h,l(C.value),T)}let d=[],u=[];for(let h of s.keys()){let C=s.get(h);C&&(u.push(new I(h)),d.push(ge(C)))}let m=this.declarations.dedupe("isDisplayed",new I(bt.lines(p`(${new I(d.join(", "))}) => {`,di(this.scope)&&p`if (!${I.fn(fe.isBrowser)}) return true`,...this.createConditionStatementsForGroup(i,"gestureVariant"),...this.createConditionStatementsForGroup(a,"baseVariant"),p`return ${c}`,p`}`)));return{condition:I.fn(m,...u),classNames:r,classNameExpressions:n}}return{condition:!0}}createConditionStatementsForGroup(t,o){if(t.size===0)return[];let r=[],n=new I(o);for(let[i,a]of t){let s=new I(i);if(a.size===1){let l=Array.from(a)[0];if(F(l))continue;r.push(p`if (${n} === ${l}) return ${s}`)}else r.push(p`if (${Array.from(a)}.includes(${n})) return ${s};`)}return r}};function v$(e,t,o){let r=ge(t),n=o.get(r)??new Set;o.set(r,n.add(e))}function T$(e){let t=new Set;return o=>{if(!No(o))return o;let r=ge(o),n=e.get(r)??new I(qd("value",t));return e.set(r,n),n}}function cF(e){return`hidden-${Ut(e)}`}function dF(e,t,o,r){if(t===!1){let n=cF(e);o.add(n)}else if(No(t)){let n=cF(e);r.add(p`!(${t}) && ${n}`)}}var dc,va,pc,Xu=class{constructor(t,o,r,n,i,a,s){this.scope=t;this.componentLoader=o;this.bindings=r;this.declarations=n;this.imports=i;this.variables=a;this.treeStore=s;ce(this,dc,new Map);ce(this,va,null);ce(this,pc,new Map)}isLayoutTemplateRef(t){if(We(E(this,va))){if(le(this,va,new Set),!Cd(this.scope)||!TT(this.scope))return!1;let o=this.componentLoader.componentForIdentifier(this.scope.layoutTemplateIdentifier)?.properties;if(!o)return!1;let r=this.scope.getControlProps(o);for(let n in r){let i=r[n];if(F(i?.value)||B(i.value)||i.type!=="scrollsectionref")continue;let a=i.value.target;F(a)||B(a)||E(this,va).add(a)}}return E(this,va).has(t)}getNodeInPrimary(t){if(!t)return;let o=t.originalid?this.treeStore.tree.get(t.originalid):t;if(o)return o}scrollTargetInfo({target:t,collectionItem:o}){if(!t)return;if(q(t))return{ref:this.variables.create(t)};let r=this.treeStore.tree.get(t);if(!r||!Xi(r)||this.treeStore.treeIndex.getScopeIdFor(r.id)!==this.scope.id)return;let n=this.getNodeInPrimary(r);if(!n)return;let i=this.ref(n,o);if(i)return{ref:i,offset:r.scrollMarginTop}}ref(t,o){let r=this.getNodeInPrimary(t);if(!r)return;let n=E(this,dc).get(r.id);if(n)return n;let i=ep(r,this.treeStore.tree),a=this.isLayoutTemplateRef(r.id);if(a||o||i&&i.length>0){let d=this.id(r,o);if(!d)return;let u=this.imports.addImport("framer",{exportSpecifier:a?"useSiteRefs":"useDynamicRefs"});return I.fn(this.declarations.component.dedupe("dynamicRef",I.fn(p`${u}<HTMLElement>`)),d)}let s=this.bindings.create("ref"),l=this.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),c=p`const ${s} = ${I.fn(p`${l}.useRef<HTMLElement>`,p`null`)}`;return this.declarations.component.create(c),E(this,dc).set(r.id,s),s}getBaseId(t,o){if(z(o)){if(Xi(t)){let r=[t.id];return o&&o.id!==this.scope.id&&r.push(o.id),this.declarations.component.dedupe("elementId",I.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteElementId"}),...r))}return Ut(t.id)}if(ue(o))return it`${fe.layoutId}-${Ut(t.id)}`}getPortalAncestor(t){let o=this.treeStore.tree.getParent(t.id);if(o){if(ct(t))return this.treeStore.tree.get(o.getPrimaryId());if(et(o)){let r=this.treeStore.tree.getParent(o.id);return this.treeStore.tree.get(r?.getPrimaryId())}}}portalId(t){let o=this.getPortalAncestor(t);return o?this.id(o):void 0}id(t,o){let r=this.getNodeInPrimary(t);if(!r)return;let n=this.treeStore.treeIndex.getScopeIdFor(r.id),i=this.treeStore.tree.get(n);if(!z(i)&&!ue(i))return;if(z(i)&&Xi(r)){let s=mI(r,this.treeStore.tree,this.componentLoader);s&&E(this,pc).set(r.id,s)}let a=this.getBaseId(r,i);if(a)return fI(r,this.treeStore.tree,this.componentLoader,s=>{if(s.id===r.id)return a;if(q(o)&&o.id===s.id)return this.variables.create(o);if(gT(o)&&o.key===s.id)return o.value;if(s.type==="slug")return this.variables.create(Ht(s.id,s.providerId))})}annotation(){let t=Object.fromEntries(E(this,pc));if(!Bt(t))return JSON.stringify(t)}};dc=new WeakMap,va=new WeakMap,pc=new WeakMap;function I$(e){return e instanceof Error?!!Tg(e):!1}function N$(e){return A(e)?e:e instanceof Error?e.message:Ue(e)?JSON.stringify(e):"Unknown error"}var uc,Zu=class{constructor(t,o,r){this.scopeId=t;this.sourceNodeId=o;this.type=r;ce(this,uc,[])}record(t,o,r){if(I$(o)){this.recordKnownError(t,o);return}E(this,uc).push({nodeId:t.id,reason:N$(o),moduleIdentifier:rt(r)?r:void 0})}get errors(){return E(this,uc).map(t=>new bN({...t,sourceNodeId:this.sourceNodeId,sourceNodeModuleType:this.type,scopeId:this.scopeId,type:"CodeGeneration"}))}recordKnownError(t,o){if(Tg(o)){let r=new Set;o.error.forEach(n=>{r.add(n),this.record(t,"CodeError",n)}),o.missing.forEach(n=>{r.has(n)||this.record(t,"MissingModule",n)})}}};uc=new WeakMap;var Wfe={url:"url"};function pF(e){return li(e)&&e.actionIdentifier==="framer/useOpenURL"}function zfe(e,t){let o={...e.controls,...t};return{...e,controls:o}}function uF(e){return e.actionIdentifier==="framer/useResetVariableValues"}function mF(e){return li(e)&&e.actionIdentifier==="framer/useSetVariableValue"}function Zfe(e){return z(e)||ue(e)}var x$={array:!1,boolean:!0,color:!1,eventhandler:!1,image:!1,number:!0,string:!0,richtext:!1,link:!1,linkrelvalues:!1,date:!0,enum:!1,file:!1,scrollsectionref:!1,customcursor:!1,cursor:!1,transition:!1,border:!1,boxshadow:!1,gap:!1,padding:!1,borderradius:!1,collectionreference:!0,multicollectionreference:!0,trackingid:!1,vectorsetitem:!1,controlReference:!1,nodePropertyControlReference:!1,slug:!1};function P$(e){return A(e)&&x$[e]===!0}function Qfe(e){return Vo(e)&&P$(e.type)}function fF(e,t){let o=new Map,r=new Map;for(let i of t)if(i.abTestingParentId){let a=r.get(i.abTestingParentId);a||(a=[],r.set(i.abTestingParentId,a)),a.push(i)}else o.set(i.id,i);let n=[];for(let i of e.getRouteSegmentRootNode().getWebPageIdToRawPathMap(e).keys()){let a=o.get(i);if(a){n.push(a);let s=r.get(a.id);s&&n.push(...s)}}return n}function V$(e,t){let o,r,n,i,a;for(let l of e)z(l,!0)?(t===l.id&&(o=o??l),l.dataIdentifier?n=n??l:r=r??l):Ct(l,!0)?a=a??l:Ye(l,!0)&&(i=i??l);let s=o??r??n??a??i;return S(s,"findFirstScopes: Tree must contain at least one Web Page, Design Page or Canvas Page"),{maybeFirstPage:s,homePage:o,firstWebPageWithCollection:n,firstWebPageWithoutCollection:r,firstCanvasPage:i,firstDesignPage:a}}function k$(e,t){return R$(e)&&t?t:e}function hF(e,t){let o=V$(e,t);return k$(o.maybeFirstPage,o.firstDesignPage)}function R$(e){if(!z(e)||!e.isLoaded())return!1;for(let t of e.children)if(!Fe(t)||t.children.length>0)return!1;return!0}function gF(e){return e?z(e,!0)||Ye(e,!0)||ue(e,!0)||Ct(e,!0):!1}function yF(e,t,o=!1,r=!1){let n=t?.[e];if(n)return n;if(e===Pd&&o)return r?"Key":"Key & Gamepad";if(r&&e==="onMouseEnter")return"Enter";let a=(e.startsWith("on")&&e.length>2?e.substring(2):e).replace("Tap","Click");return bn(a)}function w$(){let e=null,t=null;return(o,r)=>{let n=o.componentForIdentifier(r.codeComponentIdentifier);if(n===e)return t;if(!n||!n.properties)return null;let i={},a=Object.keys(n.properties);for(let s=0,l=a.length;s<l;s++){let c=a[s],d=n.properties[c];d?.type==="eventhandler"&&d.title&&(i[c]=d.title)}return e=n,t=i,i}}var ahe=w$();function L$(e,t){let o=new Set(e.variables.map(r=>r.name));return Mo(bn(t),o)}function D$(e){switch(e.type){case"controlReference":case"nodePropertyControlReference":switch(e.expectedType){case"enum":return"Type";case"file":return"File";default:throw Error(`getFallbackNameForCreateVariableOptions(), unsupported file reference type: ${e.expectedType}`)}default:return Dv(e.type)}}function CF(e,t){let o=e.length;if(!t)return o;let r=e.findIndex(({id:n})=>n===t);return r===-1?o:r+1}function F$(e){return Rt(e)?"collection":Be(e)?"layout_template":ue(e)?"canvas_component":z(e)?"web_page":(S(!0,"Should not be able to create variables on invalid scope",e.__class),"canvas_component")}function uy(e,t){let{scopeId:o,isAssigned:r=!0,useUniqueName:n=!0,insertAfterVariable:i,...a}=t,s=e.get(o);if(!qo(s))return null;let l=t.name.trim(),c=l||D$(a),d=n?L$(s,c):c,u=ec({...a,name:d},F$(s));if(u.type==="eventhandler"&&!ue(s))return null;if(i?.selectedVariableParent){let{selectedVariableParent:m,selectedVariable:h}=i,C=lN(s,m.id);if(!C)return null;let T=CF(C,h?.id);S(Rv(u),"Variable must be an array item variable");let N=Wr.insert(C,T,u);cN(s,m.id,N)}else{let m=CF(s.variables,i?.selectedVariable?.id),h=Wr.insert(s.variables,m,u);s.set({variables:h})}return r&&lR({variableType:u.type,variableId:u.id}),Ht(u.id,s.id)}function The(e){let{engine:t,showModal:o=!0,...r}=e,n=uy(t.tree,r);if(!n)return null;let i=t.tree.get(e.scopeId);if(!i||!qo(i))return null;if(Za(t)&&o){let a=r.insertAfterVariable?.selectedVariableParent?.id;t.stores.variablesStore.selectedVariablePath=a?[a,n.id]:[n.id],t.stores.modalStore.set({type:"Variables",source:"properties"})}return Ht(n.id,i.id)}var A$=Je("createAndAssignActionVariableToNode");function SF(e,t,o,r,n,i){if(!(Kt(o)||J(o)))return null;let a=e.getScopeNodeFor(o);if(!a||!ue(a))return null;let s=e.getGroundNodeFor(o);if(!s||!xo(s))return null;let l=t.componentForIdentifier("framer/useTriggerEvent");if(!l)return null;let c=uy(e,{scopeId:a.id,type:"eventhandler",name:n??yF(r,null),initialValue:void 0});if(!c)return null;jd(e,t,o,r,l,{id:{type:"string",value:c.id}});let d=a.getTopLevelReplicaVariants();for(let u of d){let{overrides:m}=u.replicaInfo;m[o.id]&&Fb(e,t,u,o.id,r,l,{id:{type:"string",value:c.id}})}return i&&i.updateComponent(a.id).catch(u=>A$.error(u)),c.id}function E$(e,t){let o=_d(e,t);if(Object.keys(o).length!==0)for(let n in o){let i=o[n];if(i&&i.length===0)return n}}function M$(e,t,o){switch(t){case"framer/useShowOverlay":return e.create(nx,o);case"framer/useShowRelativeOverlay":return e.create(En,o,{width:200,height:150,radius:10,boxShadows:[yv({x:0,y:10,blur:20,color:"rgba(0,0,0,0.05)",spread:0})],floatingPositionEnabled:!0,floatingPlacement:FT,floatingAlignment:AT,floatingOffsetX:LT,floatingOffsetY:DT,floatingCollisionDetection:!0,floatingCollisionPadding:wd});default:G(t)}}function TF(e,t,o,r){o&&S(t==="framer/useShowOverlay"&&et(o)||t==="framer/useShowRelativeOverlay"&&(Fe(o)||J(o)),"Invalid overlay type: ",o.__class,"for overlay action: ",t);let n=o??M$(e,t,r.id);return lt(n)&&n.set({zIndex:Av,styleAppearEffectEnabled:!0,styleAppearEffectTrigger:"onMount",overflow:"clip",position:"absolute",...Qb.fadeIn()}),n}function O$(e,t,o,r,n,i){S(yl(r),"Parent is not a local smart component instance, events can't be created");let a=BT(e,r);e.loadScopes([a],([s])=>{if(!s)return;let l=s.getPrimaryVariant();S(l,"SmartComponentNode should have a primary variant");let c=SF(e,t,l,n,n==="onMouseEnter"?"Hover":void 0,o);S(c,"Should be able to create event key for local smart component node"),i(c)})}function vF(e,t,o,r,n,i){let a=t.componentForIdentifier(o);S(a,"Cannot find overlay action definition"),jd(e,t,i,n,a,{overlay:{type:"string",value:r.id}},!0)}function bF(e){switch(e){case"framer/useShowOverlay":return"fixed";case"framer/useShowRelativeOverlay":return"relative";default:G(e)}}function IF(e,t,o,r,n){let i=t.treeStore.tree.get(r);if(!i)return;let a=Qe(i)?t.treeStore.tree.get(i.originalid):i;if(a)return Ce(a)?z$(t,o,r,n):W$(e,t,o,r,n)}function W$(e,{treeStore:t,codeGenerationStore:o},r,n,i){let a=t.tree.get(n);if(!a)return;let s=Qe(a)?t.tree.get(a.originalid):a;if(!s||!Kt(s)&&!J(s))return;let l=r==="framer/useShowRelativeOverlay"?"onMouseEnter":"onTap",c=J(s)?E$(e,s):l,d=yl(s);if(!c&&!d)return;let u=TF(t.tree,r,i,s);return c?vF(t.tree,e,r,u,c??l,s):O$(t.tree,e,o,s,l,m=>vF(t.tree,e,r,u,m,s)),It("overlay_create",{source:i?"duplicate":"events_panel",overlayType:bF(r),triggerType:Ce(s)?"breakpoint":J(s)?"component":"frame"}),u}function z$({treeStore:e},t,o,r){let n=e.tree.get(o);if(!n)return;let i=Qe(n)?e.tree.get(n.originalid):n;if(!i||!Kt(i)&&!J(i))return;let a=TF(e.tree,t,r,i);return mn(a)||(a.set({triggerActions:[ET({type:"showOverlay"})]}),It("trigger_actions_create",{actionType:"showOverlay",triggerCount:1})),It("overlay_create",{source:r?"duplicate":"events_panel",overlayType:bF(t),triggerType:Ce(i)?"breakpoint":J(i)?"component":"frame"}),a}var NF=Je("ScopeStore");function my(e){return Ye(e,!0)||z(e,!0)||Ct(e,!0)}function Un(e){if(Ye(e))return"CanvasPage";if(z(e))return"WebPage";if(ue(e))return"SmartComponent";if(Xs(e))return"ContentManagement";if(Be(e))return"LayoutTemplate";if(Qt(e))return"VectorSet";if(ES(e))return"Analytics";if(MS(e))return"LocalizationGlossary";if(Ct(e))return"DesignPage";if(Qc(e))return"Routes";if($i(e))return"CustomCode";throw Error(`Failed to return scope type, invalid scope: ${e.__class}`)}var Ta,ba,Ia,Na,Ds,Cr,jn,Ri,Fs,As,Es,xF=class extends gn{constructor(o,r,n,i,a,s,l,c,d,u,m,h){super();this.componentLoader=o;this.treeStore=r;this.canvasStore=n;this.selection=i;this.chromeStore=a;this.contentManagementStore=s;this.modalStore=l;this.overlayStore=c;this.codeGenerationStore=d;this.insertSidebarStore=u;this.modulesStore=m;this.aiGenerationStore=h;ce(this,Ta,0);D(this,"isCheckingActivePage",!0);ce(this,ba,"");ce(this,Ia,"");ce(this,Na,"");ce(this,Ds,"");ce(this,Cr,[]);ce(this,jn,!1);ce(this,Ri,!1);ce(this,Fs,new Map);ce(this,As,new Map);D(this,"loadingActiveId");D(this,"_activeId");D(this,"scopeSwitchStart",0);D(this,"scopeSwitchPending",!1);D(this,"scopeIdToSelectedCollectionItem",new Map);D(this,"rootScopeType","CanvasPage");ce(this,Es,[]);D(this,"canGoBack",()=>E(this,jn));D(this,"goBack",()=>{let o=Array.from(this.isolatedCanvasNodes());o.pop();let r=o.pop();r&&this.select(r.id,{keepHistory:!1})});let C=this.getFirstPageNodeAccordingToUI();this._activeId=C.id,Nf(C),Ye(C)?le(this,ba,C.id):z(C)?le(this,Ia,C.id):Ct(C)&&le(this,Na,C.id);let T=this.getScopeNodes();le(this,Ta,T.indexOf(C)),S(C.loaded,"Scope must be fully loaded"),u.onScopeChange({scope:C.loaded,hasCanvasPageNodes:this.hasCanvasPageNodes(),hasWebPageNodes:this.hasWebPageNodes()}),this.modulesStore.setActiveScope(this._activeId)}get activeId(){return this._activeId}get active(){let o=this.getScopeNode(this._activeId);return S(o.isLoaded(),"Scope must be fully loaded"),o}get rootNode(){return this.treeStore.tree.root}get checkingActivePage(){return this.isCheckingActivePage}documentDidLoad(){this.isCheckingActivePage=!1}get scopeType(){return Un(this.active)}getScopeNode(o){let r=this.treeStore.tree.get(o);return S(r instanceof xf,"Node, ",o,"is not a ScopeNode"),r}getScopeNodes(){return this.rootNode.children.filter(ko)}getCanvasPageNodes(){return G$(this.treeStore.tree)}getDesignPageNodes(){return this.rootNode.children.filter(Ct)}getKitPageNodes(){let o=[];for(let r of this.rootNode.children)z(r)&&r.kitPage&&o.push(r);return o}getSmartComponentNodes(){return this.rootNode.children.filter(ue)}getLayoutTemplateNodes(){return this.rootNode.children.filter(Be)}getWebPageNodes(){return H$(this.treeStore.tree)}getWebPageNodesWithoutCollection(){return _$(this.treeStore.tree)}getWebPageNodesWithCollection(o=!1){return j$(this.treeStore.tree,o)}hasPages(){let o=!1,r=!1,n=!1,i=!1,a=!1;for(let s of this.rootNode.children)if(Ye(s)&&(n=!0),Ct(s)&&(i=!0),z(s)&&(s.kitPage?a=!0:s.dataIdentifier?r=!0:o=!0),o&&r&&n&&i&&a)break;return{hasSitesPages:o,hasCMSPages:r,hasCanvasPages:n,hasDesignPages:i,hasKitPages:a}}hasCanvasPageNodes(){return this.rootNode.children.some(Ye)}hasWebPageNodes(){return this.rootNode.children.some(z)}getRootScopeNodes(){return this.rootNode.children.filter(my)}getFirstPageNodeAccordingToUI(o=this.treeStore.tree){let{children:r,homePageNodeId:n}=o.root;return hF(r,n)}getFirstWebPageNode(){try{let o=this.getFirstPageNodeAccordingToUI();if(z(o))return o}catch{}}changeActive(o,r,n){if(this._activeId){let l=o.get(this._activeId),c=z(l)&&l.abTestingParentId?l.abTestingParentId:this._activeId;E(this,Fs).set(c,{zoom:this.canvasStore.zoom,offset:this.canvasStore.offset}),E(this,As).set(this._activeId,this.selection.ids),ue(l)&&It("component_canvas_exit",{componentId:this._activeId})}if(le(this,Ds,this._activeId),le(this,Ta,n),this._activeId=r.id,Nf(r),this.codeGenerationStore.changeScope(),this.modulesStore.changeScope(r),Ct(r))this.rootScopeType="DesignPage",le(this,Na,r.id),le(this,Cr,[]),le(this,jn,!1),le(this,Ri,!1);else if(Ye(r))this.rootScopeType="CanvasPage",le(this,ba,r.id),le(this,Cr,[]),le(this,jn,!1),le(this,Ri,!1);else if(z(r))this.rootScopeType="WebPage",le(this,Ia,r.id),le(this,Cr,[]),le(this,jn,!1),le(this,Ri,xt(r));else if(ue(r)||Be(r)||Qt(r)){let l=E(this,Cr).indexOf(r.id);l===-1?E(this,Cr).push(r.id):E(this,Cr).splice(l+1),le(this,jn,E(this,Cr).length>0),le(this,Ri,!1),iR({componentId:r.id}),ue(r)&&this.chromeStore.mainView===0&&this.modalStore.displayComponentIsolationModal({source:"automatic"})}let i=E(this,Fs).get(z(r)&&r.abTestingParentId?r.abTestingParentId:r.id);i?this.canvasStore.updateCanvas(i.offset,i.zoom):this.canvasStore.zoomAfterScopeSwitch(o,r);let a=E(this,As).get(r.id);a?this.selection.set(a):this.selection.clear(),this.overlayStore.hideAll(),this.insertSidebarStore.onScopeChange({scope:r,hasWebPageNodes:this.hasWebPageNodes(),hasCanvasPageNodes:this.hasCanvasPageNodes()}),this.treeStore.setHighlight(null);let s=Un(r);this.chromeStore.onChangeScopeType(s),this.contentManagementStore.onChangeScopeType(s),this.aiGenerationStore.setCurrentSessionId(s==="DesignPage"?r.id:void 0)}select(o,{keepHistory:r,activateContentPanel:n,collectionItemId:i}){this.loadingActiveId=o,this.scopeSwitchStart=performance.now();let a=()=>{if(this.scopeSwitchPending=!1,this.loadingActiveId!==o||this._activeId===o)return;let c=this.getScopeNodes().findIndex(h=>h.id===o);if(c<0)return;let u=this.treeStore.tree.latestTree().getNode(o);S(ko(u),"Tree must contain scope node",o);let m;if(u.isLoaded())m=u.loaded;else if(!this.treeStore.tree.getService("loader"))NF.reportError(new ReferenceError("Loader service is not available in the tree but scope is not loaded"),{message:"Scope must be fully loaded"},{shallowScopes:"true"}),m=u;else throw new TypeError("Scope must be fully loaded");r||le(this,Cr,[]),A(i)&&z(u)&&this.setSelectedCollectionItemForWebPage(u.id,i),n&&(this.chromeStore.contentPanelTab=n),this.changeActive(this.treeStore.tree,m,c)},s=this.treeStore.tree.getService("loader");if(s&&!s.hasLoadedScope(o)){this.scopeSwitchPending=!0,s.prioritizeLoadingScope(o,()=>this.scheduler.processWhenReady(a));return}a()}selectByNode(o){let r=this.treeStore.tree.get(o);if(r===null)return;let n=this.treeStore.tree.getScopeNodeFor(r);n!==null&&this.select(n.id,{keepHistory:!1})}selectPreviousActiveScope(){let o=this.treeStore.tree.get(E(this,Ds));this.select(o?.id??this.getFirstPageNodeAccordingToUI().id,{keepHistory:!1})}findNextActiveScope(o=this.treeStore.tree){let r=o.root,n=r.children.filter(ko);S(r.children.some(my),"validateActiveScope: Tree must contain at least one Canvas Page or Web Page");let i=n.findIndex(a=>a.id===this._activeId);return i===-1&&(i=this.findNextAvailablePageIndex(n,E(this,Ta))),[n[i],i]}validateActiveScope(o=this.treeStore.tree,r=!1){let[n,i]=this.findNextActiveScope(o);S(n,"ScopeNode must be defined"),r||S(n.isLoaded(),"Scope must be fully parsed"),le(this,Ta,i);let a=n;return n.id!==this._activeId&&(this.scopeSwitchStart=performance.now(),this.scopeSwitchPending=!1,this.changeActive(o,a,i)),a}findNextAvailablePageIndex(o,r){let n=[],i=[];for(let c=0;c<o.length;c++){let d=o[c];z(d)?i.push(c):Ye(d)&&n.push(c)}let a=this.rootScopeType==="WebPage",s=a?i:n,l=a?n:i;return $$(s.length>0?s:l,r)}renameScope(o,r){this.getScopeNode(o).set({name:r})}getActiveScopeNodeForReset(o=this.treeStore.tree,r=null){if(r){let i=o.getScopeNodeFor(o.get(r));if(gF(i)&&i?.isValid())return i}let n=this.getFirstPageNodeAccordingToUI(o);if(z(n)&&n.isValid()&&n.loaded||(Ye(n)||Ct(n))&&n.loaded)return n.loaded;NF.warn("getActiveScopeNodeForReset: falling back to scanning for a useful scope to make active");for(let i of o.root.children)if(Ye(i)&&i.isValid()&&i.loaded||z(i)&&i.isValid()&&i.loaded)return i.loaded;for(let i of o.root.children)if(ue(i)&&i.isValid()&&i.loaded)return i.loaded;throw Error("Document does not have any scopes that can be set to active.")}resetActiveScope(o=this.treeStore.tree,r=void 0){let n=this.getActiveScopeNodeForReset(o,r);if(n.id===this._activeId)return;this._activeId="",le(this,ba,""),le(this,Na,""),le(this,Ia,""),le(this,Ds,""),E(this,Fs).clear(),E(this,As).clear(),S(n.isLoaded(),"Scope must be fully parsed");let i=o.root.children.indexOf(n);this.scopeSwitchStart=performance.now(),this.scopeSwitchPending=!1,this.changeActive(o,n,i)}movePage(o,r){let n=this.getScopeNode(o),i=this.getAllPageNodesOfScope(n),a=i[r];S(a,`Trying to move a page node to an invalid index: ${r}, total: ${i.length} page nodes.`);let s=this.rootNode.children.findIndex(l=>l.id===a.id);S(n.parentid,"Scope node has no parentid"),S(s!==-1,"Cant find scope in root node"),this.treeStore.tree.moveNode(n,n.parentid,s)}getAllPageNodesOfScope(o){return Ct(o)?this.getDesignPageNodes():Ye(o)?this.getCanvasPageNodes():z(o)&&o.kitPage?this.getKitPageNodes():(S(!o,"Scope is not movable"),Yn())}getParentId(o,r,n){let i=this.rootNode.id;if(o instanceof xf||oi(o))return i;let a=n?this.getScopeNode(n):this.active;return Xs(a)&&S(md(o),"ContentManagementNode only accepts content nodes"),r===i?a.id:r??a.id}insertNode(o,r,n,i,a){r=this.getParentId(o,r,a),ct(o)&&IF(this.componentLoader,{codeGenerationStore:this.codeGenerationStore,treeStore:this.treeStore},lt(o)?"framer/useShowRelativeOverlay":"framer/useShowOverlay",r,o),this.treeStore.tree.insertNode(o,r,n,i)}insertNodes(o){for(let r of o)this.insertNode(r,r.parentid)}moveNode(o,r,n,i,a){r=this.getParentId(o,r,a),this.treeStore.tree.moveNode(o,r,n,i)}removeNode(o){this.treeStore.tree.removeNode(o),o.id===this._activeId&&this.validateActiveScope(this.treeStore.tree,!0)}setSelectedCollectionItemForWebPage(o,r){let n=this.treeStore.tree.getNode(o);if(!z(n))return;let i=n.abTestingParentId??o;if(this.scopeIdToSelectedCollectionItem.get(i)===r)return;let s=this.scopeIdToSelectedCollectionItem;this.scopeIdToSelectedCollectionItem=HC.set(s,i,r)}getSelectedCollectionItemForWebPage(o){return this.scopeIdToSelectedCollectionItem.get(o.abTestingParentId??o.id)}getMostRecentPage(){switch(this.rootScopeType){case"CanvasPage":{let o=this.treeStore.tree.get(E(this,ba));if(Ye(o))return o;break}case"DesignPage":{let o=this.treeStore.tree.get(E(this,Na));if(Ct(o))return o;break}case"WebPage":{let o=this.treeStore.tree.get(E(this,Ia));if(o&&ko(o)&&z(o))return o;break}}return this.getFirstPageNodeAccordingToUI()}getComponentHistory(){if(E(this,Cr).length===0)return[];let o=this.active;if(!(ue(o)||Be(o)||Qt(o)))return[];let r=[],n;for(let i of E(this,Cr)){let a=this.treeStore.tree.getNode(i);(ue(a)||Be(a)||Qt(a))&&a.isLoaded()&&(r.push(a),n=a)}return n===o?r:[o]}get onIsolatedCanvas(){return E(this,jn)}get onCollectionPage(){return E(this,Ri)}isolatedCanvasNodes(){let o=this.active,r;return my(o)?r=[o]:r=[this.getMostRecentPage(),...this.getComponentHistory()],Bi(E(this,Es),r)?E(this,Es):(le(this,Es,r),r)}getTopMostWebPageNode(){for(let o of this.isolatedCanvasNodes())if(z(o))return o}};Ta=new WeakMap,ba=new WeakMap,Ia=new WeakMap,Na=new WeakMap,Ds=new WeakMap,Cr=new WeakMap,jn=new WeakMap,Ri=new WeakMap,Fs=new WeakMap,As=new WeakMap,Es=new WeakMap;function $$(e,t){for(let o of e)if(!(o<t))return o;return Math.max(...e)}function G$(e){return e.root.children.filter(Ye)}function H$(e){return e.root.children.filter(t=>z(t,!0)&&!t.kitPage)}function _$(e){return e.root.children.filter(t=>z(t,!0)&&!t.dataIdentifier&&!t.kitPage)}function j$(e,t=!1){let o=e.root.children.filter(r=>!!(z(r)&&r.dataIdentifier));return t?fF(e,o):o}var U$=Symbol("previous"),iye=p`pathVariables`,PF=p`navigate`,VF=p`setVariant`,kF=p`loadMore`,RF={onMouseEnter:{isHovered:!0},onMouseLeave:{isHovered:!1},onTapStart:{isPressed:!0},onTap:{isPressed:!1},onTapCancel:{isPressed:!1}},Qu=class{constructor(t,o,r,n,i,a,s,l,c,d,u,m,h={type:"canvasComponent"}){this.sourceNode=t;this.componentLoader=o;this.treeStore=r;this.variables=n;this.bindings=i;this.imports=a;this.assets=s;this.links=l;this.fonts=c;this.fetches=d;this.valueTransforms=u;this.overlays=m;this.options=h;D(this,"handlers",new Map);D(this,"variantOnAppearId",new Map);D(this,"keyBindHooks",new Set);D(this,"navigationTargets",new Set);D(this,"needsPathVariables",!1);D(this,"routeHandlers",new Map)}addHandler({trigger:t,node:o,actionInfo:r}){r?.forEach(c=>{!$f(c)||!c.controls.id?.value||this.variables.create(mS(c.controls.id.value,void 0))});let n=t===NT&&Kt(o),i=t===Pd&&Kt(o),a=_v(this.treeStore.tree,o.id)??this.sourceNode,s=!r||r.length===0;if(n&&s){this.variantOnAppearId.has(a.id)||this.variantOnAppearId.set(a.id,p`undefined`);return}if(s)return;let l=i?this.createKeydownEvents(o,r,this.imports):this.createCombinedEvents(o,r,t);if(n){l&&!this.variantOnAppearId.has(a.id)&&this.variantOnAppearId.set(a.id,l);return}if(!(i||!l))return l}eventHandlersForNode(t){if(!ns(t)||Xo(t))return;let o=t.getActions(this.componentLoader),r={};for(let n in o)r[n]=this.addHandler({node:t,trigger:n,actionInfo:o[n]});return this.options.type!=="canvasComponent"||!Ee(t),r}transformAction(t,o,r){return n=>{if(!yf(t)||F(o.meta?.inputValue))return n;let i=p`inputValue`;switch(r.bindings.add(p`const ${i} = args[0]?.target?.value?.trim()`),o.meta.inputValue){case"empty":return p`if (!${i}) { ${n} }`;case"set":return p`if (${i}?.length > 0 ) { ${n} }`;default:G(o.meta.inputValue,"All inputValue values should be handled")}}}getRepeaterIdForNode(t){let o=Jd(t);return o?Qe(t)?o.originalid:o.id:null}createCombinedEvents(t,o,r){let n=wF(),i={},a=this.overlays.getOverlayIdForNode(t);r in RF&&this.options.type==="canvasComponent"&&Ee(t)&&n.gestureHandlers.add(I.fn(fe.setGestureState,RF[r]));for(let d of o){if(this.extractActionsToGroups(t,d,n,i,r,this.transformAction(r,d,n)),n.navigationActions.size>0)break;Qa(d)&&!_r(t)&&(a||(a=d.controls.overlay.value))}if(LF.every(d=>n[d].size===0))return p`undefined`;if(n.overlayActions.size>0&&a){let d=this.overlays.bindingsByOverlayId.get(a);d&&(i[or.OverlayBinding.toString()]=d)}let s=this.getRepeaterIdForNode(t);if(n.repeaterActions.size>0&&s){let d=this.treeStore.tree.get(s),m=br(d)&&Zr(d)?this.bindings.createWithNode("loadMore",d):void 0;m&&(i[kF.toString()]=m)}let l=Object.keys(i),c=this.createEventFromGroups(r,n,l);return l.length>0?I.fn(c,i):c}createEventFromGroups(t,o,r){let n=J$(o,r),i=`${t}${Ut(ge(n))}`,a=new I(i),s=p`const ${a} = ${n}`;return this.handlers.set(i,s),a}createKeydownEvents(t,o,r){S(this.options.type==="screen","Smart Components do not support keydown events");for(let n of o){let i=n.meta?.key;if(F(i))continue;let a=wF(),s={};if(this.extractActionsToGroups(t,n,a,s,"onKeyDown",this.transformAction("onKeyDown",n,a)),Object.keys(a).every(c=>a[c].size===0))continue;let l=this.createEventFromGroups("onKeyDown",a,[]);if(S(r,"An Import collector must be provided to add gamepad or hotkey bindings."),fv(i))this.keyBindHooks.add(I.fn(r.addImport("framer",{exportSpecifier:"useGamepad"}),i.key,l,{mapping:i.mapping}));else{let c=i.key,d=X$(i),u=d.length?d.concat(c).join("+"):c;this.keyBindHooks.add(I.fn(r.addImport("framer",{exportSpecifier:"useHotkey"}),u,l))}}}extractActionsToGroups(t,o,r,n,i,a){if(Kr(o)){if(this.options.type!=="canvasComponent"||!yf(i)&&r.setVariantActions.size>0)return;let s=Q$(this.imports,o,i);s&&r.setVariantActions.add(a(s))}else if($f(o)){if(this.options.type!=="canvasComponent")return;let s=K$(o);s&&r.eventActions.add(a(s))}else if(rs(o)){if(this.options.type!=="screen"||r.navigationActions.size>0)return;let s=this.createNavigateAction(o.controls.type.value,o.controls.target.value,o.meta?.delay,o.controls);s&&r.navigationActions.add(a(s))}else if(o.actionIdentifier==="framer/useLog"){if(this.options.type!=="screen")return;let s=Y$(o);s&&r.otherActions.add(a(s))}else if(o.actionIdentifier==="framer/useSetLocale"){let s=o.controls.localeId?.value;if(!A(s))return;r.otherActions.add(a(I.fn(fe.setLocale,s)))}else if(mF(o)){let s=this.createSetVariableValueAction(t,o,n);s&&r.otherActions.add(a(s))}else if(uF(o)){let s=this.createResetVariablesAction(t);s&&r.otherActions.add(a(s))}else if(pF(o)){let s=nl(o.controls.url.value);if(F(s)||B(s))return;if(mv(s)){let l=this.createOpenPageAction(s.webPageId,s.hash,o.meta?.delay);l&&r.navigationActions.add(a(l))}else{let l=q$(o,s);l&&r.otherActions.add(a(l))}}else if(!_r(t)&&Qa(o)){if(o.actionIdentifier==="framer/useShowOverlay"&&this.options.type==="canvasComponent")return;let s=o.controls.overlay.value,l=this.overlays.addOverlayTrigger(s,t.id);l&&r.overlayActions.add(a(l))}else if(wT(o)){if(!this.overlays.hasAncestorOverlayBinding(t))return;r.overlayActions.add(a(this.createDismissOverlayAction(o.meta?.delay)))}else if(zb(o)){let s=this.getRepeaterIdForNode(t),l=this.treeStore.tree.get(s);if(!br(l))return;r.repeaterActions.add(I.fn(kF))}}createDismissOverlayAction(t){return Jn(I.fn(or.overlayMethod(or.OverlayBinding,"hide")),t)}createOpenPageAction(t,o,r){if(!this.getNavigationTarget(t))return;let i=`${Ut(t)}${o?Ut(o):""}`,a=new I(`openRoute${i}`),s=[t,p`true`];o&&s.push(o),this.routeHandlers.set(i,p`const ${a} = ${I.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteHandler"}),...s)}`);let l=I.fn(a);return p`return ${Jn(l,r)}`}createNavigateAction(t,o,r,n){if(t==="previous")return this.navigationTargets.add(U$),p`return ${Jn(I.fn(PF,"previous"),r)}`;if(!o||!this.isValidNavigationTarget(o))return;let i={};for(let a in n){if(a==="target")continue;let s=n[a];i[a]=s.value}return this.navigationTargets.add(o),p`return ${Jn(I.fn(PF,o,i),r)}`}createSetVariableValueAction(t,o,r){let n=this.treeStore.tree.getScopeNodeFor(t);if(!qo(n))return;let i=o.controls.variableId.value,a=n.getVariable(i);if(!a)return;let s=Un(n),l=Ua(this.treeStore.tree,this.componentLoader,a,s);if(!l)return;let c=this.getControlValueForCodeGeneration(t,l,o.controls.value),d=this.variables.createSetter(i);if(No(c)){let u=`arg${Ut(ge(c))}`;return r[u]=c,I.optionalFn(d,new I(u))}return I.optionalFn(d,c)}createResetVariablesAction(t){let o=this.treeStore.tree.getScopeNodeFor(t);if(!qo(o))return;let r=[],n=Un(o);for(let i of o.variables){if(!Vo(i))continue;let a=this.variables.createSetter(i.id),s;if(ja(i,n))s=p`undefined`;else{let l=Ua(this.treeStore.tree,this.componentLoader,i,n);if(!l)return;let c={type:l.type,value:i.initialValue};s=this.getControlValueForCodeGeneration(t,l,c)}s!==void 0&&r.push(I.optionalFn(a,s))}if(r.length!==0)return p.joinLines(...r)}getControlValueForCodeGeneration(t,o,r){let n=Qv(o,r);if(n)return mL(t,o,n,{context:{imports:this.imports,assets:this.assets,links:this.links,fonts:this.fonts,fetches:this.fetches,variables:this.variables,valueTransforms:this.valueTransforms}})}getNavigationTarget(t){if(!t)return null;let o=this.treeStore.tree.getNode(t);return!o||!(this.treeStore.tree.isGroundNode(o)||z(o))?null:o}isValidNavigationTarget(t){return!!this.getNavigationTarget(t)}};function wF(){return{bindings:new I.Set,gestureHandlers:new I.Set,eventActions:new I.Set,setVariantActions:new I.Set,navigationActions:new I.Set,otherActions:new I.Set,overlayActions:new I.Set,repeaterActions:new I.Set}}var LF=["bindings","gestureHandlers","eventActions","setVariantActions","otherActions","overlayActions","repeaterActions","navigationActions"];function J$(e,t){let o=[];for(let n of LF)for(let i of e[n])o.push(i);let r=p.joinLines(p`activeVariantCallback(async (...args) => {`,...o,p`})`);if(t.length>0){let n=new I(bt.listFrom(t));return p`({${n}}) => ${r}`}return r}function X$(e){let t=[];for(let o in e)if(e[o])switch(o){case"altKey":t.push("alt");break;case"ctrlKey":t.push("ctrl");break;case"metaKey":t.push("meta");break;case"shiftKey":t.push("shift");break;default:break}return t}function Z$(e,t,o,r){if(t==="cycle")return I.fn(VF,e.addImport("framer",{exportSpecifier:"CycleVariantState"}),r);if(o)return I.fn(VF,o,r)}function Q$(e,t,o){let r=t.controls.type?.value,n=t.controls.variantId?.value,i=t.controls.pauseOffscreen?.value;if(!$R(r))return;let a=Z$(e,r,n,o==="onAppear"?i:void 0);if(a)return Jn(a,t.meta?.delay)}function K$(e){let t=e.controls.id?.value;if(!A(t))return;let o=new I(t);return p.joinLines(p`if (${o}) {${p.joinLines(e.meta?.delay&&p`await delay(() => {}, ${e.meta?.delay*1e3});`,p`const res = await ${o}(...args);`,p`if (res === false) return false;`)}}`)}function q$(e,t){if(!cn(t))return;let{href:o,target:r=p`undefined`,rel:n}=jS(t.url);if(!o)return;let i=[o,r??p`undefined`,n??"noopener"];return Jn(I.fn(p`window.open`,...i),e.meta?.delay)}function Y$(e){let t=e.controls?.type?.value,o=e.controls?.message?.value;if(A(t))switch(t){case"event":return new I(bt.lines('if (args[0] && "persist" in args[0]) args[0].persist()',Jn(p`console.log(...args)`,e.meta?.delay)));case"message":return A(o)?Jn(p`console.log(${o})`,e.meta?.delay):void 0;case"count":return A(o)?Jn(p`console.count(${o})`,e.meta?.delay):void 0}}function Jn(e,t){return!F(t)&&t>0?p`await delay(() => ${e}, ${t*1e3})`:e}var Xn=class{constructor(t,o,r,n,i){this.bindings=t;this.variables=o;this.preload=r;this.assets=n;this.links=i;D(this,"fetchesByNode",new Map);D(this,"resultBindingsByNode",new Map)}createFetchBinding(t,o){let r=Hc(o);if(!cS(r))return Vu(r.controlProp,this.variables,this.assets,this.links);let n=t.getPrimaryId(),i=this.resultBindingsByNode.get(n)??this.bindings.create("fetchResult");this.resultBindingsByNode.set(n,i),this.preload.addFetch(t,r);let a=this.fetchesByNode.get(t.id)??[];return a.push(ku(r,this.variables,this.assets,this.links)),this.fetchesByNode.set(t.id,a),p`${i}[${a.length-1}]`}getResultBinding(t){return this.resultBindingsByNode.get(t.getPrimaryId())}getFetchesForNode(t){return this.fetchesByNode.get(t.id)}};var Ku=class{constructor(t){this.declarationCollector=t;D(this,"fontObjects",new Set);D(this,"fontReferences",new Map);D(this,"referencedComponentIdentifiers",new Set);D(this,"fontObjectsBySelector",new Map)}createDedupedVariationAxesBinding(t){return t.variationAxes?this.declarationCollector.dedupe("variationAxes",[...t.variationAxes]):void 0}addFontObjectBySelector(t,o){let r=this.fontObjectsBySelector.get(t);if(r){if(!o)return;let i=r[0];if(!i)return;if(sd(i.source,o)&&!i.openType)for(let a of r)a.openType=!0;return}let n=QC.getFontBySelector(t);if(!(!n||!n.file))if(n.subsets){let i=[];this.fontObjectsBySelector.set(t,i);for(let a of n.subsets){let s={url:a.file,uiFamilyName:n.family.name,cssFamilyName:n.cssFamilyName,style:n.style,weight:F(n.weight)?void 0:String(n.weight),source:n.family.source,unicodeRange:a.unicodeRange,variationAxes:this.createDedupedVariationAxesBinding(n),openType:sd(n.family.source,o)};this.fontObjects.add(s),i.push(s)}}else{let i={url:n.file,uiFamilyName:n.family.name,cssFamilyName:n.cssFamilyName,style:n.style,weight:F(n.weight)?void 0:String(n.weight),source:n.family.source,variationAxes:this.createDedupedVariationAxesBinding(n),openType:sd(n.family.source,o)};this.fontObjects.add(i),this.fontObjectsBySelector.set(t,[i])}}addFontReference({componentIdentifier:t,fontReference:o}){this.fontReferences.set(ge(o),o),this.referencedComponentIdentifiers.add(t)}};function e0(e){return e==="string"||e==="vectorsetitem"}var xa,qu=class{constructor(t,o,r){this.modulesStore=t;this.tree=o;this.componentLoader=r;ce(this,xa,new Map)}get structure(){return Array.from(E(this,xa).values())}addSection(t){if(!zf(t)&&!Qd(t))return;let o=pL(t);if(!o)return;let r={_id:o,_layerId:t.id,content:[]};return E(this,xa).set(t.id,r),t.id}addCustomizations(t,o){if(!zf(t)||!o)return;let r=E(this,xa).get(o);if(r&&(J(t)&&t0(t,r,this.tree,this.componentLoader,this.modulesStore),!!Lb(t))){for(let n of t.customizations)if(Pe(t))r.content.push({field:n.fieldPath,text:t.getTextContent()});else if(J(t)&&t.isVectorInstance){if(!rt(t.codeComponentIdentifier))return;let i=kl(he(t.codeComponentIdentifier),this.tree,this.modulesStore)?.name;if(!A(i))return;r.content.push({field:n.fieldPath,text:i})}E(this,xa).set(o,r)}}};xa=new WeakMap;function t0(e,t,o,r,n){let i=r.componentForIdentifier(e.codeComponentIdentifier)?.properties;if(!i)return;let a=e.getControlProps(i);for(let s in a){let l=a[s];if(!l)continue;let{type:c,value:d}=l;if(!A(c)||!e0(c))continue;let u=i[s]?.title??s;if(A(d))switch(c){case"string":t.content.push({field:u,text:d});break;case"vectorsetitem":{if(!rt(d))continue;let m=kl(he(d),o,n)?.name;if(!A(m))continue;t.content.push({field:u,text:d});break}default:G(c,"Unknown control type")}}}var Pa,Yu=class{constructor(t){this.scopeNode=t;ce(this,Pa,new Map)}recordClassName(t,o,r){if(!Be(this.scopeNode)||t.parentid!==o||t.visible===!1||Yi(t)&&t.locked)return;let n=o,i=E(this,Pa).get(n)??new Set;i.add("."+r),E(this,Pa).set(n,i)}annotation(){if(!Be(this.scopeNode)||E(this,Pa).size===0)return"{}";let t={};for(let[o,r]of E(this,Pa))t[o]=Array.from(r);return JSON.stringify(t)}};Pa=new WeakMap;var fy=class{constructor(t,o,r,n,i){this.moduleType=t;this.componentLoader=o;this.modulesStore=r;this.submoduleName=n;this.sourceCode=i;D(this,"submoduleFilename");D(this,"submoduleImport");D(this,"bindings",new Vr);D(this,"imports");D(this,"declarations",new Dn(this.bindings));this.submoduleFilename=NP(this.submoduleName),this.submoduleImport=xP(this.submoduleFilename),this.imports=new Xr(this.moduleType,this.componentLoader,this.modulesStore,this.bindings)}get estimatedSize(){return this.declarations.declarationsByteSize}serialize(){let t=bt.linesFrom(this.imports.statements),o=this.declarations.list();return bt.sections(t,this.sourceCode,...o)}},em=class{constructor(t,o,r,n){this.moduleType=t;this.componentLoader=o;this.modulesStore=r;this.componentSourceNodeId=n;D(this,"submodules",new Set)}create(t){let o=IP(this.componentSourceNodeId,this.submodules.size),r=new fy(this.moduleType,this.componentLoader,this.modulesStore,o,t);return this.submodules.add(r),r}delete(t){this.submodules.delete(t)}serialize(){let t=new Map;for(let o of this.submodules){let r=o.serialize();t.set(o.submoduleName,r)}return t}};function DF(e){return`${e}ToDisplayName`}var FF="enumToDisplayNameFunctions";function AF(e){if(e?.type!=="enum"||!e.optionTitles)return p`(value) => value`;let t=e.optionTitles;return new I(bt.lines(p`(value, _locale) => {`,p`switch (value) {`,...e.options.map((o,r)=>{let n=t[r];return p`case ${o}: return ${F(n)?p`undefined`:n};`}),p`default: return "";`,p`}`,p`}`))}function EF(e){let{locale:t,grouping:o,notation:r,compactDisplay:n,style:i,currency:a,currencyDisplay:s,unit:l,unitDisplay:c,minimumFractionDigits:d,maximumFractionDigits:u,minimumIntegerDigits:m}=e,h={locale:t,notation:r,style:i};switch(zr(o)&&(h.useGrouping=o),te(d)&&(h.minimumFractionDigits=d),te(u)&&(h.maximumFractionDigits=u),te(m)&&(h.minimumIntegerDigits=m),r==="compact"&&(h.compactDisplay=n),i){case"currency":h.currency=a,h.currencyDisplay=s;break;case"unit":h.unit=l,h.unitDisplay=c;break}return new Y(h)}var MF=p`(value, options = {}, activeLocale) => {
    const fallbackLocale = "en-US";
    const locale = options.locale || activeLocale || fallbackLocale;
    const {
        useGrouping,
        notation,
        compactDisplay,
        style,
        currency,
        currencyDisplay,
        unit,
        unitDisplay,
        minimumFractionDigits,
        maximumFractionDigits,
        minimumIntegerDigits,
    } = options;
    const formatOptions = {useGrouping, notation, compactDisplay, style, currency, currencyDisplay, unit, unitDisplay, minimumFractionDigits, maximumFractionDigits, minimumIntegerDigits};
    const number = Number(value);
    try {
        return number.toLocaleString(locale, formatOptions);
    } catch {
        try {
            return number.toLocaleString(fallbackLocale, formatOptions);
        } catch {
            return number.toLocaleString();
        }
    }
};
`;function OF(e,t){if(t.length===0)return null;S(e);let o=new Set;for(let n of t){let i=e.create(n);o.add(ge(i))}let r=`{${Array.from(o).join(", ")}}`;return new I(r)}function WF(e,t,o,r){let n=e.name;switch(n){case"contains":case"containsAny":case"containsAll":case"endsWith":case"equals":case"startsWith":case"greaterThan":case"lessThan":case"isBefore":case"isAfter":case"isIncludedIn":case"toggleInList":return q(e.value)?(S(o),[o.create(e.value)]):[F(e.value)?p`undefined`:e.value];case"prefix":case"suffix":{if(q(e.value))return S(o),[o.create(e.value)];let a=F(e.value)?p`undefined`:e.value;return e.valueLocalized?(S(r,"LocalizedValueCollector is required"),[r.add(a,e.valueLocalized,s=>e.valueLocalized?.[s]?.value)]):[a]}case"toDateString":return[t.getActiveLocaleCode()];case"extractDateSegment":return[e.segment];case"numberToString":return[EF(e),t.getActiveLocaleCode()];case"offsetAndLimitArray":return[e.startOffset,te(e.limit)?e.limit:p`undefined`];case"isBetweenDates":{let a=[];return q(e.start)?(S(o),a.push(o.create(e.start))):a.push(F(e.start)?p`undefined`:e.start),q(e.end)?(S(o),a.push(o.create(e.end))):a.push(F(e.end)?p`undefined`:e.end),a}case"convertFromEnum":case"convertFromString":{let s=function(d){Ko(d)&&xn(d,u=>s(u)),q(d)&&a.push(d)};var i=s;let a=[];s(e.default);for(let d of e.cases)s(d.to);let l=OF(o,a),c=o?.getLocale()??p`undefined`;return l?[c,l]:[c]}case"convertFromBoolean":{let s=function(u){Ko(u)&&xn(u,m=>s(m)),q(u)&&a.push(u)};var i=s;let a=[];s(e.truthy),s(e.falsy),s(e.fallback?.value);let l=o?.getLocale()??p`undefined`,c=OF(o,a);return c?[l,c]:[l]}case"enumToDisplayName":return t.variables?[t.variables.getLocale()]:[];case"toString":case"toBoolean":case"toNumber":case"isSet":case"negate":case"reverseArray":case"toResponsiveImage":case"toImageSrc":case"jsonStringify":case"htmlEscape":case"htmlUnescape":case"addImageAlt":case"toZIndex":case"toAxisOverflow":case"toOverflowWithClipFallback":case"numberToPixelString":case"radiusForCorner":case"percentageToCornerShape":case"arrayToArray":case"arrayLength":case"isEven":case"isOdd":case"getGridColumnCSSValue":case"getGridRowCSSValue":case"getNumericColumnGap":return[];default:G(n,"All value transforms should define their arguments")}}var zF=p`(image, alt) => {
	if (!image || typeof image !== "object") {
		return;
	};
	return { ...image, alt };
};
`;var BF=p`(value) => {
	return Array.isArray(value) ? value.length : 0
}
`;function $F(e){let t=p`item`,o={[An]:p`${t}?.[${An}]`};for(let r in e.mapping){let n=e.mapping[r];if(S(Uo(n)),fS(n.value)){o[r]=p`${t}?.[${n.value.id}]`;continue}n.value}return p`(value) => {
      if (!Array.isArray(value)) return
      return value.map((${t}) => (${o}))
    }`}var GF=p`(a, b) => {
	if (!Array.isArray(a)) return false;
	if (b === undefined) return true;
	if (!Array.isArray(b)) return false;
	if (b.length === 0) return true;

	const aSet = new Set(a);
	for (const item of b) {
		if (!aSet.has(item)) {
			return false;
		}
	}
	return true;
};
`;var HF=p`(a, b) => {
	if (!Array.isArray(a)) return false;
	if (b === undefined) return true;
	if (!Array.isArray(b)) return false;
	if (b.length === 0) return true;

	const aSet = new Set(a);
	for (const item of b) {
		if (aSet.has(item)) return true;
	}
	return false;
};
`;function o0(e){let t=dn(e.outputType);return ge(p`return ${oo(t)?t:p`undefined`};`)}function hy(e,t,o,r,n,i,a){if(o==="link")return!a||!Ko(e)&&!q(e)?void 0:a.create(e);if(!Ko(e))return q(e)?n.create(e):oT(o,e,r)?i&&t&&o==="string"?i.add(e,t,s=>t?.[s]?.value):e:rT(o,r)}function r0(e,t,o,r,n){if(!tT(e.outputType))return o0(e);let i=hy(e.truthy,e.truthyLocalized,e.outputType,t,o,r,n),a=hy(e.falsy,e.falsyLocalized,e.outputType,t,o,r,n),s=i===void 0?p`undefined`:i,l=a===void 0?p`undefined`:a;if(e.fallback){let c=hy(e.fallback.value,e.fallback.valueLocalized,e.outputType,t,o,r,n),d=c===void 0?p`undefined`:c;return bt.lines(p`switch (value) {`,p`case true: return ${s};`,p`case false: return ${l};`,p`default: return ${d};`,p`}`)}return p`return value ? ${s} : ${l};`}function _F(e,t,o,r,n){S(o),S(r),S(n);let i=new Set;function a(l){if(Ko(l)&&xn(l,c=>a(c)),q(l)){S(o);let c=o.create(l);i.add(ge(c))}}a(e.truthy),a(e.falsy),a(e.fallback?.value);let s=[p`value`,fe.activeLocale];if(i.size>0){let l=`{${Array.from(i).join(", ")}}`;s.push(new I(l))}return new I(bt.lines(p`(${new I(s.map(ge).join(", "))}) => {`,new I(r0(e,t,o,r,n)),p`}`))}function Ms(e,t,o,r,n,i,a){if(o==="link")return!a||!Ko(e)&&!q(e)?void 0:a.create(e);if(!Ko(e))return q(e)?n.create(e):Yv(o,e,r)?i&&o==="string"&&A(e)&&t?i.add(e,t,s=>t?.[s]?.value):e:eT(o,r)}function jF(e){let t=dn(e.outputType);return ge(p`return ${oo(t)?t:p`undefined`};`)}function n0(e,t,o,r,n,i){if(t?.type!=="enum"||!Kv(e.outputType))return jF(e);let a=new Set,s=Ms(e.default,e.defaultLocalized,e.outputType,o,r,n,i);return bt.lines(p`switch (value) {`,...e.cases.filter(l=>a.has(l.from)||!t.options.includes(l.from)?!1:(a.add(l.from),!0)).map(l=>{let c=Ms(l.to,l.toLocalized,e.outputType,o,r,n,i);return p`case ${l.from}: return ${c===void 0?p`undefined`:c};`}),p`default: return ${s===void 0?p`undefined`:s};`,p`}`)}function UF(e,t,o,r,n,i){S(r),S(n),S(i);let a=new Set;function s(c){if(Ko(c)&&xn(c,d=>s(d)),q(c)){S(r);let d=r.create(c);a.add(ge(d))}}e.cases.forEach(c=>{s(c.to)}),s(e.default);let l=[p`value`,fe.activeLocale];if(a.size>0){let c=`{${Array.from(a).join(", ")}}`;l.push(new I(c))}return new I(bt.lines(p`(${new I(l.map(ge).join(", "))}) => {`,new I(n0(e,t,o,r,n,i)),p`}`))}function i0(e){let t=dn(e.outputType);return ge(p`return ${oo(t)?t:p`undefined`};`)}function a0(e,t,o,r,n){if(!qv(e.outputType))return i0(e);let i=new Set,a=Ms(e.default,e.defaultLocalized,e.outputType,t,o,r,n);return bt.lines(p`switch (typeof value === "string" ? value.toLowerCase() : value) {`,...e.cases.filter(s=>{let l=s.from.toLowerCase();return i.has(l)?!1:(i.add(l),!0)}).map(s=>{let l=Ms(s.to,s.toLocalized,e.outputType,t,o,r,n);return p`case ${s.from.toLowerCase()}: return ${l===void 0?p`undefined`:l};`}),p`default: return ${a===void 0?p`undefined`:a};`,p`}`)}function JF(e,t,o,r,n){S(o),S(r),S(n);let i=new Set;function a(l){if(Ko(l)&&xn(l,c=>a(c)),q(l)){S(o);let c=o.create(l);i.add(ge(c))}}e.cases.forEach(l=>{a(l.to)}),a(e.default);let s=[p`value`,fe.activeLocale];if(i.size>0){let l=`{${Array.from(i).join(", ")}}`;s.push(new I(l))}return new I(bt.lines(p`(${new I(s.map(ge).join(", "))}) => {`,new I(a0(e,t,o,r,n)),p`}`))}var XF=p`(a, b) => {
	return typeof a === "string" && typeof b === "string" && a.toLowerCase().endsWith(b.toLowerCase());
};
`;var ZF=p`(a, b) => {
	return (typeof a === "string" && typeof b === "string") ? a.toLowerCase() === b.toLowerCase() : a === b;
};
`;var QF=p`(value, segment = "year") => {
	if (typeof value !== "string") return;
	const date = new Date(value);
	if (isNaN(date.getTime())) return;
	if (segment === "year") return date.getUTCFullYear();
	if (segment === "month") return date.getUTCMonth() + 1;
	if (segment === "day") return date.getUTCDate();
	if (segment === "hour24") return date.getUTCHours();
	if (segment === "hour12") {
		const hour = date.getUTCHours();
		return hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;
	}
	if (segment === "minute") return date.getUTCMinutes();
};
`;var gy=p`spanCount`,tm=p`optionalColumnCount`,KF=p`(columnSpan, ${tm}) => {
	if (columnSpan === "all") return "-1 / 1";
	const ${gy} = Number.isFinite(columnSpan) && columnSpan > 0 ? columnSpan : 1;
	if (Number.isFinite(${tm}) && ${gy} > ${tm}) {
		return ${it`span ${tm}`};
	}
	return ${it`span ${gy}`};
};
`;var qF=p`spanCount`,YF=p`(rowSpan) => {
	const ${qF} = Number.isFinite(rowSpan) && rowSpan > 0 ? rowSpan : 1;
	return ${it`span ${qF}`}
};
`;var eA=p`(gap) => {
	if (Number.isFinite(gap) && gap >= 0) return gap;
	if (typeof gap !== "string") return 0;
	const firstSegment = gap.split(" ")[0];
	const parsedGap = parseFloat(firstSegment);
	return Number.isFinite(parsedGap) && parsedGap >= 0 ? parsedGap : 0;
};
`;var tA=p`(a, b) => {
	return (typeof a === "number" && typeof b === "number") ? a > b : false;
};
`;var oA=p`(value) => {
	if (typeof value !== "string") return "";
	return value.replaceAll("&", "&amp;").replaceAll("<", "&lt;").replaceAll(">", "&gt;").replaceAll('"', "&quot;").replaceAll("'", "&#39;");
};
`;var rA=p`(value) => {
	if (typeof value !== "string") return "";
	const entities = /&(?:[gl]t|quot|#39|amp|#6[02]|#34|apos|#38);/gu;
	const replacers = { "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'", "&amp;": "&", "&#60;": "<", "&#62;": ">", "&#34;": '"', "&apos;": "'", "&#38;": "&" };
	return value.replace(entities, match => replacers[match]);
};
`;var nA=p`(dateString, minDateString) => {
	if (typeof dateString !== "string" || typeof minDateString !== "string") return false;

	const date = new Date(dateString);
	if (isNaN(date.getTime())) return false;

	const minDate = new Date(minDateString);
	if (isNaN(minDate.getTime())) return false;

	return date >= minDate;
};
`;var iA=p`(dateString, maxDateString) => {
	if (typeof dateString !== "string" || typeof maxDateString !== "string") return false;

	const date = new Date(dateString);
	if (isNaN(date.getTime())) return false;

	const maxDate = new Date(maxDateString);
	if (isNaN(maxDate.getTime())) return false;

	return date <= maxDate;
};
`;var aA=p`(value, start, end) => {
	if (typeof value !== "string" || typeof start !== "string" || typeof end !== "string") return false;

	const date = new Date(value);
	if (isNaN(date.getTime())) return false;

	const startDate = new Date(start);
	if (isNaN(startDate.getTime())) return false;

	const endDate = new Date(end);
	if (isNaN(endDate.getTime())) return false;

	return date >= startDate && date <= endDate;
};
`;var sA=p`(value) => {
	return typeof value === "number" && value % 2 === 0;
};
`;var lA=p`(a, b) => {
	return b.includes(a);
};
`;var cA=p`(value) => {
	return typeof value === "number" && value % 2 === 1;
};
`;var dA=p`(value) => {
	if (Array.isArray(value)) return value.length > 0;
	return value !== undefined && value !== null && value !== "";
};
`;var pA=p`(value) => {
	const result = JSON.stringify(value)
	if (typeof result === 'string') return result.replace(/<\\/(script|style)/gi, '<\\\\/$1')
	return result
};
`;var uA=p`(a, b) => {
	return (typeof a === "number" && typeof b === "number") ? a < b : false;
};
`;var mA=p`(value) => {
	return !value;
};
`;var fA=p`(value) => {
	if (typeof value !== "number") return value;
	if (!Number.isFinite(value)) return undefined;
	return Math.max(0, value) + "px";
};
`;var hA=p`(value, offset, limit) => {
	if (!Array.isArray(value)) return []
	const end = typeof limit === "number" ? offset + limit : undefined
	return value.slice(offset, end);
};
`;var gA=p`(value) => {
	if (!Number.isFinite(value) || value <= 0) return 1;
	if (value >= 100) return 2;
	return Math.round(value) / 100 + 1;
};
`;var yA=p`(value, prefix) => {
	if (typeof value === "string" && typeof prefix === "string") {
		return prefix + value;
	} else if (typeof value === "string") {
		return value;
	} else if (typeof prefix === "string") {
		return prefix;
	}
	return "";
};
`;var CA=p`(value, cornerIndex) => {
	if (typeof value === "number" && Number.isFinite(value)) return Math.max(0, value) + "px";
	if (typeof value !== "string" || typeof cornerIndex !== "number") return undefined;
	const segments = value.split(" ");
	return segments[cornerIndex] || segments[cornerIndex - 2] || segments[0];
};
`;var SA=p`(value) => {
	return Array.isArray(value) ? Array.from(value).reverse() : [];
}
`;var vA=p`(a, b) => {
	return typeof a === "string" && typeof b === "string" && a.toLowerCase().startsWith(b.toLowerCase());
};
`;var TA=p`(value, suffix) => {
	if (typeof value === "string" && typeof suffix === "string") {
		return value + suffix;
	} else if (typeof value === "string") {
		return value;
	} else if (typeof suffix === "string") {
		return suffix;
	}
	return "";
};
`;var bA=p`(value, overflow) => {
	const isNonScrollable = (o) => o === "visible" || o === "clip" || o === undefined
	return isNonScrollable(value) === isNonScrollable(overflow) ? value : undefined
}`;var IA=p`(value) => {
	return Boolean(value);
};
`;var NA=p`value`,xA=p`activeLocale`;function PA(e,t){let o=t.dedupe("sharedDateFormatter",new I(bt.lines(p`(value, formatOptions, locale) => {`,p`  if (typeof value !== "string") return "";`,p`  const date = new Date(value);`,p`  if (isNaN(date.getTime())) return "";`,p`  const fallbackLocale = "en-US";`,p`  try {`,p`      return date.toLocaleString(locale || fallbackLocale, formatOptions);`,p`  } catch {`,p`      return date.toLocaleString(fallbackLocale, formatOptions);`,p`  }`,p`};`))),r=iT(e.display,e.format,e.dateStyle,!1),n={...nT[r].options,timeZone:"UTC"},i=t.dedupe("dateOptions",new I(ge(n)));return new I(bt.lines(p`(${NA}, ${xA}) => {`,p`return ${I.fn(o,NA,i,e.locale||xA)};`,p`};`))}var VA=p`(value) => {
	if (typeof value === "object" && value !== null && typeof value.src === "string") {
		return value.src;
	};
	return typeof value === "string" ? value : undefined;
};
`;var kA=p`(value) => {
	if (typeof value === "number" && Number.isFinite(value)) return value;
	if (typeof value !== "string") return 0;
	const parsedNumber = parseFloat(value);
	return (typeof parsedNumber === "number" && Number.isFinite(parsedNumber)) ? parsedNumber : 0;
};
`;var s0=`var(${nS}, clip)`,RA=p`(value) => {${p.joinLines(p`if (value === "clip") return ${s0}`,p`return value`)}};`;var wA=p`(value) => {
	if (typeof value === "object" && value !== null && typeof value.src === "string") {
		return value
	}
	return typeof value === "string" ? {src: value} : undefined;
};
`;var LA=p`(value) => {
	return typeof value === "string" ? value : String(value);
};
`;var DA=p`(value) => {${p.joinLines(p`if (!Number.isFinite(value)) return 0`,p`if (value < -1) return -1`,p`if (value > 11) return 11`,p`return value`)}};`;function FA(e){switch(e){case"isAfter":return nA;case"isBefore":return iA;case"isBetweenDates":return aA;case"contains":return Fx;case"containsAny":return HF;case"containsAll":return GF;case"endsWith":return XF;case"equals":return ZF;case"isSet":return dA;case"greaterThan":return tA;case"lessThan":return uA;case"negate":return mA;case"numberToString":return MF;case"startsWith":return vA;case"toString":return LA;case"toNumber":return kA;case"toBoolean":return IA;case"extractDateSegment":return QF;case"reverseArray":return SA;case"offsetAndLimitArray":return hA;case"arrayLength":return BF;case"prefix":return yA;case"suffix":return TA;case"toResponsiveImage":return wA;case"toImageSrc":return VA;case"jsonStringify":return pA;case"htmlEscape":return oA;case"htmlUnescape":return rA;case"addImageAlt":return zF;case"toZIndex":return DA;case"toAxisOverflow":return bA;case"toOverflowWithClipFallback":return RA;case"numberToPixelString":return fA;case"radiusForCorner":return CA;case"percentageToCornerShape":return gA;case"isIncludedIn":return lA;case"toggleInList":return Ax;case"isEven":return sA;case"isOdd":return cA;case"getGridColumnCSSValue":return KF;case"getGridRowCSSValue":return YF;case"getNumericColumnGap":return eA;default:G(e,"All constant transform names should be implemented")}}function AA(e,t,o,r,n,i,a){switch(e.name){case"enumToDisplayName":return AF(t);case"convertFromEnum":return UF(e,t,o,r,n,i);case"convertFromString":return JF(e,o,r,n,i);case"convertFromBoolean":return _F(e,o,r,n,i);case"arrayToArray":return $F(e);case"toDateString":return PA(e,a);default:G(e,"All dynamic transform names should be implemented")}}var Go=Yn(),l0={name:"toString"},c0={name:"toNumber"},d0={name:"toBoolean"},p0={name:"toResponsiveImage"},u0={name:"toImageSrc"},m0={name:"toZIndex"},f0={name:"numberToPixelString"},h0={name:"radiusForCorner"},g0={name:"percentageToCornerShape"},y0={name:"toAxisOverflow"},C0={name:"toOverflowWithClipFallback"},S0={name:"jsonStringify"},v0={name:"htmlEscape"},T0={name:"htmlUnescape"},b0={name:"addImageAlt"},I0={name:"getGridColumnCSSValue"},N0={name:"getGridRowCSSValue"},x0={name:"getNumericColumnGap"};function P0(e){return gS(e.name)}var Mr=class{constructor(t,o,r,n,i,a,s,l,c,d){this.componentLoader=t;this.fileDeclarations=o;this.componentDeclarations=r;this.imports=n;this.variables=i;this.localizedValues=a;this.links=s;this.fetches=l;this.modulesStore=c;this.type=d}wrapInTransformFunction(t,o,r,n,i){if(hS(o.name)){let a=this.fileDeclarations.dedupe(o.name,FA(o.name));return I.fn(a,t,...r)}if(P0(o)){if(o.name==="enumToDisplayName"&&n&&n.type==="enum"){let s=this.getImportedEnumToDisplayNameIfPossible(t,n);if(s)return s}let a=AA(o,n,i,this.variables,this.localizedValues,this.links,this.fileDeclarations);return I.fn(new I(this.fileDeclarations.dedupe(o.name,a)),t,...r)}G(o.name,"All value transforms should be handled in wrapInTransformFunction")}getImportedEnumToDisplayNameIfPossible(t,o){let r=this.imports,n=this.modulesStore;if(!r||!n)return;let i=GT(o);if(!i)return;let{dataIdentifier:a,enumFieldKey:s}=i;if(a===jT)return s===_T?this.variables?.getLayoutDirectionName()??p`undefined`:this.variables?.getLocaleName()??p`undefined`;let l=this.componentLoader.dataForIdentifier(a);if(!l||!l.annotations)return;let c="framerEnumToDisplayNameUtils",d=l.annotations?.[c];if(!A(d))return;let u=Number.parseInt(d,10);if(!te(u))return;let m=he(a);if(!rt(m))return;let{importSpecifier:h}=kr(m,this.type,this.componentLoader,n);if(!h)return;let C=this.variables?.getLocale()??p`undefined`;switch(u){case 1:{let T=DF(s),N=r.addImport(h,{exportSpecifier:T});return I.optionalFn(N,t,C)}case 2:{let T=FF,N=r.addImport(h,{exportSpecifier:T});return I.optionalFn(p`${N}[${s}]`,t,C)}default:throw new Error(`Enum to display name utils, unsupported version: ${u}`)}}wrapInValueTransform(t,o,r,n){return this.wrapInTransformFunction(t,o,WF(o,this,this.variables,this.localizedValues),r,n)}makeTypeSafe(t,o){switch(o){case"string":case"color":return this.wrapInTransformFunction(t,l0,Go);case"number":return this.wrapInTransformFunction(t,c0,Go);case"boolean":return this.wrapInTransformFunction(t,d0,Go);case"array":case"enum":case"link":case"gap":case"padding":case"borderradius":case"image":case"multicollectionreference":return t;default:return t}}getActiveLocaleCode(){if(!this.componentDeclarations||!this.imports)return p`undefined`;let t=this.imports.addImport("framer",{exportSpecifier:"useLocaleCode"});return this.componentDeclarations.dedupe("activeLocaleCode",I.fn(t))}createComputedValue(t,o,r){S(this.variables);let n=tn(t)?o.cache.getVariableControlByReference(t.startValue):void 0,i=tn(t)?this.variables.create(t.startValue):this.fetches.createFetchBinding(o,t.startValue),a;t.transforms.forEach(l=>{yS(l.name)&&(i=this.wrapInValueTransform(i,l,n,r),a=l)});let s=a?CS(a.name):null;return!s||s.length>1||s[0]!==t.outputType?this.makeTypeSafe(i,t.outputType):i}wrapInToResponsiveImage(t){return this.wrapInTransformFunction(t,p0,Go)}wrapInToImageSrc(t){return this.wrapInTransformFunction(t,u0,Go)}wrapInToZIndex(t){return this.wrapInTransformFunction(t,m0,Go)}wrapInNumberToPixelString(t){return this.wrapInTransformFunction(t,f0,Go)}wrapInRadiusForCorner(t,o){return this.wrapInTransformFunction(t,h0,[o])}wrapInPercentageToCornerShape(t){return this.wrapInTransformFunction(t,g0,Go)}wrapInToAxisOverflow(t,o){return this.wrapInTransformFunction(t,y0,[o])}wrapInToOverflowWithClipFallback(t){return this.wrapInTransformFunction(t,C0,Go)}wrapInAddImageAlt(t,o){return this.wrapInTransformFunction(t,b0,[o])}wrapInClampRGB(t){return S(this.imports,"ValueTransformCollector: Must have imports to wrap in clampColor."),I.fn(this.imports.addImport("framer",{exportSpecifier:"clampRGB"}),t)}wrapInGetGridColumnCSSValue(t,o){return this.wrapInTransformFunction(t,I0,o?[o]:Go)}wrapInGetGridRowCSSValue(t){return this.wrapInTransformFunction(t,N0,Go)}wrapInGetNumericColumnGap(t){return this.wrapInTransformFunction(t,x0,Go)}wrapInTemplateFilters(t,o){return this.makeTypeSafe(UN(t,o,{json:r=>this.wrapInTransformFunction(r,S0,Go),escape:r=>this.wrapInTransformFunction(r,v0,Go),raw:r=>this.wrapInTransformFunction(r,T0,Go)}),"string")}};function V0(e){return z(e)||Rt(e)||ue(e)||Do(e)||Be(e)}function EA(e,t){return p`(key, locale){${p.joinLines(p`while (locale) {${p.joinLines(p`const values = ${e}[locale.id]`,p`if (values) {${p.joinLines(p`const value = ${t?p`values.read()[key]`:p`values[key]`}`,p`if (value) return value`)}}`,p`locale = locale.fallback`)}}`)}}`}var mc,om=class{constructor(t,o,r){this.entryNode=t;this.variables=o;this.treeStore=r;D(this,"cache",{});D(this,"valueCounter",0);ce(this,mc,!1)}freeze(){le(this,mc,!0)}add(t,o,r){S(!E(this,mc),"Cannot add values to a frozen LocalizedValuesCollector.");let n={};if(!o||!V0(this.entryNode))return t;let i;if(this.variables){let u=new Vr;i=new Fn(this.entryNode,u)}let a=this.treeStore.tree.root.locales??[];for(let u of a){if(!(u.id in o))continue;let m=this.createLocalizedValue(u.id,i,r);yo(m)||(n[u.id]=m)}if(Bt(n))return t;let s=ge({defaultValue:t,localizedValues:n}),l=this.cache[s];if(l)return l;let c=`v${this.valueCounter++}`,d=I.fn(this.getLocalizedValueBinding,c,fe.activeLocale);if(this.variables&&i&&i.size>0){let u=[],m=[];for(let[C,T]of i){u.push(T);let N=this.variables.create(C);m.push(N)}for(let C in n){let T=n[C];S(!yo(T),"Localized should not be null or undefined");let N=p.listFrom(u);n[C]=p`(${N}) => ${T}`}let h=p.listFrom(m);d=p`${d}?.(${h})`}for(let u in n){let m=n[u];S(!yo(m),"Localized should not be null or undefined"),this.recordLocalizedValue(u,c,m)}return F(t)||(d=p`${d} ?? ${t}`),this.cache[s]=d}};mc=new WeakMap;var wi,rm=class extends om{constructor(o,r,n,i,a,s,l,c,d){super(o,r,n);this.componentLoader=i;this.imports=a;this.declarations=s;this.fetches=l;this.modulesStore=c;this.moduleType=d;D(this,"submoduleByLocaleId",new Map);D(this,"identifier",`../${dr("localization",this.entryNode.id)}`);D(this,"submodules");D(this,"bindings",new Vr);ce(this,wi);this.submodules=new em(this.moduleType,this.componentLoader,this.modulesStore,this.entryNode.id)}get getLocalizedValueBinding(){return this.imports.addImport(this.identifier,{exportSpecifier:"default",importBinding:"getLocalizedValue"})}canPreloadWithSuspense(){return!ue(this.entryNode)}preloadWithSuspense(){E(this,wi)||(le(this,wi,this.bindings.create("usePreloadLocalizedValues")),this.declarations.component.create(I.fn(this.imports.addImport(this.identifier,{exportSpecifier:ge(E(this,wi))}),fe.activeLocale)))}createLocalizedValue(o,r,n){let i=this.submoduleByLocaleId.get(o)??this.submodules.create(),a=new yn(this.entryNode,this.componentLoader,i.imports,i.bindings,r,this.treeStore,this.modulesStore),s=n(o,{links:a,variables:r,imports:i.imports,declarations:i.declarations,valueTransforms:new Mr(this.componentLoader,i.declarations,void 0,i.imports,r,this,a,this.fetches,this.modulesStore,this.moduleType)});if(yo(s)){i&&!this.submoduleByLocaleId.has(o)&&this.submodules.delete(i);return}return this.submoduleByLocaleId.set(o,i),this.canPreloadWithSuspense()&&this.preloadWithSuspense(),s}recordLocalizedValue(o,r,n){let i=this.submoduleByLocaleId.get(o);S(i,"Localization submodule must exist"),i.declarations.create(p`export const ${new I(r)} = ${n}`)}maybeGetUsePreloadDeclarations(o){if(!this.canPreloadWithSuspense()||!E(this,wi))return[];let r=this.bindings.create("preload"),n=E(this,wi);return[p`function ${r}(locale) {${p.joinLines(p`const promises = []`,p`while (locale) {${p.joinLines(p`const values = ${o}[locale.id]`,p`if (values) {${p.joinLines(p`const promise = values.preload()`,p`if (promise) promises.push(promise)`)}}`,p`locale = locale.fallback`)}}`,p`if (promises.length > 0) return Promise.all(promises)`)}}`,p`export function ${n}(locale) {${p.joinLines(p`const preloadPromise = ${r}(locale)`,p`if (preloadPromise) throw preloadPromise`)}}`]}values(o){let r={};for(let[n,i]of this.submoduleByLocaleId)if(this.canPreloadWithSuspense()){let a=o.addImport("framer",{exportSpecifier:"LazyValue"});r[n]=I.fn(p`new ${a}`,p`() => import(${i.submoduleImport})`)}else r[n]=o.addImport(i.submoduleImport,{exportSpecifier:"*",importBinding:"localizedValues"});return r}module(o){if(this.freeze(),(this.treeStore.tree.root.locales??[]).length===0||this.submoduleByLocaleId.size===0)return;let n=new Xr(this.moduleType,this.componentLoader,this.modulesStore,this.bindings),i=new Dn(this.bindings),a=i.dedupe("valuesByLocaleId",this.values(n));return{type:"localization",revision:o,source:p.joinSections(p.joinLines(...n.statements),...i.list(),p`export default function getLocalizedValue${EA(a,this.canPreloadWithSuspense())}`,...this.maybeGetUsePreloadDeclarations(a)),artifacts:{submodules:this.submodules.serialize()}}}};wi=new WeakMap;var fc,Va=class extends om{constructor(o,r,n,i,a,s,l,c,d,u){super(o,r,n);this.componentLoader=i;this.imports=a;this.bindings=s;this.declarations=l;this.fetches=c;this.modulesStore=d;this.moduleType=u;D(this,"valuesByLocaleId",{});ce(this,fc)}get getLocalizedValueBinding(){return E(this,fc)||le(this,fc,this.bindings.create("getLocalizedValue")),E(this,fc)}recordLocalizedValue(o,r,n){let i=this.valuesByLocaleId[o]??{};i[r]=n,this.valuesByLocaleId[o]=i}createLocalizedValue(o,r,n){let i=new yn(this.entryNode,this.componentLoader,this.imports,this.bindings,r,this.treeStore,this.modulesStore);return n(o,{links:i,variables:r,imports:this.imports,declarations:this.declarations,valueTransforms:new Mr(this.componentLoader,this.declarations,void 0,this.imports,r,this,i,this.fetches,this.modulesStore,this.moduleType)})}list(){if(this.freeze(),(this.treeStore.tree.root.locales??[]).length===0)return[];let r=this.bindings.create("valuesByLocaleId");return[p`const ${r} = ${this.valuesByLocaleId}`,p`function ${this.getLocalizedValueBinding} ${EA(r,!1)}`]}};fc=new WeakMap;var ka,Ra,Os,nm=class{constructor(t){ce(this,ka);ce(this,Ra,new Set);ce(this,Os,new Map);le(this,ka,{...t})}count(t,o=1){E(this,ka)[t]+=o}measureLength(t,o){return(A(o)||o instanceof I)&&(E(this,ka)[t]+=o.length),o}get(){if(E(this,Ra).size>0){let o=Array.from(E(this,Ra),r=>r.metric).join(", ");throw Error(`Attempted to get metrics before completing timer(s): ${o}`)}let t={...E(this,ka)};for(let[o,r]of E(this,Os)){let n=Sx(r);t[o]+=Math.round(n.reduce((i,[a,s])=>i+(s-a),0))}return t}time(t){let o=performance.now(),r=!1,n={get metric(){return t},cancel:()=>{r||(E(this,Ra).delete(n),r=!0)},done:()=>{S(!r,"Attempted to complete a cancelled timer");let i=E(this,Os).get(t);i||(i=[],E(this,Os).set(t,i)),i.push([o,performance.now()]),n.cancel()}};return E(this,Ra).add(n),n}async timed(t,o){let r=this.time(t);try{return await o()}finally{r.done()}}};ka=new WeakMap,Ra=new WeakMap,Os=new WeakMap;function MA(e,t,o){return"_"+nt(JSON.stringify({trackingId:e,type:t,nodeId:o})).toString(36)}var Ws,im=class{constructor(t){this.componentLoader=t;ce(this,Ws,[])}add(t){let o=w0(this.componentLoader,t);o.length!==0&&E(this,Ws).push(...o)}annotation(){if(E(this,Ws).length===0)return;let t=new Map;for(let o of E(this,Ws)){let r=MA(o.trackingId,o.type,o.nodeId);t.has(r)||t.set(r,JSON.stringify({id:r,trackingId:o.trackingId,type:o.type,nodeId:o.nodeId}))}return`[${Array.from(t.values()).join(",")}]`}};Ws=new WeakMap;function Li(e){return A(e)&&e.length>0}function k0(e){return A(e)?e==="click"||e==="form_submit"||e==="trigger_invoke":!1}function ybe(e){if(!Ze(e))return;let t=[];for(let o of e){if(!Ue(o)||!F(o.type)&&!k0(o.type))return;let r=o.type??void 0,n=("nodeId"in o?o.nodeId:void 0)??void 0,i=o?.trackingId,a=o?.id;if(Li(i)&&typeof a=="string")t.push({id:a,trackingId:i,type:r,nodeId:n});else if(!i&&Li(a))t.push({id:MA(a,r,n),trackingId:a,type:r,nodeId:n});else return}return t}function R0(e,t,o){if(e.includes(bd))try{let n=cs(e).querySelectorAll(`[${bd}]`);for(let i of n){let a=i.getAttribute(bd);Li(a)&&o.push({trackingId:a,nodeId:t,type:"click"})}}catch{}}function w0(e,t){let o=[],r=t.getPrimaryId();if(gi(t)&&Li(t.linkClickTrackingId)&&o.push({trackingId:t.linkClickTrackingId,nodeId:r,type:"click"}),Pe(t)){for(let n of t.getLinkClickTrackingId(!1))Li(n)&&o.push({trackingId:n,nodeId:r,type:"click"});if(t.htmlLocalized)for(let n in t.htmlLocalized){let i=t.htmlLocalized[n]?.value;i&&R0(i,r,o)}}if(J(t)){let n=e.reactComponentForIdentifier(t.codeComponentIdentifier);if(n?.properties){let i=t.getControlProps(n.properties);for(let a in i){if(!i[a])continue;let s=i[a];s.type==="trackingid"&&Li(s.value)&&o.push({trackingId:s.value,nodeId:void 0,type:void 0})}}}return er(t)&&Li(t.formSubmitTrackingId)&&o.push({trackingId:t.formSubmitTrackingId,nodeId:r,type:"form_submit"}),mn(t)&&o.push(...t.triggerActions.filter(n=>Li(n.trigger.trackingId)).map(n=>({trackingId:n.trigger.trackingId,nodeId:r,type:"trigger_invoke"}))),o}var am=class{constructor(t){D(this,"declarations");D(this,"imports");D(this,"overlays");D(this,"triggerActionByNode",new Map);this.declarations=t.declarations,this.imports=t.imports,this.overlays=t.overlays}collectTriggerActionsForNode(t){if(mn(t))for(let o of t.triggerActions){let r=this.declarations.file.dedupe("trigger",I.fn(this.imports.addImport("framer",{exportSpecifier:"createTrigger"}),L0(o.trigger))),n=this.triggerActionByNode.get(t.id)??[];this.triggerActionByNode.set(t.id,[...n,this.getTriggerActionProps(t,o,r)]),o.action.type==="setComponentVariant"&&this.declarations.component.dedupe("triggers",I.fn(this.imports.addImport("framer",{exportSpecifier:"useTriggers"})))}}getTriggerActionProps(t,o,r){let n=US(t.id,o.action.type),i={triggerId:`${t.id}-${o.id}`,targetId:n,binding:r};switch(o.action.type){case"showOverlay":{Yt(t.parentid,"Parent ID is required for showOverlay trigger action"),this.overlays.addOverlayTrigger(t.id,t.parentid);let a=this.overlays.bindingsByOverlayId.get(t.id);return Yt(a,"Overlay binding is required for showOverlay trigger action"),{...i,overlayBinding:a}}case"setComponentVariant":return{...i,setVariantBinding:p`triggers.hasTriggered(${i.triggerId}) && ${I.fromValue(o.action.variant)}`}}}};function L0(e){let t=hc(e.cookies?.rules,r=>r.key),o=hc(e.urlParams?.rules,r=>r.key);return{...e,eventHistory:hc(e.eventHistory,r=>r.eventId),cookies:e.cookies&&t?{...e.cookies,rules:t}:void 0,urlParams:e.urlParams&&o?{...e.urlParams,rules:o}:void 0,includeRoutes:hc(e.includeRoutes,r=>r.route),excludeRoutes:hc(e.excludeRoutes,r=>r.route),pageCount:e.pageCount&&e.pageCount>1?e.pageCount:void 0}}function hc(e,t){let o=e?.filter(t);return o?.length?o:void 0}var sm=class{constructor(t,o,r,n){this.imports=t;this.treeStore=o;this.modulesStore=r;this.createBinding=n;D(this,"sets",new Set)}resolveVariableInstance(t){S(q(t.dynamicVectorSetIdentifier),"Vector set identifier must be a variable reference"),S(rt(t.codeComponentIdentifier),"Code component identifier must be a module");let o=he(t.codeComponentIdentifier),r=kl(o,this.treeStore.tree,this.modulesStore)?.set.moduleId;return r&&this.sets.add(r),this.createBinding(t.dynamicVectorSetIdentifier,t,"Icon")}resolveControl(t,o,r){if(q(t))return this.sets.add(o.setModuleId),this.createBinding(t,r,"Icon");S(rt(t),"Vector set item must be a module export identifier");let n=dN(this.treeStore.tree,o,t);if(n)return this.imports.addModuleImport(n)}annotation(){if(this.sets.size!==0)return JSON.stringify(Array.from(this.sets))}};var gc,yc,yy,lm=class{constructor(){ce(this,yc);ce(this,gc,new Map)}set(t,o){E(this,gc).set(U(this,yc,yy).call(this,t),o)}get(t){return E(this,gc).get(U(this,yc,yy).call(this,t))}};gc=new WeakMap,yc=new WeakSet,yy=function(t){return t.getPrimaryId()};function OA(e){return pr(e)&&e.layout==="stack"&&e.stackDirection==="vertical"}function WA(e){return OA(e.getPrimaryVariant())&&e.getReplicaVariants().every(OA)}var zA=Je("createDeduplicatedDynamicValueBinding");function D0(e,t,o,r){if(!Array.from(o.keys()).some(s=>{let l=t.get(s);return Et(l)}))return r.component;let i=t.get(e.parentid),a=e;for(;i;){let s=o.get(i.getPrimaryId());if(s){let l=t.get(i.getPrimaryId());if(Et(l)){let c=Mb(t,l),d=s.some(u=>!HN(u));return d&&c?.getPrimaryId()!==a.getPrimaryId()?(zA.warn("Trying to consume a repeater variable available only to repeated children from another child. Falling back to component scope. This will result in undefined values."),r.component):r.forScope(l.id,d?"repeater-item":"repeater")}}a=i,i=t.get(i.parentid)}return zA.warn("Dynamic value consumes variables from a repeater but cannot find a suitable scope. Falling back to component scope. This will result in undefined values."),r.component}function F0(e){return e}function A0(e){let t=new Map;return ZN(e,o=>{if(!o.providerId)return;let r=t.get(o.providerId)??[];t.set(o.providerId,[...r,o.id])}),t}var BA=(e,t,o,r)=>(n,i,a,s=F0,l=void 0)=>{if(q(n))return s(o.create(n));if(Zt(n)){let c=s(r.createComputedValue(n,i,l));return TS(n)?c:D0(i,e.tree,A0(n),t).dedupe(a,c)}G(n)};function E0(e){if(Ye(e))return"screen";if(Qt(e))return"vector";if(Ct(e))return"design";let{type:t}=he(e.instanceIdentifier);return t}function $A(e,t,{componentLoader:o,treeStore:r,modulesStore:n,engineChanges:i,assetMap:a},s=new Set,l=`framer-${Xp(5)}`,c=!1){let d=E0(t),u=new Vr(...s),m=new Xr(d,o,n,u);m.addImport("react",{exportSpecifier:"*",importBinding:"React"});let h=new Zu(t.id,Ye(t)?e.id:t.id,d),C=Un(t);Yt(C!=="ContentManagement"&&C!=="Analytics"&&C!=="LocalizationGlossary"&&C!=="Routes"&&C!=="CustomCode","Content management, Analytics, Localization glossary, Routes & Custom Code nodes cannot be code-generated");let T=new aI(u),N=new Fn(t,u),P=new _n(a),k=new yn(t,o,m,u,N,r,n,()=>{let Ho=m.addImport("framer",{exportSpecifier:"useRouter"});return T.component.dedupe("router",I.fn(Ho))}),W=new Bn(t,r,N,T.file,u,m,P),M=new Xn(u,N,W,P,k),H=new rm(t,N,r,o,m,T,M,n,d),X=new Mr(o,T.file,T.component,m,N,H,k,M,n,d),K=new Xu(t,o,u,T,m,N,r),oe=new im(o),me=new Ju(T.component,t,e.id),j=BA(r,T,N,X),xe=new iI(t,N,r,X,j),pe=new hu(t,e,l,xe),Ie=new or({treeStore:r,bindings:u}),Re=new Ku(T.font),R=new Qu(e,o,r,N,u,m,P,k,Re,M,X,Ie,{type:d}),ne=new am({declarations:T,imports:m,overlays:Ie}),ae=new Set,Te=new nm(ov()),gt=new Set,yt={dependencies:gt,addDependency:Ho=>gt.add(Ho)},be=un(t)&&!c?t.getReplicaVariants():[],se={};if(ue(t))for(let Ho of be)!Qo(Ho)||hs(Ho.gesture)||(se[Ho.replicaInfo.inheritsFrom??Ho.replicaInfo.master]=!0);let Nt=new Uu(r.tree,u),Xt=new eN(t,o,Re,m,T.file,N,n,r),ro=new qu(n,r.tree,o),Sr=new Yu(t),sr=new sm(m,r,n,j),uo=new ju(o,r,N,X),lr=Be(t)?fe.children:void 0;return{type:"jsxContext",componentLoader:o,treeStore:r,modulesStore:n,engineChanges:i,assetMap:a,simulatedDOM:uo,variants:be,topLevelVariantsWithGestures:se,imports:m,errors:h,variables:N,fetches:M,assets:P,valueTransforms:X,elementIds:K,css:pe,renderFunctions:me,overlays:Ie,events:R,links:k,fonts:Re,metrics:Te,packages:yt,appearIds:Nt,bindings:u,declarations:T,preload:W,localizedValues:H,componentPresetIds:ae,renderAsListNodes:new Map,repeaterInfo:new Map,renderConditions:new Map,nodesWithAnyGradientFill:new Map,customCursors:Xt,cssVariableDefinitions:xe,formIds:new Set,hitTargets:Sr,createDeduplicatedDynamicValueBinding:j,trackingIds:oe,vectorSets:sr,kitSectionsStructure:ro,overlayProps:new Map,triggerActions:ne,llmSnapshot:c,scopeId:t.id,scopeType:C,moduleType:d,rootId:e.id,linkClassName:pe.addRule({display:"block"},t),layoutTemplateSlotBinding:lr,nodeRendersWithMotion:new lm,serializationId:l,acceptsLayoutTemplate:z(t)&&t.isLoaded()&&t.baseVariantId?WA(t):void 0}}function GA({ctx:e,ancestorInfo:t,jsxAttributes:o,usedVariableIds:r,dataRepeater:n,primaryCombinedControlMap:i,shouldInlineQuery:a,variantId:s}){let l=[],c=o.subqueries,d=t.subqueries,u=PP(n,i,r,N=>{if(a){let P=d;for(;P;){if(N.providerId===P.repeaterNode.id){let k=gs(P.repeaterNode),[W,M]=VP(N.id,k);return{type:"Identifier",name:M,collection:W}}P=P.parent}}return S(e.variables,"VariableCollector is required"),l.push(N),{type:"LiteralValue",value:e.variables.create(N)}},N=>{let P=e.imports.addModuleImport(N);return S(P,"Can't import collection"),P});S(c,"Subqueries must exist");let m=c.getSubqueries(s);for(let[N,P]of m)u.select.push({type:"FunctionCall",functionName:"ARRAY",alias:N,arguments:[{type:"Select",...P}]});let h=c.getVariableDependencies(s);l.push(...h);let C=u;if(a)return S(d,"Parent subqueries must exist"),d.addSubquery(s,n.getPrimaryId(),u),d.addVariableDependencies(s,l),new Y({query:C,pageSize:n.collectionPaginationPageSize});e.preload.addQuery(n,C,l);let T=e.preload.addRouteLoaderQuery(n,C,l);return new Y({query:T,pageSize:n.collectionPaginationPageSize})}function M0(e,t){return F(e.subqueries)||t.isAnyVariantPaginated?!1:e.inRepeatedItem??!1}function HA(e,t,o){let r=Ob(t,e);return r?o.forScope(r.repeater.id,r.inRepeatedChild?"repeater-item":"repeater"):o.component}function _A(e,t,o,r,n){let i=r.inheritedControlMap;S(i,"Primary variant combined control map must be defined.");let a=M0(o,r),s=GA({ctx:t,ancestorInfo:o,jsxAttributes:r,usedVariableIds:n,dataRepeater:e,primaryCombinedControlMap:i,shouldInlineQuery:a,variantId:"primary"}),l={};for(let c of t.variants){let d=ma(c,e.id,t.treeStore.tree)??e;S(Et(d),"Node must be a data repeater");let u=GA({ctx:t,ancestorInfo:o,jsxAttributes:r,usedVariableIds:n,dataRepeater:d,primaryCombinedControlMap:i,shouldInlineQuery:a,variantId:c.id});ti(s,u)||(l[c.id]=u)}return a?null:{props:s,overrides:Bt(l)?void 0:l}}function O0(e,t){let o=t.imports.addImport("framer",{exportSpecifier:"useQueryData"});if(Zr(e)){let r=t.imports.addImport("framer",{exportSpecifier:"useLoadMorePaginatedQuery"}),n=p`paginatedQuery`;return p.joinLines(p`const { ${n}, paginationInfo, loadMore } = ${r}(query, pageSize, ${e.id})`,p`const data = ${I.fn(o,n)}`,p`return children(data, paginationInfo, loadMore)`)}return p.joinLines(p`const data = ${I.fn(o,p`query`)}`,p`return children(data)`)}function jA(e,t){return p`({ query, pageSize, children }) => {
        ${O0(e,t)}
    }`}function UA({renderAsListNodes:e},t){return t.parentid?e.has(t.parentid):!1}function JA(e,t,{isAnyVariantALink:o},r){let n=r?"motion.":"";return gi(t)&&(co(t)||o)?`${n}a`:UA(e,t)?`${n}li`:yi(t)&&t.htmlTag&&us(e.scopeType)?`${n}${t.htmlTag}`:`${n}${Zd}`}function XA(e,t,{isAnyVariantAnEffect:o,isAnyVariantOptimizedAppearEffect:r},n){let i=[];o&&i.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),r&&i.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"}));let a=t.treeStore.tree.get(n.lastRepeaterId);return br(a)&&Zr(a)&&Ln(e,a)&&i.push(t.imports.addImport("framer",{exportSpecifier:"withInfiniteScroll"})),t.scopeType==="SmartComponent"?t.imports.addImport("framer",{exportSpecifier:"SmartComponentScopedContainer",composeWithImports:i}):t.imports.addImport("framer",{exportSpecifier:"Container",composeWithImports:i})}function W0(e,t){if(!Dd(t.treeStore.tree,e)||!!!t.componentLoader.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerImmutableVariables)return;let r=he(e.codeComponentIdentifier);if(!rt(r))return;let{importSpecifier:n,importBinding:i}=kr(r,t.moduleType,t.componentLoader,t.modulesStore);if(!n)return;let a=t.imports.addImport(n,{exportSpecifier:"*",importBinding:`${i}Info`});return[t.imports.addImport("framer",{exportSpecifier:"withMappedReactProps"}),a]}function z0(e,t,o,r){let n=[];Fe(e)&&t.scopeType==="CanvasPage"&&n.push(t.imports.addImport("framer",{exportSpecifier:"withGeneratedLayoutId"})),r.isAnyVariantColumnMasonryLayout&&n.push(t.imports.addImport("framer",{exportSpecifier:"withColumnMasonryLayout"}));let i=B0(e,t,o);i&&n.push(i);let a=Cu(e,t);if(n.push(...a),i||a.length>0){let s=W0(e,t);s&&n.push(s)}return r.isAnyVariantAVariantAppearEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withVariantAppearEffect"})),J(e)&&!e.isVectorInstance||(Ci(e)&&ss(t.scopeType)&&n.push(t.imports.addImport("framer",{exportSpecifier:"withFlowFX"})),r.isAnyVariantAnEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),r.isAnyVariantOptimizedAppearEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"})),r.isAnyVariantATickerEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withTickerFX"}))),n}function B0(e,t,o){let r=yu(e,t);if(!r)return;let{importSpecifier:n,exportSpecifier:i}=r,a={scopeId:t.scopeId,nodeId:e.getPrimaryId(),override:t.imports.addImport(n,{exportSpecifier:i}),inComponentSlot:o.inComponentSlot?!0:void 0};return[t.imports.addImport("framer",{exportSpecifier:"withCodeBoundaryForOverrides"}),a]}function $0(e,t){if(e.kind!=="localModuleExport")return;let{localId:o}=e,n=t.modulesStore.getPersistedModuleByLocalId(o)?.metadata.packageDependencies;Ze(n)&&n.forEach(i=>{A(i)&&t.packages.addDependency(i)})}function ZA(e,t){let o=yp(e,t.componentLoader);if(!o)return;let r=dr("prototype",o);return t.imports.addImport(`../${r}`,{exportSpecifier:"default",importBinding:"Prototype"})}function G0(e){switch(e){case"BooleanShapeNode":case"CodeComponentNode":case"FormBooleanInputNode":case"FormPlainTextInputNode":case"FormSelectNode":case"FrameNode":case"OvalShapeNode":case"OverlayNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"RichTextNode":case"ShaderNode":case"ShapeContainerNode":case"ShapeGroupNode":case"StarShapeNode":case"SVGNode":case"TextNode":{let t=e;return!0}case"AgentPanelTool":case"AgentDragSelectTool":case"AgentModalTool":case"AgentSelectTool":case"AnalyticsScopeNode":case"BlockquoteEntityTypeRootNode":case"BlockquoteStylePresetNode":case"BoxShadow":case"CanvasNode":case"CanvasPageNode":case"CanvasScopeNode":case"ChatTool":case"CMSEntityTypeRootNode":case"CodeFileEntityTypeRootNode":case"CollectionReferenceVariableEditTool":case"CollectionItemNode":case"CollectionNode":case"Color":case"ColorEntityTypeRootNode":case"ColorStyleTokenListNode":case"ColorStyleTokenNode":case"ComponentEntityTypeRootNode":case"ComponentPresetNode":case"ConicGradient":case"ContentManagementNode":case"CreateCodeComponentBaseTool":case"CreateFrameBaseTool":case"CreateShapeBaseTool":case"CreateTextTool":case"CustomCodeScopeNode":case"CustomCodeNode":case"DateVariableEditTool":case"DesignPageNode":case"EntityFolderNode":case"EntityReferenceNode":case"EntityRootNode":case"ErrorListNode":case"ErrorNode":case"ExportOptions":case"EnumVariableEditTool":case"ExternalModuleNode":case"ExternalModulesListNode":case"FeedbackTool":case"FunnelNode":case"FunnelStepActionNode":case"FunnelStepNode":case"GapTool":case"GradientColorStop":case"GradientToolManagerTool":case"GuideMoveTool":case"HeaderRouteNode":case"HighlightStackItemTool":case"HighlightTool":case"ImageStylePresetNode":case"InitialTool":case"InlineCodeEntityTypeRootNode":case"InlineCodeStylePresetNode":case"LayoutTemplateEntityTypeRootNode":case"LayoutTemplateNode":case"LineAnchorMoveTool":case"LinearGradient":case"LinkEntityTypeRootNode":case"LinkStylePresetNode":case"LinkTool":case"LoadingShieldTool":case"LocalizationGlossaryItemNode":case"LocalizationGlossaryNode":case"LocalModuleNode":case"LocalModulesListNode":case"MoveTool":case"MutableNode":case"PaddingTool":case"PageLinkTool":case"PanTool":case"PathCurveBendTool":case"PathDefaultTool":case"PathSegment":case"PathSegmentAdditionTool":case"PathSegmentHandleMoveTool":case"PathSegmentMoveTool":case"PathSegmentSelectTool":case"PresetsListNode":case"PreviewSettings":case"ProxyRouteNode":case"RadialGradient":case"RadiusTool":case"RecoveryTool":case"RedirectRouteNode":case"ResizeTool":case"RewriteRouteNode":case"RichTextEditTool":case"RichTextVariableEditTool":case"RootNode":case"RotateTool":case"RouteNode":case"RouteLocaleNode":case"RouteSegmentNode":case"RouteSegmentRootNode":case"RoutesNode":case"SampleColorTool":case"ScaleTool":case"ScopeNode":case"SelectTool":case"Shadow":case"SlotConnectTool":case"SlotNode":case"SlotPropertyNode":case"SmartComponentNode":case"StringVariableEditTool":case"StyledTextDraft":case"TableStylePresetNode":case"TestTool":case"TextEditTool":case"TextEntityTypeRootNode":case"TextStylePresetNode":case"VectorSetEntityTypeRootNode":case"VectorSetNode":case"VekterGradientTool":case"VekterPathEngine":case"VekterTool":case"ViewportResizeTool":case"WebPageNode":case"ZoomSelectTool":case"ZoomTool":{let t=e;return!1}default:G(e)}}function QA(e,t,o,r){if(!G0(e.__class))throw Error(`jsxTagNameForNode: ${e.__class} does not support serialization to JSX.`);let n=z0(e,t,o,r);switch(e.__class){case"SVGNode":case"ShapeContainerNode":case"BooleanShapeNode":case"OvalShapeNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"ShapeGroupNode":case"StarShapeNode":return t.imports.addImport("framer",{exportSpecifier:"SVG",composeWithImports:n});case"TextNode":return t.imports.addImport("framer",{exportSpecifier:"Text",composeWithImports:n});case"RichTextNode":return t.imports.addImport("framer",{exportSpecifier:"RichText",composeWithImports:n});case"FrameNode":{if(er(e))return t.imports.addImport("framer",{exportSpecifier:"FormContainer",composeWithImports:n});if(so(e)||r.isAnyVariantAnImage)return t.imports.addImport("framer",{exportSpecifier:"Image",composeWithImports:n});let i=t.nodeRendersWithMotion.get(e);S(!F(i),"Node must have had `rendersWithMotion` computed for it.");let a=JA(t,e,r,i);return i?t.imports.addImport("framer-motion",{exportSpecifier:a,composeWithImports:n}):new I(a)}case"CodeComponentNode":{if(S(Xo(e),"Nodes with a ClassDiscriminator of CodeComponentNode must be a Code Component"),oL(e))return t.imports.addImport("framer",{exportSpecifier:rL(e)});if(ii(e)||r.identifiers&&r.identifiers.size>1)return t.imports.addImport("framer",{exportSpecifier:"Instance",composeWithImports:n});let i=he(e.codeComponentIdentifier);if(!rt(i)){let d=JC(e.codeComponentIdentifier);return S(d,"A package must have module information to be included in code-generation."),t.packages.addDependency(d.packageName),t.imports.addImport(d.moduleURL,{exportSpecifier:d.exportIdentifier,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"withMeasuredSize"})]})}S(rt(i),"A code component that is not a package must be a module.");let a=t.llmSnapshot&&J(e)&&e.isVectorInstance?"Icon":void 0,{importSpecifier:s,exportSpecifier:l,importBinding:c}=kr(i,t.moduleType,t.componentLoader,t.modulesStore,void 0,a);return S(s,"A module must have an import specifier."),$0(i,t),t.fonts.addFontReference({componentIdentifier:e.codeComponentIdentifier,fontReference:t.imports.addImport(s,{exportSpecifier:l,importBinding:c,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"getFonts"})]})}),t.imports.addImport(s,{exportSpecifier:l,importBinding:c,composeWithImports:n})}case"OverlayNode":return t.imports.addImport("framer",{exportSpecifier:"ResetOuterLinkContext"});case"FormBooleanInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormBooleanInput",composeWithImports:n});case"FormPlainTextInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormPlainTextInput",composeWithImports:n});case"FormSelectNode":return t.imports.addImport("framer",{exportSpecifier:"FormSelect",composeWithImports:n});case"ShaderNode":return t.imports.addImport("framer",{exportSpecifier:"Shader",composeWithImports:n});default:G(e.__class)}}function KA(e,t){if(xt(t)){let o=e.dataForIdentifier(t.dataIdentifier);return S(o,"A Data Repeater must have an evaluated data entity in the sandbox."),{id:t.id,annotations:o.annotations}}if(Dl(t))return{id:t.id,annotations:void 0};G(t,"A data repeater must have either an identifier or array variable")}function H0(e,t){let o=[];for(let[r,n]of e){if(oh(r))continue;let i=t?.get(r);if(!i)continue;let a=dn(i.type);oo(a)&&o.push(p`${n} ??= ${a}`)}return o}function _0(e,t,o,r){if(xt(e)){let n=o?.framerRecordIdKey;return n?t.variables.create(Ht(n,e.id)):r}return t.bindings.create("id")}function j0(e,t){if(xt(e))return t.bindings.createWithNode("collection",e);if(Dl(e))return t.variables.create(e.dataRepeaterArray);G(e,"parent should be a collection or array repeater")}function U0(e,t,o,r,n){let i={};for(let[a,s]of o)oh(a)||(i[a]=s);if(xt(e)){S(r,"Subqueries must exist");for(let a of r.childRepeaterIds){let s=n.treeStore.tree.get(a);S(s,"Repeater node must exist");let l=n.bindings.createWithNode("collection",s);i[a]=l}}else i[An]=t;return i}function qA(e,t,o,r,n){let i=_0(e,r,t,n),a=j0(e,r),s=r.variables.getBindings(e.id),l=U0(e,i,s,o.subqueries,r),c=o.inheritedControlMap?.get(e.id),d=Xc(e);return{args:p`${l}, ${n}`,variableFallbackList:H0(s,c),data:a,key:d?p`${i} ?? ${n}`:i}}var J0=Je("jsxForNode");async function X0(e,t,o,r){let n=nP(t.treeStore.tree,e,t.componentLoader);for(let i in n){if(i==="children")continue;let a=[],s=n[i];if(s){for(let l=0;l<s.length;l++){let c=s[l];if(!c)continue;let d=await dm(c.node,e,t,{...r,inComponentSlot:!0});d&&d.length>0&&a.push(d)}o.props[i]=a}}}function Z0(e,t,o){if(et(e))return ge(Or(t.imports.addImport("framer-motion",{exportSpecifier:"motion.div"}),t,o));if(J(e)&&e.codeComponentIdentifier==="framer/Prototype"){let r=ZA(e,t);if(r)return ge(ut.tag(r,void 0))}return""}function Q0(e,t,o){if(Et(t)){let r=KA(o.componentLoader,t);return o.repeaterInfo.set(t.id,r),t.id}return e.lastRepeaterId}function K0(e,t,o){return Et(t)?!1:!!(is(o.treeStore.tree,t)||e.inRepeatedItem)}function q0(e,t,o,{itemsOrderOverrides:r,hiddenInVariants:n,inheritedControlMap:i,inCodeOverride:a,subqueries:s,kitSectionNodeId:l,isAnyVariantColumnMasonryLayout:c}){return{...e,lastRepeaterId:Q0(e,t,o),inRepeatedItem:K0(e,t,o),subqueries:s,itemsOrderOverrides:r,hiddenInVariants:n,inheritedControlMap:i,inCodeOverride:a,isColumnMasonryLayout:c,kitSectionNodeId:e.kitSectionNodeId??l,inComponentSlot:e.inComponentSlot||J(t)&&t.codeComponentIdentifier!=="framer/Prototype"}}function Y0(e,t,o,r,n){let i=[],s=r.treeStore.tree.getPresetsListNode()?.getComponentPresets();if(Pe(e)&&q(e.htmlContent)&&s&&s.length>0){let m=r.imports.addImport(`../${nL}`,{exportSpecifier:"*",importBinding:"componentPresets"}),h={},C=e.getComponentPresets();for(let[T,N]of C)r.componentPresetIds.add(N),h[T]=p`${m}.props[${N}]`;i.push(T=>ut.tag(r.imports.addImport("framer",{exportSpecifier:"ComponentPresetsProvider"}),new Y({presets:h}),T))}J(e)&&Lr(e)&&(YA(e,r,i),i.push(m=>Or(XA(e,r,o,n),r,o.propsForContainer,m))),J(e)&&!e.isVectorInstance&&i.push(m=>Or(r.imports.addImport("framer",{exportSpecifier:"ComponentViewportProvider"}),r,o.propsForComponentViewport,m));let l=r.links.getUnresolvedLinksForNode(e);if(l){let{unresolvedLinks:m,binding:h}=l;if(oo(m)||Wv(m)){let C=r.imports.addImport("framer",{exportSpecifier:"ResolveLinks"}),T=new Y({links:m});i.push(N=>Or(C,r,{props:T},p`(${h}) => (${N})`))}}if(o.isAnyVariantALink&&i.push(m=>Or(r.imports.addImport("framer",{exportSpecifier:"Link"}),r,o.propsForLink,m)),Et(e)&&(ci(e)||on(e))&&tE(e,r,n,o,i),o.isAnyVariantATransitionOverride){let m=r.imports.addImport("framer-motion",{exportSpecifier:"MotionConfigContext"}),h=r.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),C=r.declarations.file.dedupe("Transition",new I(bt.lines(p`({value, children}) => {`,p`const config = ${h}.useContext(${m})`,p`const transition = value ?? config.transition`,p`const contextValue = ${h}.useMemo(() => ({ ...config, transition }), [JSON.stringify(transition)])`,p`return <${m}.Provider value={contextValue}>{children}</${m}.Provider>`,p`}`)));i.push(T=>Or(C,r,o.propsForTransition,T))}let c=r.overlays.bindingsByOverlayTriggerId.get(e.id);if(c&&c.size>0){i.push(P=>ut`<>${P}</>`);let m=p`visible`,h=p`setVisible`,C={visible:p`enabled && ${m}`,[or.Api.show]:p`() => ${I.fn(h,p`true`)}`,[or.Api.hide]:p`() => ${I.fn(h,p`false`)}`,[or.Api.toggle]:p`() => ${I.fn(h,p`!${m}`)}`},T=r.imports.addImport("framer",{exportSpecifier:"useOverlayState"}),N=r.declarations.file.dedupe("Overlay",new I(bt.lines(p`({ children, blockDocumentScrolling, dismissWithEsc, enabled = true }) => {`,p`const ${[m,h]} = ${I.fn(T,p`{ blockDocumentScrolling, dismissWithEsc: enabled && dismissWithEsc }`)}`,p`return children(${C})`,p`}`)));for(let[P,k]of c){let W=r.treeStore.tree.get(P);if(!W)continue;let M=r.overlayProps.get(P),H=r.renderConditions.get(P),X=et(W),K=new Y({enabled:No(H)?H:void 0,blockDocumentScrolling:X?M?.props?.blockDocumentScrolling:!1,dismissWithEsc:X?M?.props?.dismissWithEsc:!1});YA(W,r,i),i.push(oe=>Or(N,r,{props:K,overrides:X?M?.overrides:void 0},p`${k} => (${oe})`))}}let d=r.overlays.bindingsByOverlayId.get(e.id);if(d&&et(e)){let m=t?r.elementIds.id(t):p`undefined`;i.push(P=>ut.tag(r.imports.addImport("framer",{exportSpecifier:"InjectSelectionStyle"}),new Y({triggerId:m}),P));let h=r.imports.addImport("react-dom",{exportSpecifier:"*",importBinding:"ReactDOM"}),C=`#${_S}`,T=`#${HS}`,N=r.declarations.file.dedupe("getContainer",p`() => {${p.joinLines(p`return document.querySelector(${C}) ?? document.querySelector(${T}) ?? document.body`)}}`);i.push(P=>ut`<>{${h}.createPortal(${P}, ${I.fn(N)})}</>`)}t&&d&&lt(e)&&o.isAnyVariantFloating&&i.push(m=>Or(r.imports.addImport("framer",{exportSpecifier:"Floating"}),r,o.propsForFloating,m)),d&&ct(e)&&i.push(m=>ut.tag(r.imports.addImport("framer-motion",{exportSpecifier:"AnimatePresence"}),void 0,p`${d}.visible && (${m})`)),o.renderCondition!==!0&&i.push(m=>p`${o.renderCondition} && (${m})`);let u=r.fetches.getResultBinding(e);if(o.propsForFetcher&&u&&i.push(m=>Or(r.imports.addImport("framer",{exportSpecifier:"Fetcher"}),r,o.propsForFetcher,p`${u} => (${m})`)),o.isAnyVariantATickerItem&&i.push(m=>Or(r.imports.addImport("framer",{exportSpecifier:"TickerItem"}),r,o.propsForTickerItem??{},m)),Et(t)&&is(r.treeStore.tree,e)){let m=r.repeaterInfo.get(t.id);if(S(m,"jsxForNode: `repeaterInfo` must exist when transforming a repeated child."),xt(t)){let M=r.links.getPathVariablesForRepeaterInfo(m);M&&i.push(H=>ut.tag(r.imports.addImport("framer",{exportSpecifier:"PathVariablesContext.Provider"}),new Y({value:M}),H))}let h=r.bindings.createWithNode("index",t),{data:C,args:T,variableFallbackList:N,key:P}=qA(t,m.annotations,o,r,h),k=r.variables.getBinding(t.id,$N),W=k&&p`const ${k} = ${h} + 1`;i.push(M=>p`${C}?.map((${T}) => {${p.joinLines(...N,W,...r.declarations.forScope(t.id,"repeater-item").list(),p`return (${ut.tag(r.imports.addImport("framer-motion",{exportSpecifier:"LayoutGroup"}),new Y({key:P,id:it`${t.id}-${P}`}),M)})`)}})`)}return i}function eG(e,t,o){let n=Lr(e)?t.propsForContainer:t.propsForElement,i=o.overlays.bindingsByOverlayTriggerId.get(e.id);if(i&&i.size>0){let l=n.props;l||(l=new Y),l.id=l.id??o.elementIds.id(e)}let s=o.cssVariableDefinitions.getDefinitionsForNode(e)??{};if(!Bt(s)){let l=n.props;l||(l=new Y),l.style?Object.assign(l.style,s):l.style=s}}async function dm(e,t,o,r){try{if(an(e)){S(t&&o.layoutTemplateSlotBinding,"A SlotNode must be in a Layout Template and have a parent.");let l=ND(e,t,o);return ut`${p.joinLines(ut.children(o.layoutTemplateSlotBinding),ut.tag("div",new Y({className:l})))}`}await rG(e,o),o.metrics.count("nodes"),nG(e,o,r);let n=ID(e,t,o,r);if(et(e)&&o.overlayProps.set(e.id,n?.propsForOverlay),!n)return ut``;J(e)&&await X0(e,o,n.propsForElement,r);let i=Z0(e,o,n.propsForElement),a=q0(r,e,o,n);for(let l of iG(e,o)){if(ct(l)&&vf(o,l))continue;let c=await dm(l,e,o,a);c&&(i+=ge(ut.children(c)))}eG(e,n,o);let s=await sG(e,o,r,a,n,ut.fromTrustedString(i));return ut.applyTransforms(s,Y0(e,t,n,o,r))}catch(n){return J0.reportError(n,{node:e.id,primaryVariant:o.rootId}),o.errors.record(e,n),ut``}}async function eE(e,t,o,r,n=`framer-${Xp(5)}`,i=!1){let{combinedVariableControlMap:a}=t.combineVariableControlMap(o.treeStore.tree,void 0,void 0,o.componentLoader,o.componentLoader.activeBundleHash),s={inheritedControlMap:a},l=$A(e,t,o,r,n,i);return{ctx:l,jsx:await dm(e,null,l,s)}}async function cm(e,t,{componentLoader:o,modulesStore:r,errors:n,treeStore:i,rootId:a}){let s=i.tree.get(a),l=i.tree.getScopeNodeFor(s);if(IT(i.tree,l,e))return;for(let d of t)if(fo(d)&&d.type==="codeFile"){let m=o.componentForIdentifier(d.value),h=o.errorForIdentifier(d.value);m?h&&n.record(e,"CodeError",d.value):n.record(e,"MissingModule",d.value);return}let c=tG(t);c.length>0&&await r.preloadExternalModules(c),await iu(o,t.map(d=>d.value),r)}function tG(e){let t=[];for(let o of e)Tr(o)&&t.push(o);return t}function oG(e,t){if(!rt(e.codeComponentIdentifier))return;let o=new Set([e.codeComponentIdentifier]);for(let r of t.variants){let n=ma(r,e.id,t.treeStore.tree);n&&(S(J(n),"Expected a CodeComponentNode in the variant",n?.id),rt(n.codeComponentIdentifier)&&o.add(n.codeComponentIdentifier))}return o}async function rG(e,t){if(J(e)){if(e.codeComponentIdentifier==="framer/Prototype"){let n=yp(e,t.componentLoader);if(!n)return;await cm(e,[Wi("prototype",n,"default")],t)}let o=oG(e,t);if(!o)return;let r=[];for(let n of o)r.push(he(n));await cm(e,r,t)}if(CT(e)){if(!rt(e.codeOverrideIdentifier))return;await cm(e,[he(e.codeOverrideIdentifier)],t)}xt(e)&&await cm(e,[he(e.dataIdentifier)],t)}function nG(e,t,o){Dd(t.treeStore.tree,e)&&(S(e.id!==t.scopeId,"Expected the node not to be the scope node"),t.preload.addChildComponent(e.codeComponentIdentifier,{},e.id,o.lastRepeaterId))}function iG(e,t){return!mt(e)||$e(e)||Pe(e)?Yn():J(e)&&e.codeComponentIdentifier!=="framer/Prototype"?iP(t.treeStore.tree,e,t.componentLoader).map(o=>o.node):e.children}function tE(e,t,o,r,n){let i;br(e)?i=t.bindings.createWithNode("collection",e):Xc(e)?i=t.variables.create({id:e.dataRepeaterArray.id,providerId:e.dataRepeaterArray.providerId}):G(e,"Do not know how to transform repeater type");let a=t.variables.getBinding(e.id,GN),s=a&&p`const ${a} = ${i}?.length ?? 0`;if(xt(e)){let l=t.variables.getBindings(e.id),c=new Set(l.keys()),d=_A(e,t,o,r,c);if(d){let u=t.declarations.file.dedupe("QueryData",jA(e,t)),m=i,h=t.bindings.createWithNode("paginationInfo",e),C=t.bindings.createWithNode("loadMore",e);n.push(T=>ut.tag(t.imports.addImport("framer",{exportSpecifier:"ChildrenCanSuspend"}),void 0,Or(u,t,d,p`(${m}, ${h}, ${C}) => {${p.joinLines(s,...t.declarations.forScope(e.id,"repeater").list(),ut`return <>${T}</>`)}}`)));return}}if(s){let l=HA(e,t.treeStore.tree,t.declarations);l.create(s),t.declarations.forScope(e.id,"repeater").hoistTo(l)}}function aG(e,t,o,r){let n=[];return er(e)&&n.push(i=>p`(${Bg}) => (<>${i}</>)`),Et(e)&&!ci(e)&&!on(e)&&tE(e,t,o,r,n),n}async function sG(e,t,o,r,n,i){let a=Or(QA(e,t,o,n),t,et(e)?void 0:n.propsForElement,ut.applyTransforms(i,aG(e,t,o,n)));if((J(e)||Pe(e))&&zT(e,"framer/useShowRelativeOverlay")){let s=ge(a);for(let l of e.children){if(!ct(l)||vf(t,l))continue;let c=await dm(l,e,t,r);c&&(s+=ge(ut.children(c)))}return ut.fromTrustedString(s)}return a}function Or(e,t,o,r){if(!o)return ut.tag(e,void 0,r);let{props:n=new Y,overrides:i}=o,a=[];if(i)switch(t.scopeType){case"SmartComponent":Y.addSpreadAtEnd(n,I.fn(p`addPropertyOverrides`,i,p`baseVariant`,p`gestureVariant`));break;case"WebPage":case"LayoutTemplate":a.push(s=>ut.tag(t.imports.addImport("framer",{exportSpecifier:"PropertyOverrides"}),new Y({breakpoint:p`baseVariant`,overrides:i}),s));break;default:break}return ut.applyTransforms(ut.tag(e,n,r),a)}function YA(e,t,o){let r=[];for(let{triggerId:n,targetId:i,binding:a,overlayBinding:s}of t.triggerActions.triggerActionByNode.get(e.id)??[])r.push(ut.tag(t.imports.addImport("framer",{exportSpecifier:"TriggerSubscription"}),new Y({triggerId:n,targetId:i,trigger:a,callback:s?p`() => {${s}.show()}`:void 0,triggeredExternally:s?p`${s}.visible`:void 0})));r.length>0&&o.push(n=>p`<>${p.joinLines(...r)}${n}</>`)}var wa={};zm(wa,{$brand:()=>hh,$input:()=>lk,$output:()=>sk,NEVER:()=>kP,TimePrecision:()=>uk,ZodAny:()=>dE,ZodArray:()=>fE,ZodBase64:()=>Zy,ZodBase64URL:()=>Qy,ZodBigInt:()=>Ic,ZodBigIntFormat:()=>Yy,ZodBoolean:()=>bc,ZodCIDRv4:()=>Jy,ZodCIDRv6:()=>Xy,ZodCUID:()=>By,ZodCUID2:()=>$y,ZodCatch:()=>FE,ZodCodec:()=>cC,ZodCustom:()=>Nm,ZodCustomStringFormat:()=>vc,ZodDate:()=>Tm,ZodDefault:()=>VE,ZodDiscriminatedUnion:()=>hE,ZodE164:()=>Ky,ZodEmail:()=>Oy,ZodEmoji:()=>Wy,ZodEnum:()=>Cc,ZodError:()=>cG,ZodFile:()=>NE,ZodFirstPartyTypeKind:()=>dC,ZodFunction:()=>GE,ZodGUID:()=>gm,ZodIPv4:()=>jy,ZodIPv6:()=>Uy,ZodISODate:()=>um,ZodISODateTime:()=>pm,ZodISODuration:()=>fm,ZodISOTime:()=>mm,ZodIntersection:()=>gE,ZodIssueCode:()=>vH,ZodJWT:()=>qy,ZodKSUID:()=>_y,ZodLazy:()=>zE,ZodLiteral:()=>IE,ZodMap:()=>TE,ZodNaN:()=>EE,ZodNanoID:()=>zy,ZodNever:()=>uE,ZodNonOptional:()=>sC,ZodNull:()=>lE,ZodNullable:()=>PE,ZodNumber:()=>Tc,ZodNumberFormat:()=>Bs,ZodObject:()=>Im,ZodOptional:()=>aC,ZodPipe:()=>lC,ZodPrefault:()=>RE,ZodPromise:()=>$E,ZodReadonly:()=>ME,ZodRealError:()=>ar,ZodRecord:()=>rC,ZodSet:()=>bE,ZodString:()=>Sc,ZodStringFormat:()=>Pt,ZodSuccess:()=>DE,ZodSymbol:()=>aE,ZodTemplateLiteral:()=>WE,ZodTransform:()=>xE,ZodTuple:()=>CE,ZodType:()=>Oe,ZodULID:()=>Gy,ZodURL:()=>vm,ZodUUID:()=>Zn,ZodUndefined:()=>sE,ZodUnion:()=>tC,ZodUnknown:()=>pE,ZodVoid:()=>mE,ZodXID:()=>Hy,_ZodString:()=>My,_default:()=>kE,_function:()=>mH,any:()=>JG,array:()=>bm,base64:()=>wG,base64url:()=>LG,bigint:()=>GG,boolean:()=>iE,catch:()=>AE,check:()=>fH,cidrv4:()=>kG,cidrv6:()=>RG,clone:()=>Ol,codec:()=>dH,coerce:()=>pC,config:()=>bi,core:()=>Ii,cuid:()=>TG,cuid2:()=>bG,custom:()=>hH,date:()=>ZG,decode:()=>Vy,decodeAsync:()=>Ry,discriminatedUnion:()=>eH,e164:()=>DG,email:()=>pG,emoji:()=>SG,encode:()=>Py,encodeAsync:()=>ky,endsWith:()=>Dp,enum:()=>nC,file:()=>aH,flattenError:()=>bp,float32:()=>WG,float64:()=>zG,formatError:()=>Ip,function:()=>mH,getErrorMap:()=>bH,globalRegistry:()=>aa,gt:()=>la,gte:()=>Rr,guid:()=>uG,hash:()=>OG,hex:()=>MG,hostname:()=>EG,httpUrl:()=>CG,includes:()=>wp,instanceof:()=>gH,int:()=>Ey,int32:()=>BG,int64:()=>HG,intersection:()=>yE,ipv4:()=>PG,ipv6:()=>VG,iso:()=>hm,json:()=>CH,jwt:()=>FG,keyof:()=>QG,ksuid:()=>xG,lazy:()=>BE,length:()=>Bl,literal:()=>iH,locales:()=>ak,looseObject:()=>YG,lowercase:()=>kp,lt:()=>sa,lte:()=>Cn,map:()=>oH,maxLength:()=>zl,maxSize:()=>Wl,mime:()=>Fp,minLength:()=>ca,minSize:()=>Cs,multipleOf:()=>ys,nan:()=>cH,nanoid:()=>vG,nativeEnum:()=>nH,negative:()=>$k,never:()=>eC,nonnegative:()=>Hk,nonoptional:()=>LE,nonpositive:()=>Gk,normalize:()=>Ep,null:()=>cE,nullable:()=>Cm,nullish:()=>sH,number:()=>nE,object:()=>KG,optional:()=>ym,overwrite:()=>Ap,parse:()=>by,parseAsync:()=>Iy,partialRecord:()=>tH,pipe:()=>Sm,positive:()=>Bk,prefault:()=>wE,preprocess:()=>SH,prettifyError:()=>DP,promise:()=>uH,property:()=>_k,readonly:()=>OE,record:()=>vE,refine:()=>HE,regex:()=>Vp,regexes:()=>ia,registry:()=>ck,safeDecode:()=>Ly,safeDecodeAsync:()=>Fy,safeEncode:()=>wy,safeEncodeAsync:()=>Dy,safeParse:()=>Ny,safeParseAsync:()=>xy,set:()=>rH,setErrorMap:()=>TH,size:()=>Pp,startsWith:()=>Lp,strictObject:()=>qG,string:()=>Ay,stringFormat:()=>AG,stringbool:()=>yH,success:()=>lH,superRefine:()=>_E,symbol:()=>jG,templateLiteral:()=>pH,toJSONSchema:()=>Kk,toLowerCase:()=>Op,toUpperCase:()=>Wp,transform:()=>iC,treeifyError:()=>LP,trim:()=>Mp,tuple:()=>SE,uint32:()=>$G,uint64:()=>_G,ulid:()=>IG,undefined:()=>UG,union:()=>oC,unknown:()=>zs,uppercase:()=>Rp,url:()=>yG,util:()=>je,uuid:()=>mG,uuidv4:()=>fG,uuidv6:()=>hG,uuidv7:()=>gG,void:()=>XG,xid:()=>NG});var hm={};zm(hm,{ZodISODate:()=>um,ZodISODateTime:()=>pm,ZodISODuration:()=>fm,ZodISOTime:()=>mm,date:()=>Sy,datetime:()=>Cy,duration:()=>Ty,time:()=>vy});var pm=ee("ZodISODateTime",(e,t)=>{nV.init(e,t),Pt.init(e,t)});function Cy(e){return mk(pm,e)}var um=ee("ZodISODate",(e,t)=>{iV.init(e,t),Pt.init(e,t)});function Sy(e){return fk(um,e)}var mm=ee("ZodISOTime",(e,t)=>{aV.init(e,t),Pt.init(e,t)});function vy(e){return hk(mm,e)}var fm=ee("ZodISODuration",(e,t)=>{sV.init(e,t),Pt.init(e,t)});function Ty(e){return gk(fm,e)}var rE=(e,t)=>{wP.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:o=>Ip(e,o)},flatten:{value:o=>bp(e,o)},addIssue:{value:o=>{e.issues.push(o),e.message=JSON.stringify(e.issues,gh,2)}},addIssues:{value:o=>{e.issues.push(...o),e.message=JSON.stringify(e.issues,gh,2)}},isEmpty:{get(){return e.issues.length===0}}})},cG=ee("ZodError",rE),ar=ee("ZodError",rE,{Parent:Error});var by=FP(ar),Iy=AP(ar),Ny=EP(ar),xy=MP(ar),Py=OP(ar),Vy=WP(ar),ky=zP(ar),Ry=BP(ar),wy=$P(ar),Ly=GP(ar),Dy=HP(ar),Fy=_P(ar);var Oe=ee("ZodType",(e,t)=>(yh.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...o)=>e.clone(je.mergeDefs(t,{checks:[...t.checks??[],...o.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(o,r)=>Ol(e,o,r),e.brand=()=>e,e.register=(o,r)=>(o.add(e,r),e),e.parse=(o,r)=>by(e,o,r,{callee:e.parse}),e.safeParse=(o,r)=>Ny(e,o,r),e.parseAsync=async(o,r)=>Iy(e,o,r,{callee:e.parseAsync}),e.safeParseAsync=async(o,r)=>xy(e,o,r),e.spa=e.safeParseAsync,e.encode=(o,r)=>Py(e,o,r),e.decode=(o,r)=>Vy(e,o,r),e.encodeAsync=async(o,r)=>ky(e,o,r),e.decodeAsync=async(o,r)=>Ry(e,o,r),e.safeEncode=(o,r)=>wy(e,o,r),e.safeDecode=(o,r)=>Ly(e,o,r),e.safeEncodeAsync=async(o,r)=>Dy(e,o,r),e.safeDecodeAsync=async(o,r)=>Fy(e,o,r),e.refine=(o,r)=>e.check(HE(o,r)),e.superRefine=o=>e.check(_E(o)),e.overwrite=o=>e.check(Ap(o)),e.optional=()=>ym(e),e.nullable=()=>Cm(e),e.nullish=()=>ym(Cm(e)),e.nonoptional=o=>LE(e,o),e.array=()=>bm(e),e.or=o=>oC([e,o]),e.and=o=>yE(e,o),e.transform=o=>Sm(e,iC(o)),e.default=o=>kE(e,o),e.prefault=o=>wE(e,o),e.catch=o=>AE(e,o),e.pipe=o=>Sm(e,o),e.readonly=()=>OE(e),e.describe=o=>{let r=e.clone();return aa.add(r,{description:o}),r},Object.defineProperty(e,"description",{get(){return aa.get(e)?.description},configurable:!0}),e.meta=(...o)=>{if(o.length===0)return aa.get(e);let r=e.clone();return aa.add(r,o[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),My=ee("_ZodString",(e,t)=>{Ch.init(e,t),Oe.init(e,t);let o=e._zod.bag;e.format=o.format??null,e.minLength=o.minimum??null,e.maxLength=o.maximum??null,e.regex=(...r)=>e.check(Vp(...r)),e.includes=(...r)=>e.check(wp(...r)),e.startsWith=(...r)=>e.check(Lp(...r)),e.endsWith=(...r)=>e.check(Dp(...r)),e.min=(...r)=>e.check(ca(...r)),e.max=(...r)=>e.check(zl(...r)),e.length=(...r)=>e.check(Bl(...r)),e.nonempty=(...r)=>e.check(ca(1,...r)),e.lowercase=r=>e.check(kp(r)),e.uppercase=r=>e.check(Rp(r)),e.trim=()=>e.check(Mp()),e.normalize=(...r)=>e.check(Ep(...r)),e.toLowerCase=()=>e.check(Op()),e.toUpperCase=()=>e.check(Wp())}),Sc=ee("ZodString",(e,t)=>{Ch.init(e,t),My.init(e,t),e.email=o=>e.check(Sh(Oy,o)),e.url=o=>e.check(xp(vm,o)),e.jwt=o=>e.check(Wh(qy,o)),e.emoji=o=>e.check(Nh(Wy,o)),e.guid=o=>e.check(Np(gm,o)),e.uuid=o=>e.check(vh(Zn,o)),e.uuidv4=o=>e.check(Th(Zn,o)),e.uuidv6=o=>e.check(bh(Zn,o)),e.uuidv7=o=>e.check(Ih(Zn,o)),e.nanoid=o=>e.check(xh(zy,o)),e.guid=o=>e.check(Np(gm,o)),e.cuid=o=>e.check(Ph(By,o)),e.cuid2=o=>e.check(Vh($y,o)),e.ulid=o=>e.check(kh(Gy,o)),e.base64=o=>e.check(Eh(Zy,o)),e.base64url=o=>e.check(Mh(Qy,o)),e.xid=o=>e.check(Rh(Hy,o)),e.ksuid=o=>e.check(wh(_y,o)),e.ipv4=o=>e.check(Lh(jy,o)),e.ipv6=o=>e.check(Dh(Uy,o)),e.cidrv4=o=>e.check(Fh(Jy,o)),e.cidrv6=o=>e.check(Ah(Xy,o)),e.e164=o=>e.check(Oh(Ky,o)),e.datetime=o=>e.check(Cy(o)),e.date=o=>e.check(Sy(o)),e.time=o=>e.check(vy(o)),e.duration=o=>e.check(Ty(o))});function Ay(e){return dk(Sc,e)}var Pt=ee("ZodStringFormat",(e,t)=>{UP.init(e,t),My.init(e,t)}),Oy=ee("ZodEmail",(e,t)=>{ZP.init(e,t),Pt.init(e,t)});function pG(e){return Sh(Oy,e)}var gm=ee("ZodGUID",(e,t)=>{JP.init(e,t),Pt.init(e,t)});function uG(e){return Np(gm,e)}var Zn=ee("ZodUUID",(e,t)=>{XP.init(e,t),Pt.init(e,t)});function mG(e){return vh(Zn,e)}function fG(e){return Th(Zn,e)}function hG(e){return bh(Zn,e)}function gG(e){return Ih(Zn,e)}var vm=ee("ZodURL",(e,t)=>{QP.init(e,t),Pt.init(e,t)});function yG(e){return xp(vm,e)}function CG(e){return xp(vm,{protocol:/^https?$/,hostname:ia.domain,...je.normalizeParams(e)})}var Wy=ee("ZodEmoji",(e,t)=>{KP.init(e,t),Pt.init(e,t)});function SG(e){return Nh(Wy,e)}var zy=ee("ZodNanoID",(e,t)=>{qP.init(e,t),Pt.init(e,t)});function vG(e){return xh(zy,e)}var By=ee("ZodCUID",(e,t)=>{YP.init(e,t),Pt.init(e,t)});function TG(e){return Ph(By,e)}var $y=ee("ZodCUID2",(e,t)=>{eV.init(e,t),Pt.init(e,t)});function bG(e){return Vh($y,e)}var Gy=ee("ZodULID",(e,t)=>{tV.init(e,t),Pt.init(e,t)});function IG(e){return kh(Gy,e)}var Hy=ee("ZodXID",(e,t)=>{oV.init(e,t),Pt.init(e,t)});function NG(e){return Rh(Hy,e)}var _y=ee("ZodKSUID",(e,t)=>{rV.init(e,t),Pt.init(e,t)});function xG(e){return wh(_y,e)}var jy=ee("ZodIPv4",(e,t)=>{lV.init(e,t),Pt.init(e,t)});function PG(e){return Lh(jy,e)}var Uy=ee("ZodIPv6",(e,t)=>{cV.init(e,t),Pt.init(e,t)});function VG(e){return Dh(Uy,e)}var Jy=ee("ZodCIDRv4",(e,t)=>{dV.init(e,t),Pt.init(e,t)});function kG(e){return Fh(Jy,e)}var Xy=ee("ZodCIDRv6",(e,t)=>{pV.init(e,t),Pt.init(e,t)});function RG(e){return Ah(Xy,e)}var Zy=ee("ZodBase64",(e,t)=>{uV.init(e,t),Pt.init(e,t)});function wG(e){return Eh(Zy,e)}var Qy=ee("ZodBase64URL",(e,t)=>{mV.init(e,t),Pt.init(e,t)});function LG(e){return Mh(Qy,e)}var Ky=ee("ZodE164",(e,t)=>{fV.init(e,t),Pt.init(e,t)});function DG(e){return Oh(Ky,e)}var qy=ee("ZodJWT",(e,t)=>{hV.init(e,t),Pt.init(e,t)});function FG(e){return Wh(qy,e)}var vc=ee("ZodCustomStringFormat",(e,t)=>{gV.init(e,t),Pt.init(e,t)});function AG(e,t,o={}){return $l(vc,e,t,o)}function EG(e){return $l(vc,"hostname",ia.hostname,e)}function MG(e){return $l(vc,"hex",ia.hex,e)}function OG(e,t){let o=t?.enc??"hex",r=`${e}_${o}`,n=ia[r];if(!n)throw new Error(`Unrecognized hash format: ${r}`);return $l(vc,r,n,t)}var Tc=ee("ZodNumber",(e,t)=>{yV.init(e,t),Oe.init(e,t),e.gt=(r,n)=>e.check(la(r,n)),e.gte=(r,n)=>e.check(Rr(r,n)),e.min=(r,n)=>e.check(Rr(r,n)),e.lt=(r,n)=>e.check(sa(r,n)),e.lte=(r,n)=>e.check(Cn(r,n)),e.max=(r,n)=>e.check(Cn(r,n)),e.int=r=>e.check(Ey(r)),e.safe=r=>e.check(Ey(r)),e.positive=r=>e.check(la(0,r)),e.nonnegative=r=>e.check(Rr(0,r)),e.negative=r=>e.check(sa(0,r)),e.nonpositive=r=>e.check(Cn(0,r)),e.multipleOf=(r,n)=>e.check(ys(r,n)),e.step=(r,n)=>e.check(ys(r,n)),e.finite=()=>e;let o=e._zod.bag;e.minValue=Math.max(o.minimum??Number.NEGATIVE_INFINITY,o.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(o.maximum??Number.POSITIVE_INFINITY,o.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(o.format??"").includes("int")||Number.isSafeInteger(o.multipleOf??.5),e.isFinite=!0,e.format=o.format??null});function nE(e){return yk(Tc,e)}var Bs=ee("ZodNumberFormat",(e,t)=>{CV.init(e,t),Tc.init(e,t)});function Ey(e){return Sk(Bs,e)}function WG(e){return vk(Bs,e)}function zG(e){return Tk(Bs,e)}function BG(e){return bk(Bs,e)}function $G(e){return Ik(Bs,e)}var bc=ee("ZodBoolean",(e,t)=>{SV.init(e,t),Oe.init(e,t)});function iE(e){return Nk(bc,e)}var Ic=ee("ZodBigInt",(e,t)=>{vV.init(e,t),Oe.init(e,t),e.gte=(r,n)=>e.check(Rr(r,n)),e.min=(r,n)=>e.check(Rr(r,n)),e.gt=(r,n)=>e.check(la(r,n)),e.gte=(r,n)=>e.check(Rr(r,n)),e.min=(r,n)=>e.check(Rr(r,n)),e.lt=(r,n)=>e.check(sa(r,n)),e.lte=(r,n)=>e.check(Cn(r,n)),e.max=(r,n)=>e.check(Cn(r,n)),e.positive=r=>e.check(la(BigInt(0),r)),e.negative=r=>e.check(sa(BigInt(0),r)),e.nonpositive=r=>e.check(Cn(BigInt(0),r)),e.nonnegative=r=>e.check(Rr(BigInt(0),r)),e.multipleOf=(r,n)=>e.check(ys(r,n));let o=e._zod.bag;e.minValue=o.minimum??null,e.maxValue=o.maximum??null,e.format=o.format??null});function GG(e){return Pk(Ic,e)}var Yy=ee("ZodBigIntFormat",(e,t)=>{TV.init(e,t),Ic.init(e,t)});function HG(e){return kk(Yy,e)}function _G(e){return Rk(Yy,e)}var aE=ee("ZodSymbol",(e,t)=>{bV.init(e,t),Oe.init(e,t)});function jG(e){return wk(aE,e)}var sE=ee("ZodUndefined",(e,t)=>{IV.init(e,t),Oe.init(e,t)});function UG(e){return Lk(sE,e)}var lE=ee("ZodNull",(e,t)=>{NV.init(e,t),Oe.init(e,t)});function cE(e){return Dk(lE,e)}var dE=ee("ZodAny",(e,t)=>{xV.init(e,t),Oe.init(e,t)});function JG(){return Fk(dE)}var pE=ee("ZodUnknown",(e,t)=>{PV.init(e,t),Oe.init(e,t)});function zs(){return Ak(pE)}var uE=ee("ZodNever",(e,t)=>{VV.init(e,t),Oe.init(e,t)});function eC(e){return Ek(uE,e)}var mE=ee("ZodVoid",(e,t)=>{kV.init(e,t),Oe.init(e,t)});function XG(e){return Mk(mE,e)}var Tm=ee("ZodDate",(e,t)=>{RV.init(e,t),Oe.init(e,t),e.min=(r,n)=>e.check(Rr(r,n)),e.max=(r,n)=>e.check(Cn(r,n));let o=e._zod.bag;e.minDate=o.minimum?new Date(o.minimum):null,e.maxDate=o.maximum?new Date(o.maximum):null});function ZG(e){return Ok(Tm,e)}var fE=ee("ZodArray",(e,t)=>{wV.init(e,t),Oe.init(e,t),e.element=t.element,e.min=(o,r)=>e.check(ca(o,r)),e.nonempty=o=>e.check(ca(1,o)),e.max=(o,r)=>e.check(zl(o,r)),e.length=(o,r)=>e.check(Bl(o,r)),e.unwrap=()=>e.element});function bm(e,t){return jk(fE,e,t)}function QG(e){let t=e._zod.def.shape;return nC(Object.keys(t))}var Im=ee("ZodObject",(e,t)=>{LV.init(e,t),Oe.init(e,t),je.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>nC(Object.keys(e._zod.def.shape)),e.catchall=o=>e.clone({...e._zod.def,catchall:o}),e.passthrough=()=>e.clone({...e._zod.def,catchall:zs()}),e.loose=()=>e.clone({...e._zod.def,catchall:zs()}),e.strict=()=>e.clone({...e._zod.def,catchall:eC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=o=>je.extend(e,o),e.safeExtend=o=>je.safeExtend(e,o),e.merge=o=>je.merge(e,o),e.pick=o=>je.pick(e,o),e.omit=o=>je.omit(e,o),e.partial=(...o)=>je.partial(aC,e,o[0]),e.required=(...o)=>je.required(sC,e,o[0])});function KG(e,t){let o={type:"object",shape:e??{},...je.normalizeParams(t)};return new Im(o)}function qG(e,t){return new Im({type:"object",shape:e,catchall:eC(),...je.normalizeParams(t)})}function YG(e,t){return new Im({type:"object",shape:e,catchall:zs(),...je.normalizeParams(t)})}var tC=ee("ZodUnion",(e,t)=>{DV.init(e,t),Oe.init(e,t),e.options=t.options});function oC(e,t){return new tC({type:"union",options:e,...je.normalizeParams(t)})}var hE=ee("ZodDiscriminatedUnion",(e,t)=>{tC.init(e,t),FV.init(e,t)});function eH(e,t,o){return new hE({type:"union",options:t,discriminator:e,...je.normalizeParams(o)})}var gE=ee("ZodIntersection",(e,t)=>{AV.init(e,t),Oe.init(e,t)});function yE(e,t){return new gE({type:"intersection",left:e,right:t})}var CE=ee("ZodTuple",(e,t)=>{EV.init(e,t),Oe.init(e,t),e.rest=o=>e.clone({...e._zod.def,rest:o})});function SE(e,t,o){let r=t instanceof yh,n=r?o:t,i=r?t:null;return new CE({type:"tuple",items:e,rest:i,...je.normalizeParams(n)})}var rC=ee("ZodRecord",(e,t)=>{MV.init(e,t),Oe.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function vE(e,t,o){return new rC({type:"record",keyType:e,valueType:t,...je.normalizeParams(o)})}function tH(e,t,o){let r=Ol(e);return r._zod.values=void 0,new rC({type:"record",keyType:r,valueType:t,...je.normalizeParams(o)})}var TE=ee("ZodMap",(e,t)=>{OV.init(e,t),Oe.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function oH(e,t,o){return new TE({type:"map",keyType:e,valueType:t,...je.normalizeParams(o)})}var bE=ee("ZodSet",(e,t)=>{WV.init(e,t),Oe.init(e,t),e.min=(...o)=>e.check(Cs(...o)),e.nonempty=o=>e.check(Cs(1,o)),e.max=(...o)=>e.check(Wl(...o)),e.size=(...o)=>e.check(Pp(...o))});function rH(e,t){return new bE({type:"set",valueType:e,...je.normalizeParams(t)})}var Cc=ee("ZodEnum",(e,t)=>{zV.init(e,t),Oe.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let o=new Set(Object.keys(t.entries));e.extract=(r,n)=>{let i={};for(let a of r)if(o.has(a))i[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Cc({...t,checks:[],...je.normalizeParams(n),entries:i})},e.exclude=(r,n)=>{let i={...t.entries};for(let a of r)if(o.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new Cc({...t,checks:[],...je.normalizeParams(n),entries:i})}});function nC(e,t){let o=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Cc({type:"enum",entries:o,...je.normalizeParams(t)})}function nH(e,t){return new Cc({type:"enum",entries:e,...je.normalizeParams(t)})}var IE=ee("ZodLiteral",(e,t)=>{BV.init(e,t),Oe.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function iH(e,t){return new IE({type:"literal",values:Array.isArray(e)?e:[e],...je.normalizeParams(t)})}var NE=ee("ZodFile",(e,t)=>{$V.init(e,t),Oe.init(e,t),e.min=(o,r)=>e.check(Cs(o,r)),e.max=(o,r)=>e.check(Wl(o,r)),e.mime=(o,r)=>e.check(Fp(Array.isArray(o)?o:[o],r))});function aH(e){return Uk(NE,e)}var xE=ee("ZodTransform",(e,t)=>{GV.init(e,t),Oe.init(e,t),e._zod.parse=(o,r)=>{if(r.direction==="backward")throw new RP(e.constructor.name);o.addIssue=i=>{if(typeof i=="string")o.issues.push(je.issue(i,o.value,t));else{let a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=o.value),a.inst??(a.inst=e),o.issues.push(je.issue(a))}};let n=t.transform(o.value,o);return n instanceof Promise?n.then(i=>(o.value=i,o)):(o.value=n,o)}});function iC(e){return new xE({type:"transform",transform:e})}var aC=ee("ZodOptional",(e,t)=>{HV.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ym(e){return new aC({type:"optional",innerType:e})}var PE=ee("ZodNullable",(e,t)=>{_V.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Cm(e){return new PE({type:"nullable",innerType:e})}function sH(e){return ym(Cm(e))}var VE=ee("ZodDefault",(e,t)=>{jV.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function kE(e,t){return new VE({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():je.shallowClone(t)}})}var RE=ee("ZodPrefault",(e,t)=>{UV.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wE(e,t){return new RE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():je.shallowClone(t)}})}var sC=ee("ZodNonOptional",(e,t)=>{JV.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function LE(e,t){return new sC({type:"nonoptional",innerType:e,...je.normalizeParams(t)})}var DE=ee("ZodSuccess",(e,t)=>{XV.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lH(e){return new DE({type:"success",innerType:e})}var FE=ee("ZodCatch",(e,t)=>{ZV.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function AE(e,t){return new FE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}var EE=ee("ZodNaN",(e,t)=>{QV.init(e,t),Oe.init(e,t)});function cH(e){return zk(EE,e)}var lC=ee("ZodPipe",(e,t)=>{KV.init(e,t),Oe.init(e,t),e.in=t.in,e.out=t.out});function Sm(e,t){return new lC({type:"pipe",in:e,out:t})}var cC=ee("ZodCodec",(e,t)=>{lC.init(e,t),qV.init(e,t)});function dH(e,t,o){return new cC({type:"pipe",in:e,out:t,transform:o.decode,reverseTransform:o.encode})}var ME=ee("ZodReadonly",(e,t)=>{YV.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function OE(e){return new ME({type:"readonly",innerType:e})}var WE=ee("ZodTemplateLiteral",(e,t)=>{ek.init(e,t),Oe.init(e,t)});function pH(e,t){return new WE({type:"template_literal",parts:e,...je.normalizeParams(t)})}var zE=ee("ZodLazy",(e,t)=>{rk.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.getter()});function BE(e){return new zE({type:"lazy",getter:e})}var $E=ee("ZodPromise",(e,t)=>{ok.init(e,t),Oe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function uH(e){return new $E({type:"promise",innerType:e})}var GE=ee("ZodFunction",(e,t)=>{tk.init(e,t),Oe.init(e,t)});function mH(e){return new GE({type:"function",input:Array.isArray(e?.input)?SE(e?.input):e?.input??bm(zs()),output:e?.output??zs()})}var Nm=ee("ZodCustom",(e,t)=>{nk.init(e,t),Oe.init(e,t)});function fH(e){let t=new jP({check:"custom"});return t._zod.check=e,t}function hH(e,t){return Jk(Nm,e??(()=>!0),t)}function HE(e,t={}){return Xk(Nm,e,t)}function _E(e){return Zk(e)}function gH(e,t={error:`Input not instance of ${e.name}`}){let o=new Nm({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...je.normalizeParams(t)});return o._zod.bag.Class=e,o}var yH=(...e)=>Qk({Codec:cC,Boolean:bc,String:Sc},...e);function CH(e){let t=BE(()=>oC([Ay(e),nE(),iE(),cE(),bm(t),vE(Ay(),t)]));return t}function SH(e,t){return Sm(iC(e),t)}var vH={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function TH(e){bi({customError:e})}function bH(){return bi().customError}var dC;dC||(dC={});var pC={};zm(pC,{bigint:()=>PH,boolean:()=>xH,date:()=>VH,number:()=>NH,string:()=>IH});function IH(e){return pk(Sc,e)}function NH(e){return Ck(Tc,e)}function xH(e){return xk(bc,e)}function PH(e){return Vk(Ic,e)}function VH(e){return Wk(Tm,e)}bi(ik());var Axe=wa;var kH=Je("renameLayers"),RH=`Propose names for the elements in provided React JSX fragment of a web site.

**Naming Rules:**
1. Never use an ancestor's name in a descendant's name. A descendant's name must never repeat any part of its ancestors name.
    - INCORRECT: "Pricing Plans", "Pricing Plans Icon", "Pricing Plans Title"
    - CORRECT: "Pricing Plans", "Icon", "Title"
2. Evaluate the entire fragment, paying special attention to the text in the children of RichText components, to determine the theme of the content, e.g. "Savings Goals" or "Pricing Plans", and use this to inform the individual names.
3. When an element is a layout wrapper (e.g., flex, grid), describe its function or structure. Use this to replace generic wrappers like 'Body,' 'Content,' or 'Group.' (Example: '2x2 Grid,' 'Info Stack,' 'Action Bar'). (Never: 'Icon Flex,' 'Details Group').
4. Titles should be short. Aim for 1 word (80%). Use 2-3 words only when necessary (20%).
5. All names must use Title Case, including spaces.
6. Ignore "*-container" suffixes.
7. Ignore the attribute value of data-framer-name="*".

**Response Format:**
- Respond with a single line of text.
- Do not include any other text, explanation, or preamble.
- The line must be a list of "class-name Proposed Name" pairs separated by semicolons.
- The class name must be the class name of the JSX element.

**Example Output:**
framer-asifd Title; framer-adfda Content; framer-fdsafd Footer; framer-aht4dq Submit Button;
`,wH=";",LH=wa.object({className:wa.string(),name:wa.string()});function DH(e){let t=e.trim();S(t.length>0,"Trimmed result is empty");let[o,...r]=t.split(" ");return LH.parse({className:o,name:r.join(" ")})}function FH(e){return Ct(e)||z(e)||Ye(e)||ue(e)||Be(e)}async function jE(e,t){let o=performance.now(),r=0,n=e.stores.scopeStore.active;if(FH(n))try{e.scheduler.process(()=>e.beginUndoGroup());for(let i of e.tree.withoutDescendants(t)){let{jsx:a,ctx:s}=await eE(i,n,{componentLoader:e.componentLoader,modulesStore:e.stores.modulesStore,treeStore:e.stores.treeStore,engineChanges:e.scheduler.changes,assetMap:e.stores.assetStore.assetMap},void 0,"",!0);if(!a)continue;let l=new mu(wH,DH,c=>{e.scheduler.processWhenReadyAsync(()=>{let{className:d,name:u}=c,m=e.tree.get(s.css.getNodeIdForClassName(d));!m||!Gd(m)||jt(m)||Ce(m)||A(m.name)||(m.set({name:UT(u)}),r++)})});await new uu("renameLayers").start({model:"google/gemini-2.5-flash",messages:[{role:"system",content:RH},{role:"user",content:`\`\`\`
${a.toString()}\`\`\``}],onText:c=>l.addToken(c)}),l.finalize()}}catch(i){throw kH.error("Failed to generate layer names:",i),i}finally{await e.scheduler.processWhenReadyAsync(()=>e.endUndoGroup()),It("rename_layers",{duration:performance.now()-o,count:r})}}function ePe(e){return Ot(e)&&!Ee(e)}function tPe(e){return Qe(e)&&!Po(e)}function UE(e){return _t(e)&&!Po(e)}function JE(e,t){return Uc(t)&&(Je("app").warn("Inserting a symbol is no longer supported."),t.isMaster=!1,t.replicaInfo=null,t.originalid=null),S(!e.tree.has(t.id),"Tree should not contain node with same id as inserted template"),e.stores.scopeStore.insertNode(t),t}function QE(e){let t={width:200,height:200,codeComponentIdentifier:e.identifier,intrinsicWidth:null,intrinsicHeight:null,slotsAreChildNodes:at.isOn("componentSlotsAreChildNodes")},{defaultProps:o,annotations:r}=e;if(o!==void 0&&(jm(o.width)&&(t.width=o.width,t.intrinsicWidth=o.width),jm(o.height)&&(t.height=o.height,t.intrinsicHeight=o.height)),r){let n=kb(r);n.width&&(t.width=n.width),n.height&&(t.height=n.height)}return new ta(t)}function gPe(e){return e.sort(AH)}var XE=new Map;function ZE(e){let t=XE.get(e);if(t)return t;let o=e.split("/").map(r=>r.trim()).join("");return XE.set(e,o),o}function AH(e,t){if(e.name===null)return-1;if(t.name===null)return 1;let o=ZE(e.name),r=ZE(t.name);return o.localeCompare(r,void 0,{numeric:!0})}function yPe(e){if(UC(e)&&e.file==="./canvas.tsx"||e.identifier==="framer/Stack")return!1;let t=he(e.identifier);return fo(t)&&t.type==="screen"?!1:e.type==="component"||e.type==="master"}function CPe(e){let t=e.split("/"),o=t[t.length-1];return S(Uo(o),"Last section is required"),o.trim()}function SPe(e,t,o){return t.name?t.name:o?Mn(e,o):"Unknown"}function KE(e,{allowVariants:t,allowLockedNodes:o}={}){return!o&&hn(e)||Jo(e)||!t&&(Ee(e)||Po(e))||UE(e)||Zs(e)||$e(e)||ii(e)?!1:Ve(e)}async function eVe(e,t,o,r){function n(){WH(e,[t],o,r)}if(!J(o)){n();return}let i=he(o.codeComponentIdentifier);if(!i||i.kind!=="externalModuleExport"){n();return}await e.stores.modulesStore.addExternalModulesToProject([i],{onTreeUpdate:n})}function EH(e,t,o){if(!yl(t))return;let r=$T(e.tree,t);if(!ue(r))return;S(r.isLoaded(),"smart component must be loaded"),o.set({formSubmitButtonId:t.id});let n=r.getPrimaryVariant();r.getReplicaVariants().forEach(i=>{ze.resetOverridesByProperty(e.tree,i,i,["htmlTag","link"])}),Jb(n)&&n.set({htmlTag:"button",link:void 0})}function MH(e,t,o){if(!J(e)||!J(t)||!e.cache.formContainerAncestorId)return;let r=o.tree.get(e.cache.formContainerAncestorId);er(r)&&EH(o,t,r)}function OH(e,t,o){let r=Wb(o.tree,e);r&&Ln(e,r)&&r.set({dataSourceLoaderId:t.id})}function WH(e,t,o,r){let n={},i=new Set;t.forEach(a=>{let s=null;if(_t(a)){if(!Ir(a))return;let C=Sn(e.tree,a),T=ze.getReplicaForTemplateNode(e.tree,a);if(!C||!T||!Ee(T))return;a=C,s=T}let l=JE(e,o);MH(a,l,e),OH(a,l,e);let c=e.tree.getNodeParent(a),d=c||e.tree.getScopeNodeFor(a)||e.stores.scopeStore.active,u=d.children.indexOf(a),m=ou(e.tree,e.componentLoader,a,l,d);if(l.set(m),c&&lt(a)&&Ka(l)){l.set(ui(a));let C=new cu([[a.id,l.id]]);zn(e.tree,e.componentLoader,c,C,ct(c)||_r(c)),i.add(l.id)}if(J(l)&&BH(e.componentLoader,a,l,new Set(Object.keys(m))),Ot(a)&&!Ee(a)&&J(l)&&zH(e,a,l),$H(e,d,a,l),mt(a))for(let C of a.children)ct(C)&&e.moveNode(C.id,l.id);e.deleteNode(a.id),e.moveNode(l.id,d.id,u);let h=GH(e.tree,e.componentLoader,a,l);Ve(l)&&h&&(r?e.tree.current(l)?.set({left:h.left,right:h.right,top:h.top,bottom:h.bottom,centerAnchorX:h.centerAnchorX,centerAnchorY:h.centerAnchorY}):e.tree.current(l)?.set(h)),s?n[a.id]=Yo(s.id,l.id):n[a.id]=l.id});for(let a of e.stores.selectionStore.ids)i.add(n[a]??a);e.stores.selectionStore.set(Array.from(i))}function zH(e,t,o){if(Ee(t))return;let r=o.getLocalSmartComponentNodeId();if(!r)return;let n=e.tree.getNode(r);if(!(!n||!ue(n))&&n.originalSymbolId===t.replicaInfo.master){for(let i of t.walk())if(!(!xN(i)||!i.isTarget)&&i.originalid){if(Fe(i)&&i.fillType==="image"&&A(i.fillImage)){let a=o.getRawControlProp(`symbol_${i.originalid}`);a&&a.type==="image"&&(a.value=i.fillImage)}else if(Zs(i)){let a=o.getRawControlProp(`symbol_${i.originalid}`);a&&a.type==="string"&&(a.value=i.styledText.text)}}}}function BH(e,t,o,r){let n;e:for(let a of t.walk()){if(!Kt(a)&&!J(a))continue;let s=Ud(e,a);for(let[,l]of Object.entries(s))if(n===void 0)n=l;else if(n){n=null;break e}}if(!n)return;let i=e.componentForIdentifier(o.codeComponentIdentifier);if(i?.properties)for(let a in i.properties){if(r?.has(a)||i.properties[a]?.type!=="eventhandler")continue;let l={type:"eventhandler",value:n};o.set({[wt(a)]:l});return}}function $H(e,t,o,r){let n=t?Js(t):null;if(!n||!xo(n))return;let i=e.tree.getSmartComponentNodeFor(n);if(i)for(let a of i.getReplicaVariants()){let s=a.replicaInfo;if(!(o.id in s.overrides))continue;let l={...s};l.overrides={...l.overrides};let c={},d=l.overrides[o.id];for(let u in d){let m=d[u];if(u==="_deleted"){if(!Ze(m))continue;let h=m.filter(C=>C in r);h.length&&(c._deleted=h)}else u in r&&(c[u]=m)}delete l.overrides[o.id],l.overrides[r.id]=c,e.tree.current(a)?.set({replicaInfo:l})}}function GH(e,t,o,r){if(!Ve(o)||!Ve(r))return;let n=o.constraintValues();if(ul(o)&&ul(r)&&(Nd(o)&&(n.gridItemFillCellWidth=!0),ml(o)&&(n.gridItemFillCellHeight=!0)),!J(r))return n;if(Rb(o)){let i=r.getSupportedLayout(t),a=e.getRect(o);o.widthType===2&&!ei(i.width)&&(n.widthType=0,n.width=a.width),o.widthType===5&&(n.widthType=ei(i.width)?2:0),o.heightType===2&&!ei(i.height)&&(n.heightType=0,n.height=a.height),o.heightType===5&&(n.heightType=ei(i.height)?2:0)}return n}function tVe(e){return jC(e)?QE(e):null}var qE=Oc(OS(),1);function YE(e){let t={};for(let o of e.walk()){let r={};tr(o)&&(r.strokeDashArray=o.strokeDashArray,r.strokeDashOffset=o.strokeDashOffset,B(o.strokeWidth)||(r.strokeWidth=o.strokeWidth)),Ui(o)&&(r.boxShadows=o.boxShadows),si(o)&&(r.radius=o.radius),Hi(o)&&(r.radiusTopLeft=o.radiusTopLeft,r.radiusTopRight=o.radiusTopRight,r.radiusBottomRight=o.radiusBottomRight,r.radiusBottomLeft=o.radiusBottomLeft),Ks(o)&&(r.pathSegments=o.pathSegments),Ao(o)&&o.fillType==="image"&&o.fillImageResize==="tile"&&(r.fillImageTileSize=o.fillImageTileSize??1),t[o.id]=r}return(0,qE.Map)(t)}function uC(e,t,o){t.forEach((r,n)=>{let i=e.getNode(n);if(!i)return;let a={};tr(i)&&(te(r.strokeWidth)&&(a.strokeWidth=go(r.strokeWidth*o,2)),A(r.strokeDashArray)&&(a.strokeDashArray=_H(r.strokeDashArray,o)),te(r.strokeDashOffset)&&(a.strokeDashOffset=go(r.strokeDashOffset*o,2))),xv(i)&&gv(r.boxShadows)&&(a.boxShadows=HH(r.boxShadows,o)),si(i)&&(te(r.radius)&&(a.radius=go(r.radius*o,2)),te(r.radiusTopLeft)&&(a.radiusTopLeft=go(r.radiusTopLeft*o,2)),te(r.radiusTopRight)&&(a.radiusTopRight=go(r.radiusTopRight*o,2)),te(r.radiusBottomRight)&&(a.radiusBottomRight=go(r.radiusBottomRight*o,2)),te(r.radiusBottomLeft)&&(a.radiusBottomLeft=go(r.radiusBottomLeft*o,2))),Ks(i)&&r.pathSegments&&(a.pathSegments=i.pathSegments.map((s,l)=>{let d=r.pathSegments[l].radius*o;return s.merge({radius:d})})),Ao(i)&&te(r.fillImageTileSize)&&(a.fillImageTileSize=r.fillImageTileSize*o),i.set(a)})}function HH(e,t){if(!(!e||B(e)))return e.map(o=>dd(o,{x:go(o.x*t,2),y:go(o.y*t,2),blur:go(o.blur*t,2),spread:go(o.spread*t,2)}))}function _H(e,t){let o=[],r=e.split(",");for(let n of r){let i=parseFloat(n);if(!te(i))continue;let a=go(i*t,2);o.push(a)}return o.join(", ")}function eM(e,t){let o=e.getRect(t),r={width:o.width,height:o.height};if(!Fe(t)||!Co(t))return r;let n=Bd(t);if(n.perSide)n.top&&(r.height-=n.top),n.bottom&&(r.height-=n.bottom),n.right&&(r.width-=n.right),n.left&&(r.width-=n.left);else if(n.top){let i=n.top*2;r.width-=i,r.height-=i}return r.width=Math.max(1,r.width),r.height=Math.max(1,r.height),r}function FVe(e,t,o,r){e.getNodesWithTrait(o,jt).forEach(i=>{let{descendantPaths:a}=Ul(t,i,!0,o),s=a.valueSeq().toArray(),l=vo.boundingBox(s),c={...l};r==="horizontal"?(c.x=l.x+l.width,c.width=-l.width):(c.y=l.y+l.height,c.height=-l.height);let d=c.width>-1&&c.width<1?1:c.width,u=c.height>-1&&c.height<1?1:c.height,m=[l.x,l.x+l.width],h=[c.x,c.x+d],C=[l.y,l.y+l.height],T=[c.y,c.y+u],N=d/l.width,P=u/l.height;a.forEach((k,W)=>{let M=k.pathSegments.map(j=>j.merge({x:Io(j.x,m,h,!1),y:Io(j.y,C,T,!1),handleOutX:j.handleOutX*N,handleOutY:j.handleOutY*P,handleInX:j.handleInX*N,handleInY:j.handleInY*P}));S(t.tree===e);let H=e.get(W);if(!H)return;let X={pathSegments:M,pathClosed:H.pathClosed},oe={pathSegments:Ni(e,H,[X])[0],pathClosed:H.pathClosed},me=H.updateForPath(oe);H.set(me)})})}function AVe(e,t,o){let{tree:r}=e;t.forEach(n=>{let i=r.getRect(n),a=o(i);if(a.width&&a.width<1&&(a.width=1),a.height&&a.height<1&&(a.height=1),$e(n))jH(e,n,a);else if(Pr(n))UH(e,n,a);else{let s=r.getParent(n.id),l=s?eM(r,s):null,c=n.updateForSize(a,l?{sizing:l,positioning:l,viewport:n.cache.viewportRect,layout:rn(s)}:null);r.current(n)?.set(c)}})}function jH(e,t,o){let{tree:r}=e,n=r.getParent(t.id),i=n?r.getRect(n):null,a=t.updateForSize(o,i?{sizing:i,positioning:i,viewport:null,layout:rn(n)}:null);a.sizeToFit=!1,r.current(t)?.set(a)}function UH(e,t,o){let{tree:r}=e,n=r.getRect(t),i=rd.update(n,o,mi(t)?te(t.aspectRatio):!1),a={...n,...i},s=a.width>-1&&a.width<1?1:a.width,l=a.height>-1&&a.height<1?1:a.height,c=[n.x,n.x+n.width],d=[a.x,a.x+s],u=[n.y,n.y+n.height],m=[a.y,a.y+l],h=s/n.width,C=l/n.height,{descendantPaths:T,descendantBasicShapes:N}=Ul(e,t);T.forEach((P,k)=>{let M=Ni(r,t,[P])[0].map(j=>j.merge({x:Io(j.x+n.x,c,d,!1)-n.x,y:Io(j.y+n.y,u,m,!1)-n.y,handleOutX:j.handleOutX*h,handleOutY:j.handleOutY*C,handleInX:j.handleInX*h,handleInY:j.handleInY*C})),H=da(r,t,{pathSegments:M,pathClosed:!0});S(e.tree===r);let X=r.get(k);if(!X)return;let oe={pathSegments:Ni(r,X,H)[0],pathClosed:X.pathClosed},me=X.updateForPath(oe);X.set(me)}),N.forEach((P,k)=>{if(P===null)return;let H=P.map(pe=>r.convertPointToNode(t,pe)).map(pe=>({x:Io(pe.x+n.x,c,d,!1)-n.x,y:Io(pe.y+n.y,u,m,!1)-n.y})).map(pe=>r.convertPointToCanvas(t,pe)),X=r.get(k);if(!X)return;let K=H.map(pe=>r.convertPointToNode(X,pe)),oe=de.boundingRectFromPoints(K),me=de.center(oe),j=Md(X,me),xe={x:j.x-oe.width/2,y:j.y-oe.height/2,width:oe.width,height:oe.height};X.set(xe)})}function tM(e,t,o,r,n,i){let{tree:a}=e,s=a.getNode(t.id),l=i.width>-1&&i.width<1?1:i.width,c=i.height>-1&&i.height<1?1:i.height,d=l/n.width,u=c/n.height;o.forEach((m,h)=>{let C=a.getNode(h);if(!C)return;let N={pathSegments:m.pathSegments.map(M=>M.merge({x:M.x*d,y:M.y*u,handleOutX:M.handleOutX*d,handleOutY:M.handleOutY*u,handleInX:M.handleInX*d,handleInY:M.handleInY*u})),pathClosed:m.pathClosed},k={pathSegments:bR(a,s,C,[N])[0],pathClosed:C.pathClosed},W=C.updateForPath(k);C.set(W)}),r.forEach((m,h)=>{if(m===null)return;let C=m.map(k=>({x:k.x*d,y:k.y*u})),T=a.getNode(h),N=C.map(k=>a.convertPointFromNodeToDescendant(s,T,k,!1)),P=de.boundingRectFromPoints(N);e.tree.get(h)?.set(P)})}function oM(e,t,o,r,n,i=a=>a.canvasMatrix()){let a=r.width>-1&&r.width<1?1:r.width,s=r.height>-1&&r.height<1?1:r.height,l=[o.x,o.x+o.width],c=[r.x,r.x+a],d=[o.y,o.y+o.height],u=[r.y,r.y+s],m=a/o.width,h=s/o.height,C=n?{x:0,y:0}:t.rect;t.descendantPaths&&t.descendantPaths.forEach((T,N)=>{let k=(n?T.pathSegments:rg(t.canvasMatrix.inverse(),[T])[0]??[]).map(oe=>oe.merge({x:Io(oe.x+C.x,l,c,!1)-C.x,y:Io(oe.y+C.y,d,u,!1)-C.y,handleOutX:oe.handleOutX*m,handleOutY:oe.handleOutY*h,handleInX:oe.handleInX*m,handleInY:oe.handleInY*h})),W=n?{pathSegments:k,pathClosed:T.pathClosed}:{pathSegments:rg(t.canvasMatrix,[{pathSegments:k,pathClosed:T.pathClosed}])[0]??[],pathClosed:T.pathClosed},M=e.get(N);if(!M)return;let X={pathSegments:Ni(e,M,[W])[0],pathClosed:M.pathClosed},K=M.updateForPath(X);M.set(K)}),t.descendantBasicShapes&&t.descendantBasicShapes.forEach((T,N)=>{if(T===null)return;let k=(n?T:T.map(j=>St.convertPoint(t.canvasMatrix.inverse(),j))).map(j=>({x:Io(j.x+C.x,l,c,!1)-C.x,y:Io(j.y+C.y,d,u,!1)-C.y})),W=n?k:k.map(j=>St.convertPoint(t.canvasMatrix,j)),M=e.get(N);if(!M)return;let H=W.map(j=>St.convertPoint(i(M).inverse(),j)),X=de.boundingRectFromPoints(H),K=de.center(X),oe=Md(M,K),me={x:_m(oe.x-X.width/2),y:_m(oe.y-X.height/2),width:X.width,height:X.height};M.set(me)})}function nM(e,t,o,r,n){if(o!==1)for(let[i]of r.parentsInitialState){let a=r.parentsInitialState.get(i);if(!a)continue;let s=[];for(let l of t)a.selectedNodeIds.has(l.id)&&s.push(l);aM(s,o,QH(e,i,o,r,n),!0)}}function iM(e,t){let o=new Map,r=new Map,n={},i=new Set;for(let a of e.tree.withoutDescendants(t)){let s=a.parentid;if(!s)continue;let l=e.tree.getNode(s);S(l,"Parent must exist"),JH(e,a,r,i),ZH(e,a,l,o),n[s]??=[],n[s].push(a)}for(let[a,s]of o){let l=n[a];S(l,"Nodes must exist"),s.selectionBoundingFrame=e.tree.getBoundingFrameForNodes(l)}return{parentsInitialState:o,nodesInitialState:r,nonScalableNodes:i}}function JH(e,t,o,r){for(let{node:n,skipChildren:i}of t.walkWithSkipChildren()){if(o.has(n.id))continue;let a=n.id===t.id,s=e.tree.isInlineVectorNode(n),l=jt(n)&&(s||a);if(!s_(e.componentLoader,n,a)){r.add(n.id),i();continue}let c=l?Ul(e,n):void 0,d=$e(n)?TR(e,n):void 0,u=$e(n)||l?YE(n.draftOrCurrent()):void 0,m=J(n)?XH(e.componentLoader,n):void 0;o.set(n.id,{rect:de.round(e.tree.getRect(n,!1),2),matrix:e.tree.transformMatrixToNode(n),codeComponentControlProps:m,scalableShapeStylesMap:u,...c,...d}),$e(n)&&i()}}function XH(e,t){let o=e.reactComponentForIdentifier(t.codeComponentIdentifier);if(!(!o||!o.properties))return t.getControlProps(o.properties)}function ZH(e,t,o,r){let n=r.get(o.id)??{matrix:e.tree.transformMatrixToNode(o).invertSelf(),selectedNodeIds:new Set,selectionBoundingFrame:{x:0,y:0,width:0,height:0}};n.selectedNodeIds.add(t.id),r.set(o.id,n)}function QH(e,t,o,r,n){let i=r.parentsInitialState.get(t);S(i,"Parent must be present in initial state");let a=i.selectionBoundingFrame,s={...a,width:a.width*o,height:a.height*o};return{initialRect:a,resizedRect:s,engine:e,tree:e.tree,initialState:r,anchorPoint:n??{x:.5,y:.5}}}function aM(e,t,o,r){if(e.length===0)return!1;let n=!1;for(let i of e){if(o.initialState.nonScalableNodes.has(i.id))continue;let a=l_(i)&&aM(i.children,t,o,!1),s=KH(i,o,t,a,r);n||=s||a}return n}function KH(e,t,o,r,n){let i=i_(e,o,n),a=qH(e,t,o,r,n,i);return e.set(i),(a||r)&&t_(e,t,o,n),a}function qH(e,t,o,r,n,i){return Pe(e)?YH(e,o,t,n,i):$e(e)?e_(e,o,t,n,i):jt(e)?c_(e,o,t):J(e)?d_(e,o,t,n,i):Ae(e)?sM(e,o,t,r,n,i):!1}function YH(e,t,o,r,n){let i=!1;if(!e.textFitViewBoxSize){a_(e,o.tree);let a=e.draftOrCurrent().updateForScale(t);Object.assign(n,a),i=!0}return e.widthType!==2&&(i=$s("width",e,t,o,!1,r,n)||i),e.heightType!==2&&(i=$s("height",e,t,o,!1,r,n)||i),i}function e_(e,t,o,r,n){let i=o.initialState.nodesInitialState.get(e.id),a=i?.shapeContainerDescendantPaths,s=i?.shapeContainerDescendantBasicShapes,l=i?.scalableShapeStylesMap;return S(l,"Shape container styles should be available in initial state"),S(a,"Shape container paths should be available in initial state"),S(s,"Shape container shapes should be available in initial state"),tM(o.engine,e,a,s,e,{width:e.width*t,height:e.height*t}),uC(o.tree,l,t),$s("width",e,t,o,!0,r,n),$s("height",e,t,o,!0,r,n),!0}function t_(e,t,o,r){if(r)o_(e,o,t);else if(Ve(e)){let n={};e.left&&(n.left=Se(e.left,o)),e.right&&(n.right=Se(e.right,o)),e.top&&(n.top=Se(e.top,o)),e.bottom&&(n.bottom=Se(e.bottom,o)),e.set(n)}}function o_(e,t,o){if(!Ve(e)&&!Hd(e))return;let r=o.initialState.nodesInitialState.get(e.id);S(r,"Node must be present in initial state");let n=e.parentid?o.initialState.parentsInitialState.get(e.parentid):void 0;S(n,"Node parent must be present in the initial state"),n.selectedNodeIds.size===1?r_(e,t,o,r):n_(e,o,r,n)}function r_(e,t,o,r){let n=r.rect,i={...n,width:n.width*t,height:n.height*t},s=jt(e)||$e(e)?e.clone({rotation:0}):e,l=Pm(n,o.anchorPoint),c=Pm(i,o.anchorPoint),d=St.convertPoint(s.originAdjustedMatrix(null,n),l),u=St.convertPoint(s.originAdjustedMatrix(null,i),c),m=we.subtract(d,u),h=de.round(de.offset(i,m),2);if(Ve(e)){let{widthType:C,heightType:T,maxHeight:N,minHeight:P,maxWidth:k,minWidth:W,...M}=Wf(e.constraints(),h,o.tree.getParentSizeInfo(e,o.tree.getParent(e.id)),null,!1);e.set(M)}else e.set({x:h.x,y:h.y})}function n_(e,t,o,r){let n=we.add(Pm(t.initialRect,t.anchorPoint),t.initialRect),i=we.add(Pm(t.resizedRect,t.anchorPoint),t.resizedRect),a=we.subtract(n,i),s=r.matrix??null,l=rM(s,t.initialRect),c=rM(s,de.offset(t.resizedRect,a)),d=[l.x,l.x+l.width],u=[c.x,c.x+c.width],m=[l.y,l.y+l.height],h=[c.y,c.y+c.height],C=o.rect,T={x:Io(C.x,d,u,!1),y:Io(C.y,m,h,!1)},N={x:Io(C.x+C.width,d,u,!1),y:Io(C.y+C.height,m,h,!1)},P=de.round(de.fromTwoPoints(T,N));if(Ve(e)){let k=Wf(e.constraints(),P,t.tree.getParentSizeInfo(e,t.tree.getParent(e.id)),null,!1);delete k.widthType,delete k.heightType,e.set(k)}else e.set({x:P.x,y:P.y})}function rM(e,t){if(!e)return t;let o=St.convertPointsWithClipping(e,de.cornerPoints(t));return de.boundingRectFromPoints(o)}function i_(e,t,o){let r={};return Ur(e)&&(r.borderWidth=Se(e.borderWidth,t),r.borderBottom=Se(e.borderBottom,t),r.borderLeft=Se(e.borderLeft,t),r.borderTop=Se(e.borderTop,t),r.borderRight=Se(e.borderRight,t)),Ui(e)&&(r.boxShadows=cM(e.boxShadows,t)),tr(e)&&(r.strokeWidth=Se(e.strokeWidth,t)),Zo(e)&&(r.padding=Se(e.padding,t),r.paddingBottom=Se(e.paddingBottom,t),r.paddingLeft=Se(e.paddingLeft,t),r.paddingTop=Se(e.paddingTop,t),r.paddingRight=Se(e.paddingRight,t)),Hi(e)&&(r.radiusBottomLeft=Se(e.radiusBottomLeft,t),r.radiusBottomRight=Se(e.radiusBottomRight,t),r.radiusTopLeft=Se(e.radiusTopLeft,t),r.radiusTopRight=Se(e.radiusTopRight,t)),si(e)&&(r.radius=Se(e.radius,t)),to(e)&&(r.gridColumnMinWidth=Se(e.gridColumnMinWidth,t),r.gridColumnWidth=Se(e.gridColumnWidth,t),e.gridRowHeightType==="fixed"&&(r.gridRowHeight=Se(e.gridRowHeight,t))),Co(e)&&(r.gap=lM(e.gap,t)),na(e)&&(r.formInputFontSize=dM(e.formInputFontSize,t),e.formInputFontLetterSpacingUnit==="px"&&(r.formInputFontLetterSpacing=Se(e.formInputFontLetterSpacing,t)),e.formInputFontLineHeightUnit==="px"&&(r.formInputFontLineHeight=Se(e.formInputFontLineHeight,t))),bl(e)&&(r.blur=Se(e.blur,t,0),r.backgroundBlur=Se(e.backgroundBlur,t,0)),Ao(e)&&e.fillType==="image"&&e.fillImageResize==="tile"&&(r.fillImageTileSize=Se(e.fillImageTileSize??1,t)),fn(e)&&(r.minWidth=xm(e.minWidth,t,o),r.maxWidth=xm(e.maxWidth,t,o),r.minHeight=xm(e.minHeight,t,o),r.maxHeight=xm(e.maxHeight,t,o)),r}function sM(e,t,o,r,n,i){if(!st(e))return i.width=Se(e.width,t),i.height=Se(e.height,t),!0;let a=!1;return a=$s("width",e,t,o,r,n,i)||a,a=$s("height",e,t,o,r,n,i)||a,a}function a_(e,t){let o=e.getTextStylePresets(!1);for(let r of o){let n=t.getNode(r);io(n)&&e.draftOrCurrent().detachTextStylePreset(n,!1)}}function $s(e,t,o,r,n,i,a){let s=e==="width"?"widthType":"heightType",l=t[s],c=r.initialState.nodesInitialState.get(t.id)?.rect;S(c,"node should have cached rect");let d=e==="width"?"gridItemFillCellWidth":"gridItemFillCellHeight";if(ul(t)&&t[d]&&i)return a[d]=!1,a[e]=Se(c[e],o),a[s]=0,!0;switch(l){case 0:return a[e]=Se(t[e],o),!0;case 4:return a[e]=Se(t[e],o,4),!0;case 1:return i?(a[e]=Se(t[e],o,4),!0):!1;case 3:return i?(a[e]=Se(c[e],o),a[s]=0,!0):!1;case 2:if(!n){let m=r.tree.getNodeParent(t),C=(m&&pr(m)?m.layout:void 0)==="grid"?c[e]:t[e];return a[e]=Se(C,o),a[s]=0,!0}return!1;case 5:return!0;default:G(l)}}function s_(e,t,o){let r=J(t)?t.getSupportedLayout(e):void 0;return!(r?.width==="auto"&&r?.height==="auto"||Ce(t)||ct(t)&&!o)}function l_(e){return!(!e.children||$e(e)||jt(e))}function Se(e,t,o=2){return te(e)?go(e*t,o):e}function lM(e,t){return te(e)?Se(e,t):A(e)?nd(e,o=>Se(o,t)):e}function xm(e,t,o){if(F(e))return e;let[r,n]=Qi(e);return Number.isNaN(r)||n==="%"&&!o?e:Gr(Se(r,t,0),n)}function cM(e,t){if(!(!e||B(e)))return e.map(o=>o.type==="realistic"?o:dd(o,{x:Se(o.x,t),y:Se(o.y,t),spread:Se(o.spread,t)}))}function c_(e,t,o){let r=o.initialState.nodesInitialState.get(e.id);return r?(oM(o.tree,{canvasMatrix:r.matrix,rect:r.rect,descendantPaths:r.descendantPaths,descendantBasicShapes:r.descendantBasicShapes},o.initialRect,o.resizedRect,!0,n=>{let i=o.initialState.nodesInitialState.get(n.id);return S(i,"Basic shape initial state must exist"),i.matrix}),r.scalableShapeStylesMap&&uC(o.tree,r.scalableShapeStylesMap,t),!0):!1}function Pm(e,t){return{x:e.width*t.x,y:e.height*t.y}}function d_(e,t,o,r,n){let i=Ae(e)?sM(e,t,o,!1,r,n):!1,a=o.initialState.nodesInitialState.get(e.id)?.codeComponentControlProps;if(!a)return i;for(let s in a){let l=a[s];if(!(!l||B(l.value)))switch(l.type){case"borderradius":n[wt(s)]={...l,value:u_(l.value,t)};break;case"padding":n[wt(s)]={...l,value:m_(l.value,t)};break;case"gap":n[wt(s)]={...l,value:lM(l.value,t)};break;case"boxshadow":n[wt(s)]={...l,value:cM(l.value,t)};break;case"font":n[wt(s)]={...l,value:h_(l.value,t)};break;case"border":n[wt(s)]={...l,value:g_(l.value,t)};break;case"array":case"boolean":case"collectionreference":case"color":case"slot":case"cursor":case"customcursor":case"date":case"enum":case"eventhandler":case"file":case"link":case"linkrelvalues":case"multicollectionreference":case"number":case"object":case"pagescope":case"richtext":case"scrollsectionref":case"string":case"transition":case"fusednumber":case"image":case"trackingid":case"vectorsetitem":break;default:G(l)}}return i}function p_(e){return e.includes("%")}function u_(e,t){return B(e)||p_(e)?e:nd(e,o=>Se(o,t))}function m_(e,t){return B(e)?e:nd(e,o=>Se(o,t))}var f_={px:2,rem:3};function dM(e,t){if(F(e))return e;let[o,r]=te(e)?[e,"px"]:Gi(e);return Gr(Se(o,t,f_[r]),r)}function h_(e,t){if(F(e))return e;let o=dM(e.fontSize,t);return{...e,fontSize:o,lineHeight:e.lineHeight?.[1]==="px"?[Se(e.lineHeight[0],t),"px"]:e.lineHeight,letterSpacing:e.letterSpacing?.[1]==="px"?[Se(e.letterSpacing[0],t),"px"]:e.letterSpacing}}function g_(e,t){return!e||q(e)?e:{...e,borderWidth:Se(e.borderWidth,t),borderTop:Se(e.borderTop,t),borderRight:Se(e.borderRight,t),borderBottom:Se(e.borderBottom,t),borderLeft:Se(e.borderLeft,t)}}var y_;(Kn=>{function e(f){return f.some(g=>hM(g))}Kn.canCopyNodes=e;function t(f){return f.some(g=>pM(g))}Kn.canDuplicateNodes=t;function o(f,g){return e(g)&&s(f,g)}Kn.canCutNodes=o;function r(f,g,y=void 0,v=!0){let{documentSettingsStore:b,codeGenerationStore:x,modalStore:V,canvasStore:L,scopeStore:w,selectionStore:O,treeStore:$}=f.stores,Z=$.tree,ve=Z.withoutDescendants(Z.getNodes(g)),Ge=w.active,Ke=ve.length===1?ve[0]:void 0;if(!F(Ke)&&ld(Ke)&&!Ce(Ke)&&Fe(Ke)&&ue(Ge)){let Le=Z.getRect(Ke),cr=Gl(Z,Ge,Ke,Le),Mt=Kn.createVariant(f.componentLoader,$,O,L,Ge,Ke,cr);return Mt?new Set([Mt.id]):void 0}let He=ve.find(Le=>Ce(Le)&&Fe(Le));if(He&&Fe(He)){let Le=$.tree.getScopeNodeFor(He);if(Le&&z(Le)){Le.abTestingParentId?f.loadScopesThenProcess([Le,$.tree.getAnalyticsScopeNode()],async([cr,Mt])=>{cr&&Xw(f,cr,Mt,"context_menu")}):V.set({type:"DuplicateWebPage",source:"context_menu",duplicateFromId:Le.id});return}}let _e=ve.map(Le=>Z.getRect(Le)),qe=new Map,Vt=new Set,pt=[],ot=new Map,bo=new Map,mo=0;if(ve.forEach((Le,cr)=>{if(!pM(Le))return;let Mt=Z.getParent(Le.id);if(et(Le)){if(Mt&&J(Mt)){if(!PT(Mt,f.componentLoader))return}else if(!Mt||!Ce(Mt))return}for(let Ft of Le.walk())Fe(Ft)&&mo++;let kt=f.cloneNode(Le,!1,!0,qe);if(qe.set(Le.id,kt.id),bo.set(Le.id,kt.id),Vt.add(kt.id),ot.set(Le,kt),Le.isMaster)Gh({});else if(Le.replicaInfo){let{master:Ft}=Le.replicaInfo,At=Ft&&Z.getNode(Ft);At&&Xm(At)||Gh({})}else xS(Le)&&(!y||y.node&&PS(y.node))&&BR(f,Le,qe);if(y){let Ft=Z.getParent(Le.id);if(y.node){let At=y.node;if(Qe(y.node)&&(At=Sn(Z,y.node),!At))return;if(Df(f.tree,At,kt,w.active.id,f.componentLoader)){let qn=Ft&&Br(Ft)&&Br(At),Mc=Ft&&Fe(Ft)&&Fe(At);if(qn||Mc)f.moveNode(kt.id,At.id,y.insertionIndex);else if(Ve(kt)){f.moveNode(kt.id,At.id,y.insertionIndex);let Ma=Z.getParentSizeInfo(kt,At,!0,!1),Oi=kt.updateForSize(_e[cr]??{},Ma);Ft||(Oi.left=0,Oi.top=0),f.tree.current(kt)?.set(Oi)}else Kn.convertNodeToNewParent(f,kt,Ft,y.node,y.insertionIndex,Le);if(Po(y.node)){fg(f,kt,y.node,At,Vt,qe);let Ea=ze.getReplicaForTemplateNode(Z,y.node);if(Ea){let Ma=Yo(Ea.id,kt.id);bo.set(Le.id,Ma)}}}}else Kn.convertNodeToNewParent(f,kt,Ft,y.node,y.insertionIndex,Le),Br(Ft)&&_e[cr]&&f.tree.current(kt)?.set(kt.updateForSize(_e[cr],null))}}),!y){let Le=ve.some(Mt=>Z.isGroundNode(Mt)),cr=ve.some(Mt=>xr(Mt)&&Mt.resolveValue("rotation")!==0);if(ve.length){let Mt=ve.map(Lo=>Z.convertFrameToCanvas(Lo)),kt=de.merge(...Mt),Ft,At=K(f,g),qn=oe(Z,ve),Mc=ve.some(Lo=>jt(Lo)),Ea=b.lastDuplicationMap,Ma=!1;if(!Mc&&At&&!qn&&!cr&&Ea){let Lo=Ea.keys(),Wm=f.tree.getBoundingFrameForNodes(Z.getNodes(Lo));Ma=!0,Ft=we.subtract(kt,Wm)}let Oi=Ft||{y:0,x:0},Om=ve[0];if(!Mc&&Le&&!Ma&&Om){let Lo=pR(Z,w.active,Om,kt,ve.every(fr)?{x:f.tree.getRect(Om).width}:Ft);Oi=we.subtract(Lo,kt)}for(let Lo of ve){let{x:Wm,y:dO,width:pO,height:uO}=Z.getRect(Lo),Tn=ot.get(Lo);if(!Tn)continue;let Hs=f.tree.getParent(Lo.id),_s=f.tree.getParent(Tn.id);if(_s&&Hs&&Po(Hs)){fg(f,Tn,Hs,_s,Vt,qe);let zC=ze.getReplicaForTemplateNode(Z,Hs);if(zC){let hO=Yo(zC.id,Tn.id);bo.set(Lo.id,hO)}}if(_s&&Br(_s))continue;let OC=Wm+Oi.x,WC=dO+Oi.y,mO=f.tree.getParentSizeInfo(Lo,Hs),fO=Tn.updateForRect({rect:{x:jt(Lo)?OC:Math.round(OC),y:jt(Lo)?WC:Math.round(WC),width:pO,height:uO},parentSizeInfo:mO,constraintsLocked:!1,shouldGuessPinToBottom:!0,shouldGuessPinToRight:Qr(f.tree,Tn,_s)});f.tree.current(Tn)?.set(fO),Le&&Z.isGroundNode(Tn)&&pt.push(Tn.rect())}}}b.lastDuplicationMap=bo;let vn=[],wo=!0;for(let Le of ot.values())zn(Z,f.componentLoader,Le,qe,!1),fr(Le)&&vn.push(Le),ct(Le)||(wo=!1);if(vn.length&&x.createVectorSet(vn),wo&&ot.size>0&&f.stores.overlayStore.hideAll(),pt.length){let Le=de.merge(...pt);L.scrollToCenter(de.center(Le))}return v&&Vt.size>0&&f.stores.selectionStore.set(Vt,{sticky:!0}),mo>0&&It("layout_frame",{source:"duplication",count:mo}),Vt}Kn.duplicateNodes=r;function n(f){if(f.length>=50)return!0;let y=f.length;return f.forEach(v=>{y+=Vg(v)}),y>=50}function i(f,g,y){let v=f.tree.withoutDescendants(g);function b(){let x=[],V=[];v.forEach(L=>{if(Ir(L))if(Ld(f.tree,L))V.push(L);else{let w=f.tree.get(L.originalid);w&&hC(w)&&x.push(w.id)}else hC(L)&&x.push(L.id)}),V.forEach(L=>L.set({visible:!1})),f.deleteNodes(x),f.stores.selectionStore.clear(),f.stores.treeStore.setHighlight(null)}y&&n(v)?f.stores.modalStore.set({type:"Confirmation",variant:"destructive",title:"Delete Selection",description:"You are about to delete the selected layers for all project collaborators.",confirmLabel:"Delete",onConfirm:b,source:"delete_node"}):b()}Kn.deleteOrHideNodes=i;function a(f,g){f.tool.deleteAction?f.tool.deleteAction():g&&i(f,g,!0)}Kn.deleteAction=a;function s(f,g){return f.tool.deleteAction?!!f.tool.canDelete&&f.tool.canDelete():!!g&&g.some(y=>v_(y))}Kn.canDeleteOrHideNodes=s;function l(f,g){return Nn(g)?!1:_t(g)?Ir(g):!Qo(g)}Kn.canRenameNode=l;function c(f,g){return g.filter(y=>l(f,y)).length===1}Kn.canRename=c;function d(f,g){return f.stores.chromeStore.contentPanelTab!=="Pages"||f.stores.scopeStore.active.id===f.tree.root.homePageNodeId||g.length!==0?!1:z(f.stores.scopeStore.active)||Ye(f.stores.scopeStore.active)}Kn.canRenameActivePage=d;function u(f,g){if(d(f,g)){let y=f.stores.scopeStore.active.id,v=kn(f.tree,y)?.id||y;_p(v)}else g.length===1&&(f.stores.chromeStore.layersExpanded=!0,f.stores.chromeStore.contentPanelTab="Layers",f.scheduler.runBeforeNextFrame(()=>{let y=document.querySelectorAll(".layerPanelPlaceholder.active");if(y.length===1&&y[0]){let v=new MouseEvent("dblclick",{view:window,bubbles:!0,cancelable:!0}),b=y[0].parentElement;b&&b.dispatchEvent(v)}}))}Kn.rename=u;async function m(f,g){g.length!==0&&await pP({key:"generate-layer-names",progress:{variant:"progress",text:"Renaming layers\u2026"},error:{variant:"error",text:"Failed to rename layers"},success:{variant:"success",text:"Done"},waitTime:1e3},()=>jE(f,g))}Kn.renameLayers=m;function h(f,g){let y=f.tree,v=y.withoutDescendants(g),b=Aa(v);k(y,g,b)&&LC(f,b,"front")}Kn.sendToFront=h;function C(f,g){let y=f.tree,v=y.withoutDescendants(g),b=Aa(v);P(y,g,b)&&LC(f,b,"back")}Kn.sendToBack=C;function T(f,g){let y=f.tree,v=y.withoutDescendants(g),b=Aa(v);k(y,g,b)&&DC(f,b,1)}Kn.sendForward=T;function N(f,g){let y=f.tree,v=y.withoutDescendants(g),b=Aa(v);P(y,g,b)&&DC(f,b,-1)}Kn.sendBackward=N;function P(f,g,y){if(wC(g))return!1;if(!y){let v=f.withoutDescendants(g);y=Aa(v)}return FC(f,y,-1)}Kn.sendBackwardEnabled=P;function k(f,g,y){if(wC(g))return!1;if(!y){let v=f.withoutDescendants(g);y=Aa(v)}return FC(f,y,1)}Kn.sendForwardEnabled=k;function W(f,g){return ne(f,g,0)}Kn.addFrame=W;function M(f,g){return ne(f,g,1)}Kn.addStack=M;function H(f,g){let y=f.stores.scopeStore.active,v=f.tree.withoutDescendants(g);return v.length>1&&Te(f,v)&&(!z(y)||v.every(b=>f.tree.isGroundNode(b)))}Kn.canWrapInAutoSizedFrame=H;function X(f,g,y){let v=W(f,g);S(v!==void 0,"new frame ID must be defined");let b=f.tree.getNode(v);S(b!==null,"new frame must exist");let x=f.tree.withoutDescendants([b]);return eL(f,x,y),b}Kn.wrapInAutoSizedFrame=X;function K(f,g){let{documentSettingsStore:y,selectionStore:v}=f.stores;if(!y.lastDuplicationMap||!Ql(g,v.ids))return!1;let b=[...y.lastDuplicationMap.values()];if(!Ql(v.ids,b))return!1;let x=[...y.lastDuplicationMap.keys()];return Ql(v.previousIds,x)}function oe(f,g){let y=f.getCommonGroundNode(g);return!!y&&Br(y)}function me(f,g,y){if(y!==null){let v=g.flatMap(L=>f.convertCornerPointsToCanvas(L)),b=f.transformMatrixToNode(y),x=(Nl(y)?b:St.flatProjectionMatrix(b)).invertSelf(),V=v.map(L=>St.convertPoint(x,L));return de.roundToOutside(de.boundingRectFromPoints(V))}return de.roundToOutside(de.merge(...g.map(v=>f.convertFrameToCanvas(v))))}Kn.getUntransformedBoundingRect=me;function j(f,g,y,v,b,x){let V={top:y.y,left:y.x,width:y.width,height:y.height,fillEnabled:!1},L=b.length===1?b[0]:null;S(L!==void 0,"node must be defined",b),v&&Object.assign(V,xe(g,y,v,L,x));let w=v===null,O=z(f.stores.scopeStore.active);return V.overflow=w||O?"clip":"visible",V}function xe(f,g,y,v,b){let x=f.getViewportRect(y),V=f.getRect(y),L=v?f.getParentSizeInfo(v,y):{sizing:V,positioning:V,viewport:x,layout:rn(y)},w=!!v&&Ve(v),O=pe(v,b),$=wb({rect:g,parentSizeInfo:L,currentConstraints:O,constraintsLocked:w,shouldGuessPinToBottom:oa(f,null,y),shouldGuessPinToRight:Qr(f,null,y),floatingPosition:null});return b&&y?{...os(v,y),...Ie(v),...$,widthType:Co(y)?3:1,heightType:2,width:1,left:0}:{...os(v,y),...Ie(v),...$}}function pe(f,g){let v=!!f&&Ve(f)?f.constraints():void 0;if(!v)return;let b={...v};return g?(b.widthType===5&&(b.widthType=2),b.heightType===5&&(b.heightType=2)):(Um(b.widthType)&&(b.widthType=0),Um(b.heightType)&&(b.heightType=0)),b}function Ie(f){if(!(!f||!Ae(f)))return{width:f.width,height:f.height}}function Re(f,g,y,v,b,x,V,L,w){let O=x?.id??ao;switch(g){case 0:{let $=f.createFrame(O,{id:y,...w},v);return f.moveNode($.id,O,V),S($&&mt($),"Fail to create a wrapping frame: the created frame should have the `children` field"),L.forEach(Z=>{let ve=Mi(f.tree,Z,x,$);f.moveNode(Z.id,$.id),f.tree.current(Z)?.set(ve)}),$}case 1:{let $=R(f,y,O,w,L,b);return f.moveNode($.id,O,V),$}case 2:{let $=f.createShapeContainer(O,{id:y,...w});return f.moveNode($.id,O,V),S($&&mt($),"Fail to create a wrapping frame: the created frame should have the `children` field"),L.forEach(Z=>{let ve=Mi(f.tree,Z,x,$);f.moveNode(Z.id,$.id),f.tree.current(Z)?.set(ve)}),$}default:G(g)}}function R(f,g,y,v,b,x,V){let L=Cg(f,b,x),w=f.createNode(En,{id:g,...v,...L},y,V);S(no(w),"Fail to create stack: the created node should have stack layout");let{stackDirection:O}=L;return aw(f,g,x,b,O),w}function ne(f,g,y){let v=f.tree;if(!Te(f,g))return;let b=v.sortVisually(v.withoutDescendants(g)),x=b[0]?v.getParent(b[0].id):null,V=x&&Po(x),L=V?f.tree.getNode(x.originalid):x,w=!0,O=V?b.map(_e=>{if(!_t(_e))return _e;let qe=f.tree.getNode(_e.originalid);return S(qe,"Fail to create a wrapping frame: the original node must exist"),w&&(w=!qe.cache.visible),qe}):b,$=x?.children.findIndex(_e=>b.includes(_e))??-1,Z=v.newId(),ve=me(v,O,L),Ge=j(f,v,ve,L,O,y===1),Ke=Re(f,y,Z,O[0]?.id,ve,L,$,O,Ge),He=Z;if(V){S(x,"Fail to create a wrapping frame: parentNode should not be null"),S(Qe(x),"Fail to create a wrapping frame: parentNode should be a replica node"),w&&mg(f,Ke,x,L);let _e=ze.getReplicaForTemplateNode(f.tree,x);S(_e,"Fail to create a wrapping frame: replica must exist");let qe=me(v,b,x),Vt=j(f,v,qe,x,b,y===1);gl(v,_e,Ke.id,Vt),ze.replicaWithChanges(f.tree,_e.draftOrCurrent());let pt=Yo(_e.id,Z);He=pt;let ot=f.tree.get(pt);if(S(ot&&mt(ot),"Fail to create a wrapping frame: replica wrapping node should exist and should have the `children` field"),y===0||y===2)b.forEach(bo=>{let mo=Mi(v,bo,x,ot);f.tree.current(bo)?.set(mo)});else if(y===1){S(Fe(Ke),"Fail to create a wrapping frame: the wrapping node should be a FrameNode"),S(no(Ke),"Fail to create a wrapping frame: the wrapping node should have stack layout");let bo=Cg(f,b,qe);gl(v,_e,Ke.id,bo),nw(f,Ke,bo.stackDirection,b,qe)}}return f.stores.selectionStore.set(He),Z}function ae(f){return Ys(f)||Ee(f)||lt(f)||an(f)||Nn(f)||et(f)?!1:_t(f)?Ir(f):!0}function Te(f,g){if(g.length===0)return!1;switch(f.tool.enum){case 4:case 5:case 10:break;default:return!1}if(!g.every(V=>ae(V)))return!1;let y=f.tree,v=y.withoutDescendants(g),[b,x]=v.reduce(([V,L],w)=>{let O=y.isInlineVectorNode(w)||!jt(w)&&!lt(w),$=v[0]?y.getParentId(v[0]):void 0,Z=y.getParentId(w);return[V&&$===Z,L&&O]},[!0,!0]);return b&&x}Kn.wrappingEnabled=Te;function gt(f){return f.some(mr)}Kn.overflowEnabled=gt;function yt(f){f.stores.chromeStore.removePanelOverrides(),f.stores.chromeStore.chromeIsVisible=!0,f.stores.chromeStore.pagesExpanded=!0,f.stores.chromeStore.contentPanelTab="Pages";let g=new Set(f.stores.scopeStore.getDesignPageNodes().map(v=>v.resolveValue("name")??"")),y=f.createNode(vN,{name:Mo("Design",g,{startIndex:g.size+1,omitCountIfFirst:!0})},f.tree.root.id);return f.stores.scopeStore.select(y.id,{keepHistory:!1}),f.scheduler.runAtEndOfFrame(()=>_p(y.id)),y.id}Kn.createDesignPage=yt;function be(f){f.stores.chromeStore.removePanelOverrides(),f.stores.chromeStore.chromeIsVisible=!0,f.stores.chromeStore.pagesExpanded=!0,f.stores.chromeStore.contentPanelTab="Pages";let g=new Set(f.stores.scopeStore.getCanvasPageNodes().map(x=>x.resolveValue("name")??"")),y=f.createNode(Vb,{name:Mo("Canvas",g,{startIndex:g.size+1,omitCountIfFirst:!1})},f.tree.root.id),v=IN("iPhone_390_844"),b=f.createFrame(y.id,{width:v.screenWidth,height:v.screenHeight,name:v.title,framePreset:v.id,isScreen:!0});f.stores.codeGenerationStore.updateComponent(b.id).catch(vr),f.stores.scopeStore.select(y.id,{keepHistory:!1}),rR({pageId:y.id}),f.scheduler.runAtEndOfFrame(()=>_p(y.id))}Kn.createCanvasPage=be,Kn.toggleContentManagementScope=f=>{let{chromeStore:g,selectionStore:y,scopeStore:v,analyticsStore:b,siteSettingsStore:x,codeEditorStore:V}=f.stores,L=g.mainView;if(L===2){v.selectPreviousActiveScope();return}switch(L){case 0:f.cancelTool();break;case 5:g.setLocalizationsVisible(!1);break;case 6:b.close();break;case 4:x.close();break;case 1:V.closeEditor();break;case 3:break;default:G(L)}let w=f.tree.getContentManagementNode()?.loaded;if(w&&w.children.length>0){let O=v.active,$=y.nodes.at(0);v.select(w.id,{keepHistory:!1});let Z=T_(f,O,$);if(Z){y.set(Z);return}if(y.ids.length===0){let ve=w.children[0];ve&&y.set(ve.id)}}else du(f.tree),v.select(eh,{keepHistory:!1})};function Nt(f,g){f.stores.chromeStore.chromeIsVisible=!0,f.stores.scopeStore.select(eh,{keepHistory:!1}),f.stores.selectionStore.set(g)}Kn.openContentCollection=Nt;function Xt(f,g,y,v){f.stores.modalStore.set({type:"CreateComponent",source:g,onSuccess:b=>{let x=b.resolveValue("name");if(We(x)||We(ob.get(f.tree)))return;let V=qp(f.tree,x,y??Cl);pa(f.tree,V,b.id),v?.(b)}})}Kn.makeComponent=Xt;function ro(f,g){return lO(f,g)}Kn.canMakeComponent=ro;function Sr(f,g){if(g.length!==1||un(f.stores.scopeStore.active))return;let y=g[0];y&&Uc(y)&&ze.canMakeMaster(y)&&f.tree.current(y)?.set({isMaster:!0,replicaInfo:null,originalid:null})}Kn.makeMaster=Sr;function sr(f,g){for(let y of g)if(y.originalid&&Qe(y)&&ze.overrideKeys(f,[y]).size>0)return!0;return!1}Kn.canResetToMasterValues=sr;function uo(f,g){for(let y of g){if(!y.originalid)continue;let b=ze.getReplicaForTemplateNode(f,y);b&&ze.resetOverrides(f,b,y)}}Kn.resetToMasterValues=uo;function lr(f,g,y){for(let v of g){if(!Qe(v))continue;let b=ze.getReplicaForTemplateNode(f,v);b&&ze.resetOverridesByProperty(f,b,v,y)}}Kn.resetPropertiesToMasterValues=lr;function Ho(f,g){if(g.length===0)return!1;for(let y of g){if(xo(y))return!1;if(ld(y)){let v=f.tree.getScopeNodeFor(y);if(!v)return!1;if(ue(v)){let{hover:b,pressed:x}=v.getGesturesForTopLevelVariant(y);return!(b||x)}return z(v)&&!Ce(y)}if(Ot(y))return!0}return!1}Kn.canDetachFromMaster=Ho;function Gs(f,g){let y=new Map;g.filter(Ot).forEach(b=>{if(!KE(b,{allowVariants:!0}))return;let x=b.clone({parentid:null});x.replicaInfo=null,iv(x)&&(x.isVariant=void 0);for(let w of x.walk())w.originalid=null;S(b.id!==x.id),f.tree.insertNode(x);let V=f.tree.getParent(b.id)||f.stores.scopeStore.active,L=V.children.indexOf(b);f.tree.removeNode(b),f.moveNode(x.id,V.id,L),f.tree.current(x)?.set(x.constraintValues()),y.set(b.id,x.id)}),zn(f.tree,f.componentLoader,f.tree.root,y,!1);let v=f.stores.selectionStore.ids.map(b=>y.get(b)??b);return f.stores.selectionStore.set(v),y}Kn.detachFromMaster=Gs;function Qn(f,g){if(!La(g))return;let y=_o(g);g.filter(Jr).forEach(b=>b.set({visible:!y})),f.stores.treeStore.setHighlight(ao)}Kn.visibility=Qn;function La(f){return f.some(Jr)}Kn.visibilityEnabled=La;let _o=f=>f.every(g=>g.isVisible());function qr(f){return _o(f)?"Hide":"Show"}Kn.visibilityTitle=qr;function Da(f,g){let y=f.withoutDescendants(g);if(!Ai(y))return;let v=!Lc(y),b=new Set;for(let x of y){if(!Yi(x))continue;let V=x.cache.lockedByParent,L=v===V?void 0:v;x.set({locked:L});for(let w of x.descendants())b.add(w)}for(let x of b)Yi(x)&&x.locked!==void 0&&x.set({locked:void 0})}Kn.toggleLock=Da;function Ai(f){return f.some(Yi)}Kn.toggleLockEnabled=Ai;function Lc(f){return f.some(g=>Yi(g)&&hn(g))}function xC(f){return Lc(f)?"Unlock":"Lock"}Kn.toggleLockTitle=xC;function Dc(f){return f.every(fr)}Kn.copyURLEnabled=Dc;function Fc(f){return f.length>0&&f.every(b=>Fa(b))?`Remove ${f.length>1?"Viewboxes":"Viewbox"}`:`Remove ${f.length>0&&f.find(b=>!Br(b))===void 0?"Stack":"Frame"}${f.length>1?"s":""}`}Kn.removeFrameTitle=Fc;function PC(f,g){Ei(f,g)&&eO(f,g)}Kn.removeFrame=PC;function Ei(f,g){if(g.length===0)return!1;let y=f.stores.scopeStore.active.id;return g.every(v=>{if(!Fe(v)&&!Br(v)&&!Fa(v)||!v.children||v.children.length===0||Jo(v)||Ot(v)||_t(v)&&!Ir(v))return!1;let b=f.tree.getParent(v.id);if(!b)return!0;for(let x of v.children)if(!Df(f.tree,b,x,y,f.componentLoader))return!1;return!0})}Kn.removeFrameEnabled=Ei;function Fa(f){return $e(f)&&!fr(f)}function VC(f,g){g.forEach(y=>{let v=f.getParentSizeInfo(y);if(y.intrinsicWidth!==null&&y.intrinsicHeight!==null){let b={width:y.intrinsicWidth,height:y.intrinsicHeight},x=b.width/b.height;if(Ys(y))y.set(aP(y,b,{aspectRatio:x}),f);else if(mi(y)&&y.aspectRatio){y=y.set({aspectRatio:null},f);let V=y.updateForSize(b,v);V.aspectRatio=x,y.set(V,f)}else y.set(y.updateForSize(b,v),f)}})}Kn.resetToIntrinsicSize=VC;function Mi(f,g,y,v){let b=f.getRect(g),x=f.getOriginPoint(g),V=f.convertPointToCanvas(g,{x:b.width*x.x,y:b.height*x.y});if(v){let $=f.transformMatrixToNode(v),Z=Nl(v)?$:St.flatProjectionMatrix($);V=St.convertPoint(Z.inverse(),V)}let L={...b,x:V.x-b.width*x.x,y:V.y-b.height*x.y},w=g.updateForRect({rect:L,parentSizeInfo:f.getParentSizeInfo(g,v),constraintsLocked:!1,shouldGuessPinToBottom:v?oa(f,g,v):!0,shouldGuessPinToRight:Qr(f,g,v)});if(Br(v)||(w.widthType===3&&(w.widthType=0,w.width=b.width),w.heightType===3&&(w.heightType=0,w.height=b.height)),xr(g)){let $=g.resolveValue("rotation")-YM(f,y,v);$!==0&&(w.rotation=$)}return v&&Co(v)&&!lo(g)&&!jr(g)&&(w.top=null,w.left=null,w.bottom=null,w.right=null),Object.assign(w,os(g,v)),w}Kn.convertNodeToNewParentUpdate=Mi;function kC(f,g,y,v,b=-1,x){let{tree:V}=f,L=g;if(_t(g)&&(L=Sn(V,g),!L))return null;let w=v;if(v&&Qe(v)&&(w=Sn(V,v),!w))return null;let O=y;if(y&&Qe(y)&&(O=Sn(V,y),!O))return null;let $=Mi(V,x??L,_t(g)?O:y,_t(g)?w:v);if(f.tree.current(L)?.set($),f.moveNode(L.id,w?w.id:f.stores.scopeStore.active.id,b),L.id!==g.id){S(y,"Current parent must exist when editing variants");let ve=ze.getReplicaForTemplateNode(V,y);S(ve,"The current parent should located in a variant node");let Ge=v?ze.getReplicaForTemplateNode(V,v):null;if(ve.id===Ge?.id){let Ke=Mi(V,g,y,v);V.current(g)?.set(Ke)}}return{originalNode:L,originalCurrentParent:O,originalNewParent:w}}Kn.convertNodeToNewParent=kC;function Ac(f,g){if(!oi(f)&&!hn(f)&&(g.push(f.id),!!f.children))for(let y of f.children)Ac(y,g)}function Ec(f,g){let y=new Set;return g.forEach(v=>{let b=f.getParent(v.id);b&&y.add(b.id)}),y}function Uj(f,g){let y=f.withoutDescendants(f.getNodes(g));return Ec(f,y).size>0}Kn.canSelectAncestor=Uj;function Jj(f,g){RC(f,g,"parent")}Kn.selectParent=Jj;function Xj(f,g){RC(f,g,"groundNode")}Kn.selectGroundNode=Xj;function RC(f,g,y){let{tree:v}=f,b=v.withoutDescendants(v.getNodes(g)),x=null;if(y==="groundNode"){let $=new Set(b.map(Z=>v.getGroundNodeFor(Z).id));$.size>0&&(x=Array.from($))}else{let $=Ec(v,b);$.size>0&&(x=Array.from($))}if(!x)return!1;let{selectionStore:V,overlayStore:L,treeStore:w}=f.stores;V.set(x,{sticky:!0,switchToLayers:!0,switchToProperties:!0});let O=b.length===1?b[0]:null;return O&&L.activeOverlays.has(O.id)&&L.exitEditMode(V,!1),w.setHighlight(null),!0}Kn.selectAncestor=RC;function Zj(f,g){let y=f.tree,v=[];if(f.tool.selectAll){f.tool.selectAll();return}else{let b=g.map(x=>{let V=y.get(x);if(jt(V)){let w=Vx(y,V);return w&&y.isGroundNode(w)?w.id:ao}let L=y.getGroundFrameAncestor(x,!0);return L!==null?L.id:ao});if(new Set(b).size===1&&b[0]!==null){let x=b[0];v=y.getSubtreeNodes(x).filter(V=>hn(V)?!1:V.id!==x).map(V=>V.id)}if(v.length===0)for(let x of f.stores.scopeStore.active.children)Ac(x,v)}f.stores.selectionStore.set(v)}Kn.selectAll=Zj;function Qj(f,g){let y=new Set;for(let v of g){let b=f.tree.get(v);if(!b)continue;let x=f.tree.getSiblingsIncludingSelf(b);for(let V of x)y.add(V.id)}f.stores.selectionStore.set(y)}Kn.selectAllSiblings=Qj;function Kj(f,g){return f.tree.getNodes(g).some(y=>mt(y)&&y.children.length>0)}Kn.canSelectChildren=Kj;function qj(f,g){let y=new Set;for(let v of g){let b=f.tree.get(v);if(!b)continue;let x=es(b);for(let V of x)y.add(V.id)}y.size>0&&f.stores.selectionStore.set(y)}Kn.selectAllChildren=qj;function Yj(f,g){let y=g.length>0?f.tree.getNodes(g):f.stores.scopeStore.active.getGroundNodes(),v=[];y.map(L=>{Xe(L)?v.push(...f.tree.getSiblingsIncludingSelf(L)):v.push(L)});let b=new Set,x=new Set,V=L=>{if(!b.has(L.id)){if(Xe(L)&&x.add(L.id),L.children)for(let w of L.children)V(w);b.add(L.id)}};for(let L of v)V(L);f.stores.selectionStore.set(x)}Kn.selectAllTextNodes=Yj;function eU(f,g){let[y]=f.tree.getNodes(g);if(!y||!Xe(y))return;let v=[],b=Pe(y)?Pn(y.getTextStylePresets(!1)):void 0,x=Pn(y.getFonts(!1)),V=Pn(y.getFontSizes(!1).map(w=>ai(w)?Gr(...w):te(w)?Gr(w,"px"):w)),L=Pn(y.getTextColors(!1));if(!(qs(b)||js(b))&&!(qs(x)||js(x))&&!(qs(V)||js(V))&&!(qs(L)||js(L))){for(let w of f.stores.scopeStore.active.walk())Po(w)||!Xe(w)||(Pe(w)?Pn(w.getTextStylePresets(!1)):void 0)!==b||Pn(w.getFonts(!1))!==x||Pn(w.getFontSizes(!1).map(Ge=>ai(Ge)?Gr(...Ge):te(Ge)?Gr(Ge,"px"):Ge))!==V||Pn(w.getTextColors(!1))!==L||v.push(w);f.stores.selectionStore.set(v)}}Kn.selectAllTextNodesWithSameFontStyles=eU;function tU(f,g){let y=f.tree.getNodes(g);S(g.length===1,"Cannot have multiple layers selected");let[v]=y;if(!v||!Fe(v))return;let b=[],V=Hv(f.tree,v.id)??f.stores.scopeStore.active;for(let L of V.walk())Fe(L)&&QM(v,L,f.tree)&&b.push(L);f.stores.selectionStore.set(b)}Kn.selectAllLayersWithSameFill=tU;function QM(f,g,y){if(Nr(f)&&!f.fillEnabled||Nr(g)&&!g.fillEnabled)return!1;let{fillType:v}=f;if(v!==g.fillType||v===void 0)return!1;switch(v){case"color":return!A(f.fillColor)||!A(g.fillColor)?!1:Oa.equals(hg(f.fillColor,y,void 0),hg(g.fillColor,y,void 0));case"linear-gradient":return f.fillLinearGradient&&g.fillLinearGradient?f.fillLinearGradient.equals(g.fillLinearGradient):!1;case"radial-gradient":return f.fillRadialGradient&&g.fillRadialGradient?f.fillRadialGradient.equals(g.fillRadialGradient):!1;case"conic-gradient":return f.fillConicGradient&&g.fillConicGradient?f.fillConicGradient.equals(g.fillConicGradient):!1;case"image":return f.fillImage===g.fillImage;default:G(v)}}function wC(f){return f.some(g=>zd(g)?_t(g)?!Ir(g):!1:!0)}function Aa(f){let g={};return f.forEach(y=>{let v=y.parentid?y.parentid:il,b=g[v];b||(b=[],g[v]=b),b.push(y)}),g}function LC(f,g,y){let v=f.tree;for(let b in g){let x=b===il?v.root:v.get(b);if(!x||!g[b])continue;let V=v.sortVisually(g[b]);y==="back"&&V.reverse();let L=y==="front"?-1:0,w=Po(x)&&Jc(x);V.forEach(O=>{let $=O.originalid?v.get(O.originalid):O;S($,"Cannot send",O.id,"backward/forward: original node must exist."),w&&zd($)?Af($.id,x,L):f.tree.moveNodeIndex($,L)})}}function KM(f,g,y){let v=f.tree.getParent(y.id);if(!v)return null;let b=v.children.indexOf(y),x=g==="backward"?b-1:b+1,V=v.children[x];if(!V||!hi(V))return null;let L=f.tree.convertFrameToCanvas(y),w=f.tree.convertFrameToCanvas(V);if(g==="backward")return{...L,y:w.y};let O=w.height-L.height;return{...L,y:w.y+O}}function qM(f,g,y){let v=KM(f,g,y),{canvasStore:b}=f.stores;!v||de.containsRect(b.getCanvasVisibleRectTakingOverlaysIntoAccount(),v)||b.zoomToCenter(v,{zoom:b.zoom,maxZoom:.5,animated:!0})}function DC(f,g,y){let v=f.tree,b=Object.keys(g).length===1;for(let x in g){let V=x===il?v.root:v.get(x);if(!V||!mt(V))continue;let L=Po(V)&&Jc(V),w=g[x],O=b&&w?.length===1,$=Rn(V)?V.getChildrenInVisualOrder():V.children,Z=!1;for(let ve=0,Ge=$.length;ve<Ge;ve++){let Ke=y===1?Ge-ve-1:ve,He=$[Ke];if(!w?.includes(He))Z=!0;else if(Z)if(L&&zd(He))S(He.originalid,"Cannot send nodes: nodes in a replica variant parent must have originalid."),Af(He.originalid,V,Ke+y);else{O&&nu(v,He)&&qM(f,y===-1?"backward":"forward",He);let qe=He.originalid?v.get(He.originalid):He,Vt=V.originalid?v.get(V.originalid):V;S(qe,"Cannot send node",He.id,": original child node does not exist."),S(Vt,"Cannot send node",V.id,": original parent node does not exist."),f.moveNode(qe.id,Vt.id,Ke+y)}}}}function FC(f,g,y){for(let v in g){let b=v===il?f.root:f.get(v);if(!b||!mt(b))continue;let x=g[v],V=Rn(b)?b.getChildrenInVisualOrder():b.children,L=!1;for(let w=0,O=V.length;w<O;w++){let $=y===1?O-w-1:w,Z=V[$];if(!x?.includes(Z))L=!0;else if(L)return!0}}return!1}function YM(f,g,y){let v=0,b=0;return g&&(v=f.totalAncestorRotation(g)),y&&(b=f.totalAncestorRotation(y)),Math.round(b-v)}function oU(f){if(f.length!==1)return!1;let g=f[0];return g&&Ss(g)&&!g.originalid}Kn.reversePathDirectionEnabled=oU;function rU(f,g){let y=f.current(g);y&&y.set({pathSegments:vo.reverse(y.pathSegments)})}Kn.reversePathDirection=rU;function nU(f,g){let y=Zl(g,f);return y.length===0?!1:y.every(v=>jt(v)&&!v.originalid&&es(v).length>0)}Kn.canUngroup=nU;function eO(f,g){if(g.length===0)return;let y=f.tree,v=y.sortVisually(Zl(g,y)),b=y.withoutDescendants(v),x=[];return b.forEach(V=>{if(!mt(V))return;let L=V,w=null;if(_t(V)){if(L=Sn(y,V),!L)return;w=ze.getReplicaForTemplateNode(y,V)}let O=y.getParent(V.id);if(V.children.length>0){let $=y.getIndex(V),Z=L?.id??V.id;[...es(V)].forEach((Ge,Ke)=>{let He=Ge;if(_t(Ge)&&(He=Sn(y,Ge),!He))return;if(ct(He)){y.removeNode(He);return}let _e=O,qe=_e;if(_e&&Qe(_e)&&(qe=Sn(y,_e),!qe))return;let Vt=Kn.convertNodeToNewParentUpdate(y,He,L,qe);if(f.moveNode(He.id,qe?.id??null,$+Ke,Z),f.tree.current(He)?.set(Vt),Z=He.id,w){let pt=Kn.convertNodeToNewParentUpdate(y,Ge,V,_e);f.tree.current(Ge)?.set(pt)}x.push(Ge.id)}),f.deleteNode(L.id)}}),f.stores.selectionStore.set(x),x}Kn.ungroup=eO;function iU(f,g){return!g.hasPreferredSize(f.componentLoader)}Kn.canSetDefaultSize=iU;function aU(f,g){if(g.hasPreferredSize(f.componentLoader))return;let y=g.getPreferredSize(f.componentLoader),v={aspectRatio:null};y.width==="auto"?(v.width=1,v.widthType=2):te(y.width)&&(v.width=y.width,v.widthType=0),y.height==="auto"?(v.height=1,v.heightType=2):te(y.height)&&(v.height=y.height,v.heightType=0),Ve(g)&&te(g.top)&&te(g.bottom)&&(v.bottom=null),Ve(g)&&te(g.left)&&te(g.right)&&(v.right=null),Qw(g,v,"context_menu_default_size_item"),g.set(v,f.tree)}Kn.setDefaultSize=aU;function tO(f,g){if(!f.stores.toolStore.isDefaultToolActive)return!1;let y=Zl(g,f.tree);return y.length===0?!1:y.every(v=>jt(v)&&!v.originalid)}Kn.canJoinInGroup=tO;function sU(f,g){let y=f.tree;if(S(g.length>0,"No nodes"),!tO(f,g))return;let v=Zl(g,y),b=y.sortVisually(y.withoutDescendants(v)),x=b[0],V=x?y.getParent(x.id):void 0,L=V?V.id:ao,w=x?y.getIndex(x):void 0,O=y.newId();f.createShapeGroup(L,{id:O},w),b.forEach($=>{let Z=Kn.convertNodeToNewParentUpdate(y,$,y.getParent($.id),V);f.moveNode($.id,O),f.tree.current($)?.set(Z)}),f.stores.selectionStore.set(O)}Kn.joinInGroup=sU;function lU(f,g){if(g.originalid)return null;let y={width:g.width,height:g.height},v=dw(g.svg,Cp.createEmpty,y,g);if(v){v.name=g.name||g.originalFilename,v.parentid=g.parentid;let b=f.cloneNode(v),x=g.parentid===null,V=x?"rgb(255,255,255)":"transparent",{aspectRatio:L,...w}=g.constraintValues();f.tree.current(b)?.set({...w,width:v.width,height:v.height,fillEnabled:x,fillColor:V});let O=f.tree.getParent(g.id);if(O!==null&&mt(O)){let $=O.children.indexOf(g);f.moveNode(b.id,O.id,$)}return AC(f,b.id,y),f.deleteNode(g.id),b.id}return null}Kn.convertSVGToShape=lU;function AC(f,g,y){let v=f.tree.get(g);if(!$e(v))return;let b=v.width>=v.height?"width":"height",x=b==="width"?"height":"width",V=y[b]/v[b];if(V===1)return;nM(f,[v],V,iM(f,[v]),oO(v));let L=f.tree.current(v);S(L,"Node must exist after scaling");let w=y[x]-L[x];if(w===0)return;L.set({[x]:y[x]});let O=x==="width"?"x":"y";for(let $ of L.children){let Z=f.tree.current($);!Z||!Hd(Z)||Z.set({[O]:Z[O]+w/2})}}Kn.scaleVector=AC;function oO(f){let g=f.constraints(),y=0,v=0;return g.top===!1&&g.bottom===!1?v=.5:g.top===!1&&(v=1),g.left===!1&&g.right===!1?y=.5:g.left===!1&&(y=1),{x:y,y:v}}function cU(f,g){if(g.length>1)return!1;let y=ze.getReplicaForTemplateNode(f,g[0]);if(!y)return!1;let v=ze.getMaster(f,y);if(oi(v))return!1;for(let b=0,x=g.length;b<x;b++){let V=g[b];if(ze.overrideKeys(f,[V]).size>0)return!0}return!1}Kn.canUpdateMasterFromInstance=cU;function dU({tree:f},g){function y(w,O){for(let $ of["id","update","cache","children","mutable","parentid","originalid","isMaster","isVariant","isBreakpoint","replicaInfo","duplicatedFrom","gesture"])delete w[$];if(O)for(let $ of ze.positionKeysToIgnore)delete w[$];return w}function v(w,O){let $;if(O)for(let Z of ze.positionKeysToIgnore)w[Z]!==void 0&&($=$||{},$[Z]=w[Z]);return w.gesture&&($||($={}),$.gesture=w.gesture),$}let b=ze.getReplicaForTemplateNode(f,g[0]);if(!b)return;let x=ze.getMaster(f,b);if(oi(x))return;let V={...b.replicaInfo.overrides},L={...b.replicaInfo,overrides:V};for(let w=0,O=g.length;w<O;w++){let $=g[w];if(!$?.originalid)continue;let Z=f.get($.originalid),ve=y($.raw(),Ot($));Z?.set(ve);let Ge=v(V[$.originalid]??{},Ot($));Ge?V[$.originalid]=Ge:delete V[$.originalid]}b.asDraft().replicaInfo=L}Kn.updateMasterFromInstance=dU;function pU(f,g){let y=EC(f,g);return!y||Xm(y)?0:NS(y)?2:1}Kn.canGoToMaster=pU;let EC=(f,g)=>{let y=null;for(let b=0,x=g.length;b<x;b++){let V=g[b],L=ze.getReplicaForTemplateNode(f,V);if(L){if(!y)y=L.originalid;else if(y!==L.originalid)return null}}if(!y)return null;let v=f.get(y);return!v||!Jo(v)?null:v};function uU(f,g){if(g.length===1){let v=f.tree.getNode(g[0]?.originalid);if(!v)return;MC(f,v);return}let y=EC(f.tree,g);y&&(ze.showMaster(f.tree,y),MC(f,y))}Kn.goToMaster=uU;function MC(f,g){let y=f.tree.getScopeNodeFor(g),v=f.stores.scopeStore.active;Jo(g)&&ze.showMaster(f.tree,g),y===null&&(f.moveNode(g.id,v.id),y=v),f.stores.scopeStore.select(y.id,{keepHistory:!1}),f.stores.selectionStore.set(g);let b=f.tree.convertFrameToCanvas(g);f.stores.canvasStore.scrollToCenter(de.center(b))}Kn.showNodeOnCanvas=MC;function mU(f,g){f.exitMode(),f.stores.modalStore.set({type:"CodeFileCreation",source:"main_menu",creationType:"Component",parentId:g})}Kn.createCodeComponent=mU;function fU(f){f.exitMode(),f.stores.modalStore.set({type:"CodeFileCreation",source:"main_menu",creationType:"Override"})}Kn.createCodeOverride=fU;function hU(f,g,y,v,b,x,V,{id:L,gesture:w,overrides:O,overrideSize:$,variantName:Z,viewportHeight:ve,selectAndCenter:Ge=!0}={}){w&&S(ld(x),"gesture variant should inherit from top level variant");let Ke=b.getPrimaryVariant(),He=null;if(!w){let Vt=new Set(b.getTopLevelVariants().map(pt=>pt.resolveValue("name")??""));Z?He=Mo(Z,Vt):He=Mo(Ce(x)?"Breakpoint":"Variant",Vt,{startIndex:Vt.size+1,omitCountIfFirst:!1})}if(O||(O=w?void 0:x.replicaInfo?.overrides),He&&Ce(x)){let Vt=qR(f,g,He,x);Vt&&(O?O=Zi(Vt,O):O=Vt);let pt={};x.children.forEach(ot=>{if(!Jc(ot)||Ve(ot)&&ot.widthType===2||!(ot.originalid?g.tree.getNode(ot.originalid):ot))return;let mo=g.tree.getRect(ot);cP(g.tree,ot,mo,x,V.width,pt)}),O||(O={}),O=Zi(O,pt)}let _e=ze.create(g.tree,Ke,{owner:L,overrides:O,inheritsFrom:w?x.id:void 0,duplicatedFrom:hl(x)});if(g.tree.insertNode(_e,b.id,-1),!_e)return;let qe={top:V.y,left:V.x,gesture:w,isBreakpoint:di(b)?!0:void 0,name:He};if(ve&&(qe.viewportHeight=ve),$&&(qe.width=V.width,qe.widthType=0,Ce(_e)||(qe.height=V.height,qe.heightType=0)),_e.set(qe),ue(b)){let Vt=hs(w)?"variant":w??"variant";aR({variantId:_e.id,variantType:Vt,componentId:b.id})}else Ce(_e)&&It("breakpoint_create",{scopeId:b.id,breakpointId:_e.id,width:_e.width});return Ge&&(y?.set(_e.id),v?.scrollToCenter(de.center(V))),_e}Kn.createVariant=hU;function rO(f,g){return f.filter(y=>rs(y)?Db(y)!==g:Kr(y)?GR(y)!==g:!0)}function gU(f,g,y){for(let v of g.walk()){let b=Ud(f.componentLoader,v);for(let[x,V]of Object.entries(b)){let L=rO(V,y);if(L.length!==V.length){if(Kt(v))f.tree.current(v)?.set({[x]:L});else if(J(v)){let w={type:"eventhandler",value:L};f.tree.current(v)?.set({[x]:w})}}}}}Kn.removeActionsWithTarget=gU;function yU(f,g){let y=f.tree.getParent(g.id)||f.stores.scopeStore.active;if(Qe(y))return!1;let v=f.stores.treeStore.getPartialIndexes();return g.codeComponentIdentifier in v.localSmartComponentNameByIdentifier}Kn.canDetachVariantInstance=yU;function CU(f,g,y,v){if(!y)return null;let b={...Yp(g,f.componentLoader),...Yw(f.componentLoader,g)},x=new Map;y.getTopLevelVariants().forEach(pt=>x.set(pt.id,pt));let V=A(b.variant)&&x.get(b.variant)||y.getPrimaryVariant();S(Fe(V),"Variant must be a frame node");let L=f.tree.getParent(g.id)||f.tree.getScopeNodeFor(g)||f.stores.scopeStore.active;if(Qe(L))return null;let w=new Map,O=ql(V,new Map,new Map,w);w.set(g.id,O.id);let $=f.tree.getScopeNodeFor(L);if(z($)||ue($)){let pt=$.getTopLevelReplicaVariants();for(let ot of pt){let bo=Yo(ot.id,g.id),mo=f.tree.getNode(bo);if(!mo||!J(mo))continue;let vn=mo.getResolvedControlPropValues(f.componentLoader).variant;if(!A(vn))continue;if(v){let At=v.get(vn);At&&(vn=At)}let wo=A(vn)?x.get(vn):void 0;if(!wo||!Fe(wo)||!Ee(wo))continue;let Le=bs(Kw(wo,f.tree,f.componentLoader,mo,y.id),w),cr={},Mt=w.get(V.id)??V.id;if(tl(wo)){let At=bs(wo.replicaInfo.overrides,w,!0);Object.assign(cr,{...At,[Mt]:qw(At[Mt]??{})})}let kt=Zi(Le,cr);if(tl(wo)){let{opacity:At,rotation:qn}=ot.replicaInfo.overrides?.[g.id]||{};pu(kt[Mt]??{},{opacity:At,rotation:qn})}else if(ot.replicaInfo.overrides?.[g.id]){let{opacity:At,rotation:qn}=wo;pu(ot.replicaInfo.overrides[g.id]??{},{opacity:At,rotation:qn})}let Ft={};mo.heightType===2&&(Ft.heightType=wo.heightType,Ft.height=wo.height),mo.widthType===2&&(Ft.widthType=wo.widthType,Ft.width=wo.width),f.tree.current(ot)?.set({replicaInfo:{...ot.replicaInfo,overrides:Zi({...ot.replicaInfo.overrides,[g.id]:{}},{...kt,[Mt]:{...ot.replicaInfo.overrides[g.id],...kt[Mt],...Ft}})}})}}let Z=ou(f.tree,f.componentLoader,g,O,L);pu(Z,{opacity:q(V.opacity)?b[V.opacity.id]:V.opacity,rotation:q(V.rotation)?b[V.rotation.id]:V.rotation});let ve=g.constraintValues(),Ge=V.constraintValues();ve.widthType===2&&Ge.widthType!==2&&(ve.widthType=Ge.widthType),ve.heightType===2&&Ge.heightType!==2&&(ve.heightType=Ge.heightType),O.set({...ve,...Z,...L?ui(g):void 0,isVariant:!1,isMaster:!1,gesture:void 0,replicaInfo:null,originalid:null,name:g.name??Mn(f.componentLoader,g)});let Ke=qN(y),He=new Map([...Ke??[],...Object.entries(b)]),_e=new Map;_e.set(y.id,He);let qe={};for(let pt of O.walk()){if(pt.originalid=null,ns(pt))for(let[ot,bo]of Object.entries(pt.getActions(f.componentLoader)))bo&&pt.set({[ot]:bo.filter(mo=>Rd(mo)||li(mo))});if(He.size>0){let ot=pp(f.tree,y.id,pt,_e,qe);ot&&pt.set(ot)}}S(O.id!==V.id);let Vt=L.children.indexOf(g);f.tree.insertNode(O,L.id,Vt);for(let pt of g.children)ct(pt)&&f.tree.moveNode(pt,qe[pt.id]??O.id);return zn(f.tree,f.componentLoader,L,w,ct(L)||_r(L)),f.deleteNode(g.id),lt(O)&&f.scheduler.runBeforeNextFrame(()=>{f.stores.overlayStore.showOverlay(f.stores.selectionStore,O,O.parentid)}),O}Kn.detachSmartComponentOrWebPageInstance=CU;function SU(f){nO(f,{openLibrary:!0})}Kn.toggleTeamLibrary=SU;function nO(f,{openLibrary:g}={}){let{modalStore:y,popoverStore:v}=f.stores;y.active.type==="QuickActions"?y.dismiss():(f.cancelTool(),v.active=0,y.set({type:"QuickActions",source:"main_menu",initialCategory:g?{type:"TeamLibraryCategory"}:void 0}),g?It("ui_interaction",{page:"main-menu",id:"team-library"}):It("ui_interaction",{page:"main-menu",id:"quick-actions"}))}Kn.toggleQuickActions=nO;function vU(f){return!!Ce(f)}Kn.canCreateBreakpoint=vU;function TU(f,g,y,v,b){let{modalStore:x}=f.stores;x.active.type!=="CustomBreakpoint"&&(f.cancelTool(),x.set({type:"CustomBreakpoint",actionType:g,baseNodeId:y,name:v,width:b,source:"undefined"}))}Kn.showCustomBreakpointModal=TU;function bU(f,g,y,v,b,x,V,L){let w={...v,width:b},O=Kn.createVariant(f.componentLoader,f.stores.treeStore,f.stores.selectionStore,f.stores.canvasStore,y,g,w,{overrideSize:!0,variantName:x,viewportHeight:V,selectAndCenter:L});return S(Ce(O),"Created node is not a breakpoint variant"),O}Kn.createBreakpoint=bU;function iO(f){return f.some(g=>g!==f&&Jo(g))}Kn.containsMaster=iO;function aO(f){return Fe(f)||ri(f)||$e(f)||Xe(f)||qc(f)||wS(f)||Yc(f)}Kn.nodeTypeCanBePrimaryVariantSource=aO;function sO(f,g){return!(!aO(g)||XR(f,g)||Ee(g)||Ot(g)||Jo(g)||iO(g))}Kn.canConvertNodeToSmartComponentPrimaryVariant=sO;function lO(f,g){let y=g.length;if(y===0)return!0;let v=g[0];return S(v,"node must be defined",g),y===1&&sO(f.tree,v)}Kn.canMakeSmartComponent=lO;function cO(f,g){if(g.length!==1)return!1;let v=g[0];if(S(v,"node must be defined",g),!Fe(v)||Qe(v))return!1;let b=f.tree.get(v.parentid);return Ct(b)}Kn.canMakeWebPagePrimaryBreakpoint=cO;async function IU(f,g){if(!cO(f,g))return;let y=g[0];S(y,"node must be defined",g);let v=y.resolveValue("name");return f.createWebPage({primaryBreakpointTemplateId:y.id,shouldRemovePanelOverrides:!1,startEditingPageTitle:!1,preferredPath:v?Wx(v):void 0})}Kn.convertNodeToWebPagePrimaryBreakpoint=IU;function NU(f,g,y="Template",v,b){let x=new En({...Di,...C_(v),isMaster:!0,isVariant:!0,isBreakpoint:!0,widthType:0,heightType:0,width:v?.width??1200,name:v?.name??"Desktop"}),V=new Rx;x.addChild(V);let L=Mo(y,S_(f)),w=new ex({baseVariantId:x.id,name:L});S(w.isLoaded(),"A newly created LayoutTemplateNode must be loaded."),w.addChild(x),f.latestTree().insertNode(w);let O=qp(f,L,b??Sl);return pa(f,O,w.id),It("layout_template_create",{source:g}),w}Kn.createLayoutTemplate=NU;function xU(f,g,y=!0,v=null,b=Gt(),x="context_menu",V=0){let L=new nh({name:g,id:b});if(S(L.isLoaded(),"A newly created VectorSetNode must be loaded"),f.tree.latestTree().insertNode(L),pa(f.tree,v??Ya,L.id),y)for(let O of N_())f.tree.latestTree().insertNode(O,L.id);let w=f.tree.current(L);return S(w,"A newly created VectorSetNode must exist"),f.stores.codeGenerationStore.createVectorSet(w.getVectorSetItems()),It("vector_set_create",{source:x,items:y?3:V}),L}Kn.createVectorSet=xU;async function PU(f,g,y){let v=f.tree.get(y);if(!Qt(v))return;let b=v.isLoaded()?v:await v.load();if(!b)return;let x=b.children.find(fr);if(!fr(x))return;let V=f.tree.getRect(x);f.scheduler.process(()=>{let L=mM(f,g),w=[],O=Nr(x)?{fillEnabled:x.fillEnabled,fillType:x.fillType,fillColor:x.fillColor}:void 0;for(let $ of L){let Z=f.tree.get($);if(!Z)continue;let ve=f.tree.getIndex(Z),Ge=Gl(f.tree,b,Z,V,V.width),Ke=uM(Z,Ge,O);if(fr(Ke)){if(f.tree.insertNode(Ke,b.id),w.push(Ke),AC(f,Ke.id,V),It("vector_set_item_create",{source:"context_menu"}),y!==f.stores.scopeStore.active.id){let He=new ta({...fM(Z),codeComponentIdentifier:Wi("vector",Ke.id,"default").value,width:Z.width,height:Z.height,widthType:0,heightType:0,slotsAreChildNodes:at.isOn("componentSlotsAreChildNodes"),name:Z.name});f.tree.insertNode(He,Z.parentid,ve)}f.tree.removeNode(Z)}}w.length!==0&&(f.stores.scopeStore.select(v.id,{keepHistory:!1}),f.stores.selectionStore.set(w),f.stores.chromeStore.layersExpanded=!0,f.stores.chromeStore.contentPanelTab="Layers",f.stores.codeGenerationStore.createVectorSet(w))})}Kn.addToVectorSet=PU;function VU(f,g,y="Icon Set",v="context_menu"){let b=new nh({name:y});S(b.isLoaded(),"A newly created VectorSetNode must be loaded");let x=mM(f,g),V=0,L=[];for(let w of x){let O=f.tree.get(w);if(!O)continue;let $=f.tree.getRect(O),Z=uM(O,{x:V,y:0});if(!fr(Z))continue;let ve=f.tree.getIndex(O);L.push(Z),b.addChild(Z),V+=$.width*2;let Ge=new ta({...fM(O),codeComponentIdentifier:Wi("vector",Z.id,"default").value,width:O.width,height:O.height,widthType:0,heightType:0,slotsAreChildNodes:at.isOn("componentSlotsAreChildNodes"),name:O.name});f.tree.insertNode(Ge,O.parentid,ve),f.tree.removeNode(O)}f.tree.latestTree().insertNode(b),pa(f.tree,Ya,b.id),f.stores.codeGenerationStore.createVectorSet(L),f.stores.scopeStore.select(b.id,{keepHistory:!1}),f.stores.selectionStore.set(L),f.stores.chromeStore.layersExpanded=!0,f.stores.chromeStore.contentPanelTab="Layers",It("vector_set_create",{source:v,items:x.size})}Kn.createVectorSetFromNodes=VU;function kU(f,g,y,v,b){let x=y.clone({children:[],name:"Vector"}),{scopeStore:V,codeGenerationStore:L,selectionStore:w,canvasStore:O}=f;V.insertNode(x,g.id),S(Ve(x),"Vector must be pinnable."),x.set({top:v.y,left:v.x}),L.createVectorSet([x]),w.set(x.id),O.scrollToCenter(de.center(v)),It("vector_set_item_create",{source:b})}Kn.createVectorSetItem=kU})(y_||={});var Di={height:YN,left:0,top:0,layout:"stack",stackDirection:"vertical",stackAlignment:"center",stackDistribution:"start",stackWrapEnabled:!1,gap:0,padding:0,paddingPerSide:!1,paddingLeft:0,paddingBottom:0,paddingTop:0,paddingRight:0,overflow:"clip"};function C_(e){if(!e||!pr(e)||!Zo(e)||!Nr(e))return;let t=Bd(e),o={gap:e.resolveValue("gap")??Di.gap,padding:t.perSide?Di.padding:t.top,paddingPerSide:t.perSide??Di.paddingPerSide,paddingLeft:t.left??Di.paddingLeft,paddingBottom:t.bottom??Di.paddingBottom,paddingTop:t.top??Di.paddingTop,paddingRight:t.right??Di.paddingRight,fillEnabled:e.resolveValue("fillEnabled"),fillType:e.resolveValue("fillType"),fillColor:e.resolveValue("fillColor"),fillLinearGradient:e.resolveValue("fillLinearGradient"),fillRadialGradient:e.resolveValue("fillRadialGradient"),fillConicGradient:e.resolveValue("fillConicGradient"),fillImage:B(e.fillImage)?void 0:e.fillImage,fillImageOriginalName:e.resolveValue("fillImageOriginalName"),fillImageResize:e.resolveValue("fillImageResize"),fillImagePixelWidth:e.resolveValue("fillImagePixelWidth"),fillImagePixelHeight:e.resolveValue("fillImagePixelHeight"),fillImagePositionX:e.resolveValue("fillImagePositionX"),fillImagePositionY:e.resolveValue("fillImagePositionY"),fillImageTileSize:e.resolveValue("fillImageTileSize")};return Fd(e)&&(o.fillImageAlts=e.fillImageAlts?[...e.fillImageAlts]:void 0),o}function S_(e){let t=new Set;return e.root.children.forEach(o=>{if(!Be(o))return;let r=o.resolveValue("name");r&&t.add(r)}),t}function hM(e){return!(Qo(e)||an(e)||Nn(e))}function hC(e){return!(xo(e)||an(e)||Nn(e)||_t(e))}function v_(e){return Ir(e)&&e.isVisible()?!0:hC(e)}function pM(e){return hM(e)?_t(e)?Ir(e):!0:!1}function Nc(e,t){if(xt(t)){let o=pn(e.tree,t.dataIdentifier);if(o)return o.id}return null}function T_(e,t,o){if(o){let n=Nc(e,o);if(n)return n;for(let i of o.ancestors()){let a=Nc(e,i);if(a)return a}}let r=Nc(e,t);if(r)return r;if(o)for(let n of o.walk()){let i=Nc(e,n);if(i)return i}for(let{node:n,skipChildren:i}of t.walkWithSkipChildren())if(o&&n.id===o.id)i();else{let a=Nc(e,n);if(a)return a}return null}function uM(e,{x:t,y:o},r){if(jt(e)){let n=new Wn({...r,isVectorSetItem:!0,width:e.width,height:e.height,left:t,top:o,name:e.name}),i=e.clone({x:0,y:0});return n.addChild(i),n}return e.clone({...r,isVectorSetItem:!0,left:t,top:o})}function mM(e,t){return new Set(t.map(o=>{if(!o)return null;if($e(o))return o.getPrimaryId();let r=e.tree.getAncestorThatMatches(o,i=>b_(e,i),!0,!0);if(!r)return null;let n=e.tree.getNodeParent(r);return n&&$e(n)?n.getPrimaryId():r.getPrimaryId()}))}function b_(e,t){return jt(t)&&e.tree.isRootVectorNode(t)}function fM(e){return Ve(e)?{top:e.top,bottom:e.bottom,left:e.left,right:e.right,centerAnchorX:e.centerAnchorX,centerAnchorY:e.centerAnchorY,constraintsLocked:e.constraintsLocked}:{top:e.y,left:e.x}}var I_="rgb(0, 153, 255)",mC={fillType:"color",fillColor:I_,fillEnabled:!0},fC={isVectorSetItem:!0,top:0,width:40,height:40,autoSize:!1},N_=()=>{let e=new ch({...mC,x:-3,y:-3,width:46,height:46,polygonSides:3,centered:!0,radius:1}),t=new ch({...mC,x:0,y:0,width:40,height:40,polygonSides:4,centered:!0,radius:1}),o=new oP({...mC,x:2,y:2,width:36,height:36}),r=new Wn({...fC,name:"Triangle"});r.addChild(e);let n=new Wn({...fC,left:80,name:"Diamond"});n.addChild(t);let i=new Wn({...fC,left:160,name:"Oval"});return i.addChild(o),[r,n,i]};function Fi(e,t){return`${e??""}.${t}`}function xc(e,t){return`${e??""}[${t}]`}function Wwe(e){let t=[],o=e.split(".");for(let r of o){let[n,i]=r.split("[");if(n.length!==0&&t.push({type:"object",key:n}),i){let a=i.slice(0,-1);S(a.length>0),t.push({type:"array",id:a})}}return t}var Pc=e=>e;function $we(e){return e.filter(Uo)}var km=p`params`,Rm={type:"siteMetadata",localIdName:"siteMetadata",localId:dr("siteMetadata","siteMetadata")};function SLe(e){return{type:"webPageMetadata",localIdName:e,localId:dr("webPageMetadata",e)}}var vLe=Pc(async(e,t)=>{let{assetMap:o,componentLoader:r,treeStore:n,modulesStore:i}=t,a=new _n(o),s=new Vr,l=new Xr("siteMetadata",r,i,s),c=new Fn(e,s),d=new Dn(s),u=new yn(e,r,l,s,void 0,n,i),m=new Bn(e,n,c,d,s,l,a),h=new Xn(s,c,m,a,u),C=new Va(e,c,n,r,l,s,d,h,i,"siteMetadata"),T=new Mr(r,d,void 0,l,c,C,void 0,h,i,"siteMetadata"),N=yM(e,a,T,c,C,void 0,void 0,void 0);return[{type:"siteMetadata",revision:void 0,source:CM(e,N,l,d,C,T,c,void 0),artifacts:{assets:a.keys}}]}),TLe=Pc(async(e,t,o)=>{let{componentLoader:r,treeStore:n,modulesStore:i,assetMap:a}=t,{serializationId:s}=o,l=new _n(a),c=new Vr,d=new Xr("webPageMetadata",r,i,c),u=new Fn(e,c),m=new Dn(c),h=new yn(e,r,d,c,void 0,n,i),C=new Bn(e,n,u,m,c,d,l),T=new Xn(c,u,C,l,h),N=new Va(e,u,n,r,d,c,m,T,i,"webPageMetadata"),P=new Mr(r,m,void 0,d,u,N,void 0,T,i,"webPageMetadata"),k=e.getVariableControlMap(n.tree,void 0,r,r.activeBundleHash),W=yM(e,l,P,u,N,P_(n.tree,r,e,d),V_(d),k);W.viewport=await k_(e);let M=Object.entries(e.getBreakpointValues()).map(([X,K])=>({hash:Ut(X),mediaQuery:jN(K)}));W.breakpoints=M;let H=hT(e);return W.elements=H,W.serializationId=s,[{type:"webPageMetadata",source:CM(e,W,d,m,N,P,u,k),artifacts:{assets:l.keys},revision:e.moduleSourceRevision}]});function bLe(e,t){let o=new Set;function r(n){let i=Al(),a=n.matchAll(i);for(let[,s]of a)s&&t?.has(s)&&o.add(s)}for(let n in e.webMetadata){let i=n,a=e.webMetadata[i];switch(i){case"title":case"description":case"socialImage":A(a)&&r(a),q(a)&&o.add(a.id);break;case"noIndex":case"noIndexSite":if(!B(a))continue;q(a)?o.add(a.id):Zt(a)?tn(a)&&o.add(a.startValue.id):G(a);break;case"favicon":case"faviconDark":case"appleTouchIcon":case"googleAnalyticsTrackingId":case"reducedMotion":case"language":case"languageTitle":case"adaptLayoutToTextDirection":case"canonicalURL":case"customCanonicalURL":case"rewriteCanonicalHostname":case"rewriteCanonicalPath":case"optOutOfHTMLPlugin":case"automaticLocale":case"preserveQueryParams":case"enableFormsUTMTracking":case"translatePagePaths":case"translatePagePathsWithAI":break;default:}}if(e.titleLocalized)for(let n of Object.values(e.titleLocalized))A(n.value)&&r(n.value);if(e.descriptionLocalized)for(let n of Object.values(e.descriptionLocalized))A(n.value)&&r(n.value);return o}function yM(e,t,o,r,n,i,a,s){let l={},c=n.add(Vm(e,e.webMetadata?.title,o,r,s)??i,e.titleLocalized,(C,T)=>(S(T.variables),Vm(e,e.titleLocalized?.[C]?.value,T.valueTransforms,T.variables,s)));F(c)||(l.title=c);let d=n.add(Vm(e,e.webMetadata?.description,o,r,s)??a,e.descriptionLocalized,(C,T)=>(S(T.variables),Vm(e,e.descriptionLocalized?.[C]?.value,T.valueTransforms,T.variables,s)));if(F(d)||(l.description=d),e.webMetadata?.favicon){let C=t.resolve(e.webMetadata.favicon);S(C,"Favicon is not a valid asset reference"),l.favicon=C.src}let u=e.webMetadata?.socialImage;if(q(u)){let C=Ht(u.id,e.id),T=r.create(C);l.socialImage=o.wrapInToImageSrc(T)}else if(u){let C=t.resolve(u);S(C,"Social image is not a valid asset reference"),l.socialImage=C.src}let m="noindex",h="max-image-preview:large";if(B(e.webMetadata?.noIndex)){let C=gM(e.webMetadata.noIndex,e.id,r,o);l.robots=p`${C} ? ${h} : ${m}`}else e.webMetadata?.noIndex===!0?l.robots=m:l.robots=h;if(!F(e.webMetadata?.noIndexSite))if(B(e.webMetadata?.noIndexSite)){let C=gM(e.webMetadata.noIndexSite,e.id,r,o);l.framerSearch={index:C}}else l.framerSearch={index:!e.webMetadata?.noIndexSite};return l}function gM(e,t,o,r){let n,i;if(q(e)){let a=Ht(e.id,t);n=o.create(a),i=n}else if(Zt(e)){S(tn(e),"Fetch is not supported for no index");let a=Ht(e.startValue.id,t);n=o.create(a),i=n;for(let s of e.transforms)i=r.wrapInValueTransform(i,s,void 0,void 0)}else G(e);return p`${n} !== undefined && ${i} === false`}function x_(e,t,o,r){if(!o||!xt(e))return;let n=r.getBindings(e.id);if(n.size===0)return;let i=new Set(n.keys()),a=t.addImport("framer",{exportSpecifier:"QueryEngine"}),s=t.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"});function l(T){let N=t.addModuleImport(T);return S(N,"Can't import collection"),N}let c=gs(e),d=new Set,u=Tp(o,i,d,c,l),m=vp(e.dataIdentifier,o,d,c,l),h=new Y({from:m,select:u,where:I.fn(s,p`pathVariables`,c)}),C=new Y({from:m,select:u});return p.joinLines(p`export async function fetchMetadata(pathVariables, activeLocale) {`,p`  const queryEngine = new ${a}();`,p``,p`  const query = ${h};`,p``,p`  const result = await queryEngine.query(query, activeLocale);`,p`  if (result.length === 0) {`,p`    throw new Error("No data matches pathVariables");`,p`  }`,p``,p`  const params = result[0];`,p`  return metadata(params, activeLocale);`,p`}`,p``,p`export async function fetchAllMetadata(pathVariableKeys, activeLocale) {`,p`  const queryEngine = new ${a}();`,p``,p`  const query = ${C};`,p``,p`  for (const pathVariableKey of pathVariableKeys) {`,p`    query.select.push({`,p`      collection: ${c},`,p`      name: pathVariableKey,`,p`      type: "Identifier",`,p`    });`,p`  }`,p``,p`  const results = await queryEngine.query(query, activeLocale);`,p``,p`  return results.map(result => ({`,p`    metadata: metadata(result, activeLocale),`,p`    pathVariables: Object.fromEntries(`,p`      pathVariableKeys.map(pathVariableKey => [pathVariableKey, result[pathVariableKey]])`,p`    )`,p`  }));`,p`}`)}function CM(e,t,o,r,n,i,a,s){let l=a.getBindings(e.id),c=[];for(let[m,h]of l){let C=p`${km}?.[${m}]`,T=s?.get(m);if(T&&T.type==="enum"){let P=i.wrapInValueTransform(C,{name:"enumToDisplayName"},T);C=p`${C} !== undefined ? ${P} : undefined`}let N=p`const ${h} = ${C}`;c.push(N)}let d=p.joinLines(p`export default function metadata(${km}, ${fe.activeLocale}) {`,...c,p`return ${t}`,p`}`),u=z(e)?x_(e,o,s,a):void 0;return p.joinSections(p.linesFrom(o.statements),...n.list(),...r.list(),d,u,p`export const metadataVersion = 1`)}function Vm(e,t,o,r,n,i){if(yo(t))return;let a=Al();return it.replaceAll(t,a,(s,l)=>{let[c,d]=cp(l,i);if(!n?.has(c))return s;let u=Ht(c,e.id),m=r.create(u),h=m;return n?.get(c)?.type==="responsiveimage"&&(h=o.wrapInToImageSrc(h)),h=o.wrapInTemplateFilters(h,d),p`${m} !== undefined ? ${h} : ${s}`})}function ILe(e,t,o,r){let n=r?.title,i=Vc(e,t,o);return n||i}function P_(e,t,o,r){let n=r.addImport(`../${Rm.localId}`,{exportSpecifier:"default",importBinding:"siteMetadata"}),i=p`${n}(${km}, ${fe.activeLocale}).title`,a=Vc(e,t,o);return p`${i} || ${a}`}function V_(e){let t=e.addImport(`../${Rm.localId}`,{exportSpecifier:"default",importBinding:"siteMetadata"});return p`${t}(${km}, ${fe.activeLocale}).description`}function Vc(e,t,o){if(xt(o)){let i=t.dataForIdentifier(o.dataIdentifier);if(i?.name)return i.name+" Detail"}let r=oN(e,o);return ms(r??"/")}async function k_(e){let t=e.isLoaded()?e:await e.load();return t?t.getReplicaVariants().length>0?"width=device-width":`width=${t.getPrimaryVariant().width}`:"width=device-width"}function Jt(e,t=!1){let o=(t?ds(e):e).trim();return o===""?0:o.split(/\W+\b/).length}function gC(e){return ue(e)||z(e)||Be(e)}function kLe(e){return gC(e)||Rt(e)||$r(e)||Do(e)||In(e)}function ELe(e){Yt(df(e),"Array gallery control must be Array of Object controls");let t=e.control,o;for(let r in t.controls){Yt(!o,"Multiple item properties found in gallery control");let n=t.controls[r];Yt(n?.type==="responsiveimage"),o=[r,n]}return Yt(o,"Gallery control must have at least one item property"),o}function MLe(e,t){if(!rl(t)||!t.value)return;let o=t.value[e];if(o?.type==="image")return o}function OLe(e){return e?e.filter(t=>!R_(t)):[]}function R_(e){if(!rl(e)||!e.value)return!1;let t=Object.values(e.value);if(t.length!==1)return!1;let o=t[0];return dv(o)?F(o.value):!1}function SM(e){if(!df(e))return!1;let t=Object.values(e.control.controls);return t.length!==1?!1:t[0]?.type==="responsiveimage"}function vM(e){return`${e??"Field"} is required`}function TM(e,t){return`Exceeded max length by ${sI(e-t,"character","characters")}`}function GLe(e){return`Must have at least ${e.minCount} ${bM(e)}`}function HLe(e){return`Must have at most ${e.maxCount} ${bM(e)}`}var _Le="Slug value is already taken and must be unique";function bM(e){return SM(e)?"images":"items"}function yC(e,t){let o=t.getRouteSegmentRootNode().getRouteSegmentIdToRawPathMap(t).get(e.id);return o?ea(o):"Unknown"}function w_(e,t,o){if(e.id===t.root.homePageNodeId)return"Home";let n=Si(t,e);if(!n)return"Unknown";let i=e.dataIdentifier;if(!i)return ea(n);let a=o.dataForIdentifier(i);return a?ea(tN(a,n)):ea(n)}function L_(e,t){let o=t.getParent(e.id);return Rt(o)?hp(o,e)??"Unknown":"Unknown"}function YLe(e,t,o){if(Do(e))return"Site";if(In(e))return yC(e,t);if(Rt(e))return e.resolveValue("name")||"Unknown";if($r(e))return L_(e,t)||"Unknown";if(z(e))return w_(e,t,o);if(ue(e))return e.resolveValue("name")||"Unknown";if(Be(e))return e.resolveValue("name")||"Unknown";G(e,"Invalid localization scope")}function IM(e){let t=cs(e);for(let o of t.querySelectorAll("*"))o.tagName!=="BR"&&(o.removeAttribute("class"),o.removeAttribute("style"),o.removeAttribute("data-styles-preset"));return t.innerHTML}function tFe(e){return e==="hidden"?null:e}var oFe=["new","needsReview","done","hidden"],D_="controlPropKey";function rFe(e){return D_ in e}function nFe(e){return"groups"in e}var F_="collectionNodeId";function iFe(e){return F_ in e}var A_={string:!0,richtext:!0,image:!0,enum:!0,link:!0,slug:!0};function E_(e){return e in A_}function PM(e){return E_(e.type)}var M_={string:!0,richtext:!0,image:!0,link:!0};function VM(e){return e in M_}function O_(e){return e?e.type==="richtext"?!0:e.type==="RichTextNode"?e.textType==="rich-text":!1:!1}function aFe(e){return e?e.type==="image"||e.type==="FrameNode":!1}function sFe(e){return e?e.type==="nodeLink"||e.type==="link":!1}function lFe(e){return e?e.type==="RootNode"||e.type==="WebPageNode":!1}function cFe(e){return e?.type==="slug"||W_(e)}function W_(e){return e?.type==="RouteSegmentNode"}function z_(e){return yo(e)||e===""||qk(e)}function dFe(e,t){if(!e||O_(e))return!1;if(e.value.includes(`
`))return!0;let o=e.localizedValues[t.id];return o?!!o.value?.includes(`
`):!1}function kM(e,t,o){return t?t.hash!==o||t.needsReview?"needsReview":"done":z_(e)?"done":"new"}function zt(e,t,o,r,n,i){return Object.fromEntries(t.map(a=>{let s=o[a.id];if(n?.[a.id])return[a.id,"warning"];if(i){let l=i(a);if(l)return[a.id,l]}return[a.id,kM(e,s,r)]}))}function vC(e){return t=>e[t.id]?null:"done"}function TC(e,t,o){return r=>{if(A(e)&&t){let n=t[r.id];if(n)return kM(e,n,o)}return null}}var Tt={};Object.freeze(Tt);function B_(e,t,o,r,n,i,a){let s=(l,c,d)=>{if(q(c)||!A(c)||c.length===0&&!d)return;let u=nt(c),m=d??Tt,h=zt(c,i,m,u);a.push({type:e.name,transformId:e.id,keyPath:Fi(t,l),nodeId:n.id,scopeId:r.id,property:l,value:c,controlPropKey:o,controlPropName:void 0,ancestorControlKeyPath:void 0,valueWordCount:Jt(c),hash:u,localizedValues:m,localizedValueStatuses:h,managedByPluginButUserEditable:!1})};s("truthy",e.truthy,e.truthyLocalized),s("falsy",e.falsy,e.falsyLocalized),e.fallback&&s("fallback",e.fallback.value,e.fallback.valueLocalized)}function $_(e,t,o,r,n,i,a,s){if(t.outputType!=="string")return;for(let u of t.cases){if(tn(e)&&e.startValue.id===HT)break;if(q(u.to)||!A(u.to)||u.to.length===0&&!u.toLocalized)continue;let m=nt(u.to),h=u.toLocalized??Tt,C=zt(u.to,a,h,m),T=Fi(o,"cases");s.push({type:"convertFromEnum",transformId:t.id,keyPath:xc(T,u.id),nodeId:i.id,scopeId:n.id,caseId:u.id,isDefaultCase:!1,value:u.to,ancestorControlKeyPath:void 0,controlPropKey:r,controlPropName:void 0,valueWordCount:Jt(u.to),hash:m,localizedValues:h,localizedValueStatuses:C,managedByPluginButUserEditable:!1})}if(!t.default||q(t.default)||!A(t.default))return;let l=nt(t.default),c=t.defaultLocalized??Tt,d=zt(t.default,a,c,l);s.push({type:"convertFromEnum",transformId:t.id,keyPath:Fi(o,"default"),nodeId:i.id,scopeId:n.id,caseId:null,isDefaultCase:!0,ancestorControlKeyPath:void 0,value:t.default,controlPropKey:r,controlPropName:void 0,valueWordCount:Jt(t.default),hash:l,localizedValues:c,localizedValueStatuses:d,managedByPluginButUserEditable:!1})}function Lm(e,t,o,r,n,i,a){if(!(!vS(o.outputType)||o.outputType!=="string")){for(let s of o.transforms)if(SS(s))switch(s.name){case"convertFromEnum":{$_(o,s,r,n,e,t,i,a);break}case"convertFromBoolean":{B_(s,r,n,e,t,i,a);break}case"prefix":case"suffix":{if(q(s.value)||s.value.length===0&&!s.valueLocalized)return;let l=nt(s.value),c=s.valueLocalized??Tt,d=zt(s.value,i,c,l);a.push({type:s.name,transformId:s.id,keyPath:xc(r,s.id),controlPropKey:n,controlPropName:void 0,ancestorControlKeyPath:void 0,nodeId:t.id,scopeId:e.id,value:s.value,valueWordCount:Jt(s.value),hash:l,localizedValues:c,localizedValueStatuses:d,managedByPluginButUserEditable:!1});continue}default:}}}function G_(e,t,o,r,n,i){if(Zt(o.textContent)){if(!Lt(e,o,"textContent"))return;Lm(t,o,o.textContent,o.id,o.id,r,n);return}if(B(o.htmlContent)||B(o.textContent))return;let a=Lt(e,o,"html"),s=Lt(e,o,"htmlLocalized");if(!a&&!s)return;let l=o.html,c=ds(l),d=Sp(l),u=i==="canvasHtmlAsTextContentIfPossible"?d:"rich-text",m=u==="text"?c:IM(l);if(u==="text"&&!s&&_t(o)){let P=e.getNode(o.originalid);if(P&&ds(P.html)===c)return}let C=nt(d===u?m:c),T=o.htmlLocalized??Tt,N=zt(m,r,T,C);n.push({type:"RichTextNode",keyPath:H_(o.id),nodeId:o.id,scopeId:t.id,value:m,valueWordCount:Jt(m,!0),textType:u,hash:C,localizedValues:T,localizedValueStatuses:N,managedByPluginButUserEditable:!1,inherited:!s})}function H_(e){return`${e}_html`}function NM(e){if(Do(e))return"RootNode";if(z(e))return"WebPageNode";G(e)}function xM(e,t,o,r){let n={};for(let i of t){let a=o[i.id];if(!a||!a.value)continue;let s=JN({collectionData:r,componentLoader:e,type:"id",value:a.value});s&&(n[i.id]=s)}return n}function RM(e,t,o,r,n,i){let a=null;if(z(r)&&(a=t.dataForIdentifier(r.dataIdentifier)),r.webMetadata?.title||r.titleLocalized){let s=r.webMetadata?.title??e.root.webMetadata?.title??"",l=nt(s),c=r.titleLocalized??Tt,d=xM(t,n,c,a),u=zt(s,n,c,l,d);i.push({type:NM(r),keyPath:`${r.id}_title`,nodeId:r.id,scopeId:o.id,value:s,valueWordCount:Jt(s),hash:l,localizedValues:c,localizedValueStatuses:u,managedByPluginButUserEditable:!1,key:"title",dataIdentifier:za(r)?r.dataIdentifier:void 0,warnings:d})}if(r.webMetadata?.description||r.descriptionLocalized){let s=r.webMetadata?.description??e.root.webMetadata?.description??"",l=nt(s),c=r.descriptionLocalized??Tt,d=xM(t,n,c,a),u=zt(s,n,c,l,d);i.push({type:NM(r),keyPath:`${r.id}_description`,nodeId:r.id,scopeId:o.id,value:s,valueWordCount:Jt(s),hash:l,localizedValues:c,localizedValueStatuses:u,managedByPluginButUserEditable:!1,key:"description",dataIdentifier:za(r)?r.dataIdentifier:void 0,warnings:d})}}function __(e){return`${e}_fillImageLocalized`}function j_(e,t,o,r,n){if(!so(o)||!A(o.fillImage)||o.fillImage.length===0)return;let i=Lt(e,o,"fillImage"),a=Lt(e,o,"fillImageLocalized"),s=Lt(e,o,"altAttribute"),l=Lt(e,o,"altAttributeLocalized");if(!i&&!a&&!s&&!l)return;let c=o.altAttribute??ls,d=nt(c),u=o.altAttributeLocalized??Tt,m=o.fillImage,h=nt(m),C=o.fillImageLocalized??Tt,T=zt(c,r,u,d,void 0,TC(m,C,h));n.push({type:"FrameNode",keyPath:__(o.id),nodeId:o.id,scopeId:t.id,value:c,valueWordCount:Jt(c),hash:d,localizedValues:u,localizedValueStatuses:T,managedByPluginButUserEditable:!1,inherited:!l,supportsAlt:!0,image:m,imageHash:h,imageLocalizedValues:C,imageInherited:!a,positionX:Km(o.fillImagePositionX)?o.fillImagePositionX:void 0,positionY:Km(o.fillImagePositionY)?o.fillImagePositionY:void 0,supportsFocalPoint:!0})}function wM(e,t,o,r){if(!at.isOn("localizedLinks"))return;let n=t.getLink();if(!cn(n))return;let i=n.url,a=nt(i),s=t.linkLocalized??Tt,l=zt(i,o,s,a,void 0,vC(s));r.push({type:"nodeLink",keyPath:`${t.id}_linkLocalized`,nodeId:t.id,scopeId:e.id,value:i,valueWordCount:i?1:0,hash:a,localizedValues:s,localizedValueStatuses:l,managedByPluginButUserEditable:!1,aiTranslationDisabled:!0})}function U_(e,t,o,r,n){j_(e,t,o,r,n),wM(t,o,r,n)}function Dm(e){return!!(VM(e)||e==="array"||e==="object")}function wm(e,t,o){return`${e}.${t}.${o??""}`}function J_(e){if(z(e)&&Cd(e))return e.layoutTemplateIdentifier;if(J(e))return e.codeComponentIdentifier}function X_(e,t,o,r,n,i){let a=J_(r);if(!a)return;let s=t.componentForIdentifier(a);if(!s)return;let l=r.getControlProps(s.properties);function c(d,u,m,h=void 0){let C=u.type;if(C==="array"&&aS(u.value)){if(m.type!=="array")return;let T=m.control;for(let N of u.value){if(!Dm(N.type))continue;let P=xc(h,N.id);c(d,N,T,P)}}if(C==="object"&&Ue(u.value)){if(m.type!=="object")return;for(let T in u.value){let N=u.value[T];if(!N||!Dm(N.type))continue;let P=Fi(h,T),k=m.controls[T];k&&c(d,N,k,P)}}if(VM(C))switch(C){case"string":{if(!Lt(e,r,wt(d))||m.type==="string"&&(m.preventLocalization||m.optional&&We(u.value))||(Zt(u.value)&&Lm(o,r,u.value,Fi(r.id,d),d,n,i),!A(u.value)))break;let T=u.value,N=nt(T),P=u.valueLocalized??Tt,k=zt(T,n,P,N);i.push({type:"string",keyPath:wm(r.id,d,h),controlPropKey:d,controlPropName:m.title||bn(d),ancestorControlKeyPath:h,nodeId:r.id,scopeId:o.id,value:T,valueWordCount:Jt(T),hash:N,localizedValues:P,localizedValueStatuses:k,managedByPluginButUserEditable:!1});break}case"link":{if(!at.isOn("localizedLinks")||!Lt(e,r,wt(d))||(Zt(u.value)&&Lm(o,r,u.value,Fi(r.id,d),d,n,i),!cn(u.value)))break;let T=u.value.url,N=nt(T),P=u.valueLocalized??Tt,k=zt(T,n,P,N,void 0,vC(P));i.push({type:"link",keyPath:wm(r.id,d,h),controlPropKey:d,controlPropName:m.title||bn(d),ancestorControlKeyPath:h,nodeId:r.id,scopeId:o.id,value:T,valueWordCount:T?1:0,hash:N,localizedValues:P,localizedValueStatuses:k,managedByPluginButUserEditable:!1,aiTranslationDisabled:!0});break}case"richtext":{if(C!=="richtext"||!A(u.value)||m.type==="richtext"&&m.preventLocalization||!Lt(e,r,wt(d)))break;let T=u.value,N=nt(T),P=u.valueLocalized??Tt,k=zt(T,n,P,N);i.push({type:"richtext",keyPath:wm(r.id,d,h),controlPropKey:d,controlPropName:m.title||bn(d),ancestorControlKeyPath:h,nodeId:r.id,scopeId:o.id,value:T,valueWordCount:Jt(T,!0),hash:N,localizedValues:P,localizedValueStatuses:k,managedByPluginButUserEditable:!1,contentType:void 0});break}case"image":{if(!u||u.type!=="image"||!A(u.value)||m.type!=="responsiveimage"&&m.type!=="image"||!Lt(e,r,wt(d)))break;let T=m.type==="responsiveimage",N=u.alt??ls,P=nt(N),k=T?u.altLocalized??Tt:Tt,W=u.value,M=nt(W),H=u.valueLocalized??Tt,X=zt(N,n,k,P,void 0,TC(W,H,M)),K=m.type==="responsiveimage";i.push({type:"image",keyPath:wm(r.id,d,h),controlPropKey:d,controlPropName:m.title||bn(d),ancestorControlKeyPath:h,nodeId:r.id,scopeId:o.id,value:N,valueWordCount:Jt(N),hash:P,localizedValues:k,localizedValueStatuses:X,managedByPluginButUserEditable:!1,supportsAlt:T,image:W,imageHash:M,imageLocalizedValues:H,supportsFocalPoint:K,positionX:K?u.positionX:void 0,positionY:K?u.positionY:void 0});break}default:}}for(let d in l){let u=l[d];if(!u)continue;let m=s.properties[d];m&&c(d,u,m)}}function Z_(e,t,o,r){switch(t.bindingType){case"form":{let n=t.formSelectOptions;if(!n||n.length===0)return;for(let i of n){let a=i.title;if(!a)continue;let s=i.titleLocalized??Tt,l=nt(a),c=zt(a,o,s,l);r.push({type:"FormSelectNode",keyPath:`${t.id}_${i.id}`,nodeId:t.id,optionId:i.id,scopeId:e.id,value:a,valueWordCount:Jt(a),hash:l,localizedValues:s,localizedValueStatuses:c,managedByPluginButUserEditable:!1})}break}case"variable":{if(!t.variableBinding||!ko(e)||!qo(e))return;let n=e.getVariable(t.variableBinding.id);if(!n)return;ja(n,Un(e))&&r.push(CC(t,e,o,"allItemsLabel",t.allItemsLabelWithDefault,t.allItemsLabelLocalized)),n.type==="boolean"&&(r.push(CC(t,e,o,"booleanTrueLabel",t.booleanTrueLabelWithDefault,t.booleanTrueLabelLocalized)),r.push(CC(t,e,o,"booleanFalseLabel",t.booleanFalseLabelWithDefault,t.booleanFalseLabelLocalized)));break}default:G(t.bindingType)}}function CC(e,t,o,r,n,i){let a=i??Tt,s=nt(n),l=zt(n,o,a,s);return{type:"formSelectGenericOption",keyPath:`${e.id}_${r}`,nodeId:e.id,key:r,scopeId:t.id,value:n,valueWordCount:Jt(n),hash:s,localizedValues:a,localizedValueStatuses:l,managedByPluginButUserEditable:!1}}function Q_(e,t,o,r,n){let i=`${o.id}_placeholder`;if(B(o.formInputPlaceholder)){if(q(o.formInputPlaceholder)||!Lt(e,o,"formInputPlaceholder"))return;Lm(t,o,o.formInputPlaceholder,i,o.id,r,n);return}if(!o.formInputPlaceholder||!Lt(e,o,"formInputPlaceholder"))return;let a=nt(o.formInputPlaceholder),s=o.formInputPlaceholderLocalized??Tt;n.push({keyPath:i,type:"FormPlainTextInputNode",nodeId:o.id,scopeId:t.id,value:o.formInputPlaceholder,valueWordCount:Jt(o.formInputPlaceholder),hash:nt(o.formInputPlaceholder),localizedValues:s,localizedValueStatuses:zt(o.formInputPlaceholder,r,s,a),managedByPluginButUserEditable:!1})}function LM(e,t,o,r,n,i,a){z(r)&&RM(e,t,o,r,n,i),Pe(r)&&G_(e,o,r,n,i,a),(J(r)||z(r))&&X_(e,t,o,r,n,i),Fe(r)&&U_(e,o,r,n,i),(ri(r)||$e(r))&&wM(o,r,n,i),qc(r)&&Q_(e,o,r,n,i),Yc(r)&&Z_(o,r,n,i)}var DM=(e,t)=>t?`${e.update}-${t.update}`:e.update.toString();function Rc(e,t,o,r,n,i,a,s){if(t.mutable||o?.mutable)return;let l=t.cache.localizationSourceGroup;if(l&&!(l.update!==DM(t,o)||l.componentHash!==n||l.locales!==r||l.parentVariables!==i||!en(l.subGroups,a)||!en(l.settings,s))&&!(Rl(e,t)&&l.includedLocales!==t.includedLocales))return l}function wc(e,t,o,r,n,i,a,s,l){t.mutable||o?.mutable||(t.cache.localizationSourceGroup={update:DM(t,o),locales:n,componentHash:i,parentVariables:a,group:r,includedLocales:Rl(e,t)?t.includedLocales:void 0,subGroups:s,settings:l})}function K_(e,t,o,r,n,i,a){let s=z(o)&&o.abTestingParentId!==void 0;if(EM(e,o)&&!s)return;let l=a==="canvasHtmlAsTextContentIfPossible";if(l){let m=Rc(e,o,void 0,r,n,wn,void 0,void 0);if(m){m.group&&i.push(m.group);return}}let c=[];for(let m of o.walk())LM(e,t,o,m,r,c,a);let d=Rl(e,o),u;if(c.length>0){let m=z(o)?Vc(e,t,o):o.resolveValue("name")??"Unknown";s&&(m=`${m} \xB7 ${o.resolveValue("name")||Mn(t,o)}`),u={type:"sourceGroup",name:m,groupType:z(o)?"page":Be(o)?"template":"component",nodeId:o.id,supportsLocaleVisibility:d,includedLocaleIds:d?zp(e,o):void 0,items:c},i.push(u)}l&&wc(e,o,void 0,u,r,n,wn,void 0,void 0)}function kc(e,t,o){return o?`${e}.${t}.${o}`:`${e}.${t}`}function q_(e){return e.type!=="rich-text"?e.value.length:ds(e.value).length}function SC(e,t,o){let r=o.required,n=o.type==="link"?void 0:o.options?.maxLength;if(!r&&!te(n))return;let i={};for(let a of e){let s=t[a.id];if(!ol(s))continue;let l=q_(s);r&&l===0?i[a.id]=vM(o.name):te(n)&&l>n&&(i[a.id]=TM(l,n))}return i}function FM(e,t,o,r){let n={};for(let i of e){let a=t[i.id];if(!ol(a))continue;let l=o[i.id]?.get(a.value);l&&l>1&&(n[i.id]=r)}return n}function Y_(e,t,o,r,n,i,a,s,l){let c=i.type;switch(c){case"string":{if(gd(i))return;let d;if(s){if(s.type!==c||!A(s.value))return;d=s.value}else{if(Fv(i))return;d=i.initialValue}let u=nt(d),m=s?.valueLocalized??Tt,h=SC(r,m,i),C=zt(d,r,m,u,h);return{type:"string",keyPath:kc(o.id,a,n),nodeId:o.id,scopeId:t,controlPropKey:a,controlPropName:i.name,ancestorControlKeyPath:n,value:d,valueWordCount:Jt(d),hash:u,localizedValues:m,localizedValueStatuses:C,managedByPluginButUserEditable:i.userEditable??!1,warnings:h}}case"link":{if(!s||s.type!==c||!cn(s.value)||!at.isOn("localizedLinks"))return;let d=s.value.url,u=nt(d),m=s?.valueLocalized??Tt,h=SC(r,m,i),C=zt(d,r,m,u,h);return{type:"link",keyPath:kc(o.id,a,n),nodeId:o.id,scopeId:t,controlPropKey:a,controlPropName:i.name,ancestorControlKeyPath:n,value:d,valueWordCount:d?1:0,hash:u,localizedValues:m,localizedValueStatuses:C,managedByPluginButUserEditable:i.userEditable??!1,warnings:h,aiTranslationDisabled:!0}}case"slug":{if(e.root.translatePagePaths==="no"||!s)return;S(s.type==="string","expected slug controlType to be a string"),S(A(s.value),"expected slug value to be a string");let d=s.value,u=nt(d),m=s?.valueLocalized??Tt,h=FM(r,m,l,"Each item in the Collection must have a unique slug"),C=zt(d,r,m,u,h,e.root.translatePagePaths==="legacy"?vC(m):void 0);return{type:"slug",keyPath:kc(o.id,a,n),controlPropKey:a,controlPropName:i.name,ancestorControlKeyPath:n,nodeId:o.id,scopeId:t,value:d,valueWordCount:Jt(d),hash:u,localizedValues:m,localizedValueStatuses:C,managedByPluginButUserEditable:i.userEditable??!1,warnings:h,aiTranslationDisabled:!e.root.translatePagePathsWithAI,collectionItemIsDraft:o.isDraft??!1}}case"richtext":{let d;if(gd(i))return;if(s){if(s.type!==c||!A(s.value))return;d=s.value}else d=i.initialValue;let u=nt(d),m=s?.valueLocalized??Tt,h=SC(r,m,i),C=zt(d,r,m,u,h);return{type:"richtext",keyPath:kc(o.id,a,n),nodeId:o.id,scopeId:t,controlPropKey:a,controlPropName:i.name,ancestorControlKeyPath:n,value:d,valueWordCount:Jt(d,!0),hash:u,localizedValues:m,localizedValueStatuses:C,managedByPluginButUserEditable:i.userEditable??!1,warnings:h,contentType:i.type==="richtext"?i.contentType:void 0}}case"image":{let d;if(s){if(s.type!==c||!A(s.value))return;d=s.value}else{if(!A(i.initialValue))return;d=i.initialValue}let u=nt(d),m=s?.valueLocalized??Tt,h=s?.alt??ls,C=nt(h),T=s?.altLocalized??Tt,N=zt(h,r,T,C,void 0,TC(d,m,u));return{type:"image",keyPath:kc(o.id,a,n),nodeId:o.id,scopeId:t,controlPropKey:a,controlPropName:i.name,ancestorControlKeyPath:n,value:h,valueWordCount:Jt(h),hash:C,localizedValues:T,localizedValueStatuses:N,supportsAlt:!0,image:d,imageHash:u,imageLocalizedValues:m,managedByPluginButUserEditable:i.userEditable??!1,supportsFocalPoint:!0,positionX:s?.positionX,positionY:s?.positionY}}case"enum":return;default:}}function ej(e,t,o,r,n,i){let a=o.id;function s(l,c,d,u=void 0){if(c&&c.type==="array"){if(d.type!=="array"||B(c.value))return;for(let h of c.value){if(!Dm(h.type)||!rl(h)||!h.value)continue;let C=xc(u,h.id);for(let T of d.itemVariables){if(!Vo(T))continue;let N=h.value[T.id];if(!N||!Dm(N.type))continue;let P=Fi(C,T.id);s(l,N,T,P)}}}if(!PM(d))return;let m=Y_(e,a,o,r,u,d,l,c,i);m&&n.push(m)}for(let l of t.variables){if(!Vo(l))continue;let c=o.getControlProp(l.id);s(l.id,c,l)}}var AM=uS((e,t)=>({translatePagePaths:e,translatePagePathsWithAI:t}));function tj(e,t,o,r,n,i){let a=AM(e.root.translatePagePaths,e.root.translatePagePathsWithAI),s=Rc(e,o,void 0,r,Ki,t.variables,void 0,a);if(s){s.group&&i.push(s.group);return}let l=[],c=zp(e,o);if(ej(e,t,o,r,l,n),l.length>0){for(let u of l)u.insetLevel=1;let d={type:"sourceGroup",groupType:"collectionItem",collectionName:t.resolveValue("name")??"Unknown",collectionNodeId:t.id,supportsLocaleVisibility:!0,includedLocaleIds:c,name:hp(t,o)??"Unknown",nodeId:o.id,items:l};wc(e,o,void 0,d,r,Ki,t.variables,void 0,a),i.push(d)}}function oj(e,t,o,r){let n=o.name,i=nt(n),a=o.nameLocalized??Tt,s=zt(n,r,a,i);return{type:"enum",keyPath:`${e.id}_${t.id}_${o.id}`,nodeId:e.id,scopeId:e.id,variableId:t.id,enumCaseId:o.id,value:n,valueWordCount:Jt(n),hash:i,localizedValues:a,localizedValueStatuses:s,managedByPluginButUserEditable:!1}}function rj(e,t,o,r){let n=[],i=nj(o,t);for(let d of t.getUnsortedChildren())tj(e,t,d,o,i,n);let a=Rc(e,t,void 0,o,Ki,wn,n,void 0);if(a){a.group&&r.push(a.group);return}let s=t.variables.filter(PM);if(s.length===0)return;let l=[];for(let d of s){let u=d.type;switch(u){case"enum":{if(gd(d))break;for(let m of d.cases)l.push(oj(t,d,m,o));break}case"string":case"richtext":case"image":case"link":case"slug":break;default:}}let c=l.length>0||n.length>0?{type:"sourceGroup",groupType:"collection",name:t.resolveValue("name")??"Unknown",nodeId:t.id,supportsLocaleVisibility:!1,includedLocaleIds:void 0,items:l,groups:n}:void 0;wc(e,t,void 0,c,o,Ki,wn,n,void 0),c&&r.push(c)}function nj(e,t){let o={};for(let n of e)o[n.id]=new Map;let r=t.getSlugVariable();if(!r)return o;for(let n of t.getUnsortedChildren()){let i=n.getControlProp(r.id);if(i&&(S(i.type==="string","expect slug control type to be be of type string"),S(A(i.value),"expected slug control prop value to be string"),!!i.valueLocalized))for(let a in i.valueLocalized){let s=i.valueLocalized[a],l=o[a];if(!l||!s?.value)continue;let c=(l.get(s.value)??0)+1;l.set(s.value,c)}}return o}function ij(e,t,o){let r=e.getParent(o.id)?.children??[],n={};for(let i of t)i.id!==rf&&(n[i.id]=new Map);for(let i of r){if(!In(i))continue;let{segment:a,segmentLocalized:s}=i;for(let l of t){if(l.id===rf)continue;let d=sv(l,s)?.value??a,u=n[l.id];if(!u)continue;let m=(u.get(d)??0)+1;u.set(d,m)}}return n}function aj(e,t,o,r){let n=Rc(e,e.root,void 0,o,Ki,wn,void 0,void 0);if(n){n.group&&r.push(n.group);return}let i=[];RM(e,t,e.root,e.root,o,i);let a=i.length>0?{type:"sourceGroup",groupType:"settings",name:"Site Settings",nodeId:e.root.id,supportsLocaleVisibility:!1,includedLocaleIds:void 0,items:i}:void 0;wc(e,e.root,void 0,a,o,Ki,wn,void 0,void 0),a&&r.push(a)}function sj(e,t,o,r){for(let n of t.children)rj(e,n,o,r)}function lj(e,t,o,r,n,i){if(!bx(o))return;let a=ea(o.segment),s=nt(o.segment),l=o.segmentLocalized??Tt,c=FM(r,l,ij(e,n,o),"Sibling pages must have unique slugs");i.push({keyPath:o.id,type:"RouteSegmentNode",nodeId:o.id,scopeId:t.id,value:a,valueWordCount:Jt(a),hash:nt(o.segment),localizedValues:l,localizedValueStatuses:zt(o.segment,r,l,s,c,void 0),managedByPluginButUserEditable:!1,warnings:c,aiTranslationDisabled:!e.root.translatePagePathsWithAI})}function cj(e,t,o,r,n,i,a){let s=yT(e,"includeDrafts"),l=new Set;for(let c of o.walk())In(c)&&dj(e,t,c,r,s,n,i,a,l)}function dj(e,t,o,r,n,i,a,s,l){let c=o.webPageId?e.get(o.webPageId):void 0,d=z(c)&&c.isLoaded()?c:null,u=AM(e.root.translatePagePaths,e.root.translatePagePathsWithAI),m=c&&l.has(c.id),h=d||o,C=h===d?o:void 0,T=Rc(e,h,C,r,i,wn,void 0,u);if(T){T.group&&a.push(T.group);return}let N=[];if(e.root.translatePagePaths==="yes"&&lj(e,h,o,r,n,N),c&&!m){for(let M of c.walk())LM(e,t,h,M,r,N,s);l.add(c.id)}let P,k=z(c)?Vc(e,t,c):ms(yC(o,e));z(h)&&h.abTestingParentId&&(k=`${k} \xB7 ${h.resolveValue("name")||Mn(t,h)}`),o.segment===""&&(k=`${k} /`);let W=Rl(e,h);N.length>0&&(P={type:"sourceGroup",name:k,groupType:"page",nodeId:h.id,supportsLocaleVisibility:W,includedLocaleIds:W?zp(e,h):void 0,items:N},a.push(P)),wc(e,h,C,P,r,i,wn,void 0,u)}function pFe(e,t,o,r,n){let i=[];if(!o||o.length===0)return i;aj(e,t,o,i);for(let a of e.root.children){let s=z(a)&&a.abTestingParentId!==void 0;EM(e,a)&&!s||(gC(a)&&(S(a.isLoaded(),"Scope node must be fully loaded"),K_(e,t,a,o,r,i,n)),Xs(a)&&(S(a.isLoaded(),"Scope node must be fully loaded"),sj(e,a,o,i)),FS(a)&&cj(e,t,a,o,r,i,n))}return i}function EM(e,t){return z(t)&&t.id!==e.root.homePageNodeId}function uFe(e,t){return ti(e,t)}function mFe(e,t){return en(e,t)}function hFe(e){window.addEventListener("beforeunload",t=>{e()&&(t.preventDefault(),t.returnValue="You have unsaved changes. They might be lost if you leave the page.")})}function MM(e,t){let o=e.itemVariables.length===1&&e.itemVariables[0]?.type==="image"?e.itemVariables[0]:void 0,r=p`item`,n={[An]:p`typeof ${r}?.[${An}] === "string" ? ${r}[${An}] : undefined`};for(let a of e.itemVariables){let s=pd(a.name);s?n[a.id]=p`${r}?.[${s}] ?? ${r}?.[${a.id}]`:n[a.id]=p`${r}?.[${a.id}]`}let i=t.bindings.create("arrayFromHumanReadable"+e.id);return t.declarations.file.create(p.joinLines(p`const ${i} = (value) => {${p.joinLines(p`if (!Array.isArray(value)) return`,p`return value.map(${r} => {${p.joinLines(o?p`if (typeof ${r} === "string") return { [${o.id}]: ${r} }`:void 0,p`return ${n}`)}})`)}}`)),i}function pj(e){return[e[1],e[0]]}var uj=new Map(Object.entries(De).map(pj));function OM(e,t){let o=t.addImport("framer",{exportSpecifier:"ControlType"}),r=uj.get(e),n=new I(r);return p`${o}.${n}`}var mj={boolean:"boolean",number:"number",string:"string",richtext:"string",fusednumber:"any",enum:"string",segmentedenum:"string",color:"string",image:"string",responsiveimage:"{src: string; srcSet?: string; alt?: string}",file:"string",componentinstance:"any",slot:"any",array:"any[]",eventhandler:"any",transition:"Record<string, any>",link:"string",linkrelvalues:"string[] | undefined",pagescope:"string",date:"string",object:"Record<string, any>",font:"Record<string, any> | undefined",scrollsectionref:"React.MutableRefObject<HTMLElement>",customcursor:"string",border:"Record<string, any>",cursor:"string",boxshadow:"string",gap:"string",padding:"string",borderradius:"string",collectionreference:"string | undefined",multicollectionreference:"string[] | undefined",trackingid:"string | undefined",vectorsetitem:"React.ComponentType<any> | undefined"};function fj(e){return e?new I(mj[e]):p`any`}var WM="variant";function hj(e){return!F(e?.defaultValue)}function gj(e,t,o){if(!ue(e))return{};S(e.isLoaded(),"Node must be loaded to generate controls");let r=e.getTopLevelVariants();if(r?.length<2)return{};let n=[],i=[];for(let a of r){let s=a.resolveValue("name")??Mn(t,a);n.push(a.id),i.push(s)}return{[WM]:{type:OM("enum",o),title:"Variant",options:n,optionTitles:i}}}function yj(e,t,o,r){if(e.type==="responsiveimage"&&pl(e)&&dl(e.__vekterDefault)){let{assetReference:n,alt:i}=e.__vekterDefault,a=o.assets?.resolveResponsiveImage(n,{focalPoint:e.__vekterDefault});return a&&A(i)&&(a.alt=i),a}else if(Ja(e))switch(e.type){case"responsiveimage":{let n=o.assets?.resolveResponsiveImage(e.__defaultAssetReference);return n||void 0}case"file":{let n=o.assets?.resolve(e.__defaultAssetReference);return n?n.src:void 0}}else{if(t?.type==="array")return t.initialValue?t.initialValue.map(n=>{let i={};if(!n||n.type!=="object"||!Ue(n.value))return i;for(let a in n.value){let s=n.value[a];if(!s||s.type!=="image"||!A(s.value))continue;let l=o.assets?.resolveResponsiveImage(s.value,{focalPoint:s});l&&(l.alt=s.alt??"",i[a]=l)}return i}):[];if(hj(e)){if(t&&ja(t,r))return;let n=e.defaultValue;if(e.type==="vectorsetitem")return S(kv(n),"Vector set item must be a module export identifier"),o.imports.addModuleImport(n.identifier);if(e.type==="richtext"&&A(n))return Ti(n,{collectors:o,useFramerMotion:r==="SmartComponent"});if(e.type==="boxshadow"&&DI(n))return FI(n,"emptyStringWhenEmpty",i=>Hr(i)?cl(i):Oa.toFormatString(i));if(oo(n))return Hr(n)?cl(n):n}}}function Fm(e,t){return p`${e}?: ${t};`}var zM=["id","width","height"],Cj=Object.fromEntries(zM.map(e=>{let t=new I(e);return[t,t]}));function Sj(e,t){let o=new Y(e);return Y.addSpreadAtEnd(o,t),o}var BM=[{name:fe.style,type:p`Record<string, unknown>`},{name:fe.className,type:p`string`},{name:fe.layoutId,type:p`string | number`}];function vj(e,t){if(!ue(e)&&!z(e)&&!Be(e)&&!Qt(e))return[];let o=BM.map(({name:n,type:i})=>({key:ge(n),type:Fm(n,i)})),r=ge(fe.variant);return t&&un(e)?o.concat([{key:r,type:Fm(fe.variant,p`keyof typeof ${t}`),value:p`${t}[props.${fe.variant}] ?? props.${fe.variant} ?? ${e.baseVariantId}`}]):o.concat([{key:r}])}function bC(e,t,o){let r=p`props.${new I(e)}`;return t&&(r=p`${t} ?? ${r}`),o&&(r=p`${r} ?? ${o}`),r}function $M(e,t,o){if(!z(e)||!Si(o.tree,e))return;if(!at.isOn("dynamicFilters")){let a=he(e.dataIdentifier);if(!rt(a))return}let n=e.getVariableDefinitions(o.tree,void 0,t,t.activeBundleHash);if(!n||n.length===0)return;let i=new Map;for(let a of n)z(e)&&e.hasVariable(a.id)||i.set(a.id,a);return i}var Tj=[...nI,WM,...zM,...BM.map(({name:e})=>e.toString()),"name"];function bj(e,t,o,r,n){let i=new Set(Tj),a=Object.entries(e).map(([k,{control:W,variable:M,binding:H}])=>{if(!W)return{key:k,binding:H};let X=qd(pd(W.title)??k,i),K=new I(X),oe=yj(W,M,o,r),me=Fm(K,fj(W.type)),j;if(W.type==="enum"&&W.options&&W.optionTitles&&K){let xe=new Y;W.options.forEach((Ie,Re)=>{if(!A(Ie)||!W.optionTitles)return;let R=W.optionTitles[Re];A(R)&&(xe[R]=Ie)});let pe=o.declarations.file.dedupe("humanReadableEnumMap",xe);me=Fm(K,p`keyof typeof ${pe}`),j=bC(k,K,oe),j=p`${pe}[${K}] ?? ${j}`}else if(M?.type==="array"){let xe=MM(M,o),pe=I.fn(xe,K);j=bC(k,pe,oe)}else j=bC(k,K,oe);return{key:k,binding:H,name:X,type:me,value:j}}),s="",l=[],c=[],d=new Y,u=$M(t,o.componentLoader,o.treeStore),m={},h={...Cj},C=vj(t,n);for(let{key:k,binding:W,type:M,value:H,name:X}of[...C,...a]){let K=u?.get(k),oe=W??new I(k);if(K){let me=p`${oe} = ${fe.getFromCurrentRouteData}(${K.id})`;if(lv(K.type)){let j=dn(K.type);oo(j)&&(me=p`${me} ?? ${j}`)}l.push(me)}else{let me=o.variables.getSetterBinding(k);if(me){let j=o.bindings.create(`external${k}`),xe=o.bindings.create(`previous${k}`),pe=o.bindings.create(`setPrevious${k}`);l.push(p`${k}: ${j}`),c.push(p.joinLines(p`const [${oe}, ${me}] = React.useState(${j})`,p`const [${xe}, ${pe}] = React.useState(${j})`,p`if (${j} !== ${xe}) {${p.joinLines(I.fn(me,j),I.fn(pe,j))}}`))}else ge(oe)!==k?l.push(p`${k}: ${oe}`):l.push(oe)}M&&(s+=M),H&&(d[k]=H),X&&(m[k]=X,h[X]=new I(X))}r==="LayoutTemplate"&&l.push(fe.children),r==="DesignPage"&&l.push(fe.style),Y.addSpreadAtStart(d,fe.props);let T=o.declarations.file.dedupe("getProps",p`(${Sj(h,fe.props)}) => { return ${d} }`),N=l.join(", "),P=N.length>0?new I(`{ ${N}, ...${fe.restProps} }`):fe.restProps;return{variableMap:Bt(m)?void 0:m,types:new I(s),props:p.joinSections(p`const ${P} = ${I.fn(T,fe.props)}`,...c)}}function Ij(e,t){let o=[],r=Qt(e),n=GM(e),i=t.variables.getBindings(e.id);for(let s of n){if(!Vo(s))continue;let l=i.get(s.id);!r&&!l||o.push({id:s.id,binding:l,definition:s})}let a=$M(e,t.componentLoader,t.treeStore);if(a)for(let[s]of a){let l=i.get(s);l&&o.push({id:s,binding:l})}return o}function Nj(e,t){let{hidden:o,...r}=e;if(!t)return r;let{description:n,...i}=r;return i}function xj(e,t,o,r,n,i,a,s){let{id:l,type:c}=t;switch(c){case"controlReference":{let d=he(Lv(r.tree,t.entityIdentifier));if(!d||!t.entityIdentifier||!rt(d))return;let u=n.addModuleImport(d,{composeWithImports:[n.addImport("framer",{exportSpecifier:"getPropertyControls"})]});if(!u)return;let m=new Y({hidden:p`undefined`,description:p`undefined`});return Y.addSpreadAtStart(m,p`${u}[${t.controlKey}]`),A(o.title)&&(m.title=o.title),A(o.description)&&(m.description=o.description),o.type==="responsiveimage"&&pl(o)&&dl(o.__vekterDefault)&&(m[Bv]=I.fromValue(o.__vekterDefault)),Ja(o)?m[zv]=I.fromValue(o.__defaultAssetReference):yo(t.initialValue)||(m.defaultValue=I.fromValue(t.initialValue)),p`${u}?.[${t.controlKey}] && ${m}`}case"nodePropertyControlReference":case"array":case"vectorsetitem":case"boolean":case"color":case"date":case"enum":case"eventhandler":case"file":case"image":case"link":case"linkrelvalues":case"number":case"richtext":case"scrollsectionref":case"customcursor":case"cursor":case"transition":case"boxshadow":case"string":case"border":case"borderradius":case"gap":case"padding":case"collectionreference":case"multicollectionreference":case"trackingid":case"slug":{let d={...Nj(o,a),type:OM(o.type,n)};return s==="vector"&&i&&(d.hidden=!i.getBinding(e.id,l)),d}default:G(c)}}function GM(e){return qo(e)?e.variables:[]}function Pj(e,t,o,r,n,i,a,s=GM(e)){let l=gj(e,t,r),c=md(e),d=[...s];if(Rt(e)){let u=QT();d.push(u);let m=KT();d.push(m);let h=XT(e);d.push(h);let C=ZT(e);d.push(C)}for(let u of d){if(!Vo(u))continue;let m=Ua(o.tree,t,u,a);if(We(m))continue;S(m.type!=="image","Image variables should become responsive images");let h=xj(e,u,m,o,r,n,c,i);F(h)||(l[u.id]=h)}if(!Bt(l))return new Y(l,1)}function KFe(e,t,o,r,n){let i={},a=[];for(let{id:s,binding:l,definition:c}of Ij(e,t)){if(c&&z(e)&&e.hasVariable(c.id))continue;let u=c?Ua(t.treeStore.tree,t.componentLoader,c,o):void 0;i[s]={control:u??void 0,variable:c,binding:l},c&&a.push(c)}return{propertyControls:Pj(e,t.componentLoader,t.treeStore,t.imports,t.variables,r,o,a),...bj(i,e,t,o,n)}}function oAe(e){let t={};for(let[o,r]of e)_M(t,o,r);return t}function rAe(e,t,o){return zh(e,r=>{_M(r,t,o)})}function nAe(e,t){return e[t]?zh(e,o=>{let r=o[t];if(r){for(let n of r.dependents){let i=o[n];i&&(i.dependencies.delete(t),Am(i)&&delete o[n])}for(let n of r.dependencies){let i=o[n];i&&(i.dependents.delete(t),Am(i)&&delete o[n])}delete o[t]}}):e}function iAe(e,t,o,r,n){let i=new Set,a=[t];for(r=r||new Set,n=n||new Set;a.length>0;){let s=a.pop();if(!s||i.has(s))continue;i.add(s);let l=e[s];if(l){if(r.has(s))n.add(s);else if(!r.size)o.add(s);else{let c=!1;for(let d of l.dependents)if(r.has(d)||n.has(d)){c=!0;break}c?n.add(s):o.add(s)}for(let c of l.dependents)i.has(c)||a.push(c)}}}function aAe(e,t){let o=new Set,r=[t];for(;kj(r);){let n=r.shift(),i=e[n];if(i){for(let a of i.dependents)o.has(a)||(o.add(a),r.push(a));if(o.has(t))return!0}}return!1}function Vj(e,t){let o=Yd(e,t);if(o)return o.startsWith("collection")&&!t.startsWith("collection")&&!t.startsWith("draftCollection")?o.replace("collection","draftCollection"):o}function _M(e,t,o){let r=e[t];if(!r){if(o.length===0)return;r=HM(e,t)}let n=new Set(r.dependencies);for(let i of o){let a=Vj(i,t);if(!a)continue;r.dependencies.add(a);let s=e[a];s||(s=HM(e,a)),s.dependents.add(t),r.dependencies.add(a),n.delete(a)}for(let i of n){let a=e[i];a&&(a.dependents.delete(t),Am(a)&&delete e[i])}Am(r)&&delete e[t]}function Am(e){return e.dependents.size===0&&e.dependencies.size===0}function HM(e,t){let o={dependents:new Set,dependencies:new Set};return e[t]=o,o}function kj(e){return e.length>0}var Rj=1;function wj(e){return e==="screen"||e==="canvasComponent"}function Lj(e){let t=e.metadata.compatibleCmsVersion;return te(t)?t:0}function Dj(e){let t=lI(e);return e.imports.relative.some(o=>{let r=Yd(o,t);return A(r)&&r.startsWith("collection")})}function Fj(e){return wj(e.type)&&Dj(e)}function uAe(e){return Fj(e)&&Lj(e)<Rj}var Em=p`params`,jM=p`snippets`,IC=p`queryLoaders`,Aj=p`snippetsSorting`,NC=p`pathVariables`,Mm=p`activeLocale`,UM={type:"snippets",localIdName:"snippets",localId:dr("snippets","snippets")},EAe=Pc(async(e,t)=>{let{componentLoader:o,treeStore:r,modulesStore:n,assetMap:i}=t,a=new _n(i),s=new Vr,l=new Xr("snippets",o,n,s),c=new Fn(e,s),d=new Dn(s),u=new yn(e,o,l,s,void 0,r,n),m=new Bn(e,r,c,d,s,l,a),h=new Xn(s,c,m,a,u),C=new Va(e,c,r,o,l,s,d,h,n,"snippets"),T=new Mr(o,d,void 0,l,c,C,void 0,h,n,"snippets"),N=[],P={headStart:[],headEnd:[],bodyStart:[],bodyEnd:[]};for(let k of e.children)k.disabled||(P[k.placement].push(k.id),(k.pageIds&&k.pageIds.length>0||k.loadMode==="always")&&N.push(k));return[{type:"snippets",revision:e.moduleSourceRevision,source:Ej(N,P,n,r.tree,o,l,d,T,c),artifacts:{assets:a.keys}}]});function Ej(e,t,o,r,n,i,a,s,l){let{pageIds:c,snippets:d}=Oj(e,r,n,s,l),u=zj(c,o,r,n,i,l),m=Mj(),h=p.joinLines(d,u,p`export const ${Aj} = ${t}`,m);return p.joinSections(p.linesFrom(i.statements),...a.list(),h)}function Mj(){return p`export async function getSnippets(pageId, ${NC}, ${Mm}) {${p.joinLines(p`const queryLoader = ${IC}[pageId]`,p`const ${Em} = queryLoader ? await queryLoader(${NC}, ${Mm}) : undefined`,p`const result = ${{headStart:[],headEnd:[],bodyStart:[],bodyEnd:[]}}`,p`for (const snippet of ${jM}) {${p.joinLines(p`if (snippet.pageIds && !snippet.pageIds.has(pageId)) continue`,p`const code = snippet.code(${Em})`,p`if (code) {${p.joinLines(p`result[snippet.placement].push({ ...snippet, code })`)}}`)}}`,p`return result`)}}`}function Oj(e,t,o,r,n){let i=new Set,a=[];for(let l of e){let c=l.pageIds?.filter(C=>t.get(C)),d=c&&c.length>0?c:void 0;if(l.pageIds&&l.pageIds.length>0&&!d)continue;let u=l.resolveValue("name"),m=Wj(l,t,o,r,n,"escape");m&&l.pageIds&&l.pageIds[0]&&i.add(l.pageIds[0]);let h=m??p`return ${l.code}`;a.push({id:l.id,name:u,loadMode:l.loadMode,placement:l.placement,pageIds:d?p`new Set(${d})`:void 0,code:p`(${Em}) => { ${h} }`})}let s=p`const ${jM} = ${a}`;return{pageIds:i,snippets:s}}function Wj(e,t,o,r,n,i){if(!e.pageIds||e.pageIds.length!==1)return;let a=e.pageIds[0];if(!a)return;let{pageNode:s,controlMap:l,collectionData:c}=JM(a,t,o);if(!s?.dataIdentifier||!l||!c)return;let d=Gj(s,e.code,r,n,l,i);if(!d)return;let u=n.getBindings(a);if(!u)return;let m=[];for(let[h,C]of u??[]){let T=p`${Em}?.[${h}]`,N=l?.get(h);if(N?.type==="enum"){let P=r.wrapInValueTransform(T,{name:"enumToDisplayName"},N);T=p`${T} !== undefined ? ${P} : undefined`}m.push(p`const ${C} = ${T}`)}return p.joinLines(...m,p`return ${d}`)}function zj(e,t,o,r,n,i){let a={};for(let s of e){let l=i.getBindings(s);if(!l)continue;let c=new Set(l.keys()),{pageNode:d,collectionData:u,controlMap:m}=JM(s,o,r);if(!d?.dataIdentifier||!m||!u)continue;let h=Bj(d,d?.dataIdentifier,c,n,r,t,m);a[s]=h}if(Object.keys(a).length>0){let s=n.addImport("framer",{exportSpecifier:"QueryEngine"});return p.joinLines(p`const queryEngine = new ${s}()`,p`const ${IC} = ${a}`)}return p`const ${IC} = {}`}function JM(e,t,o){let r=t.getNodeWithTrait(e,z),n=r?.getVariableControlMap(t,void 0,o,o.activeBundleHash),i=o.dataForIdentifier(r?.dataIdentifier);return{pageNode:r,controlMap:n,collectionData:i}}function Bj(e,t,o,r,n,i,a){let s=r.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"}),l=gs(e),c=new Set,d=[],u=$j(n,i,d),m=Tp(a,o,c,l,u),h=vp(t,a,c,l,u),C=new Y({from:h,select:m,where:I.fn(s,p`pathVariables`,l)});return p.joinLines(p`async (${NC}, ${Mm}) => {${p.joinLines(...d,p`const query = ${C}`,p`const result = await queryEngine.query(query, ${Mm})`,p`if (result.length === 0) throw new Error("No data matches pathVariables")`,p`return result[0]`)}}`)}function $j(e,t,o){let r=new Map;return function(i){let a=r.get(i);if(a)return a;let s=he(i),{exportSpecifier:l,importBinding:c,importSpecifier:d}=kr(s,"snippets",e,t);S(c,"Can't import collection");let u=new I(c),m=new I(l);o.push(p`const ${u} = await import(${d})`);let h=p`${u}.${m}`;return r.set(i,h),h}}function Gj(e,t,o,r,n,i){if(yo(t))return;let a=Al();return it.replaceAll(t,a,(s,l)=>{let[c,d]=cp(l,i);if(!n?.has(c))return s;let u=Ht(c,e.id),m=r.create(u),h=m;return n?.get(c)?.type==="responsiveimage"&&(h=o.wrapInToImageSrc(h)),h=o.wrapInTemplateFilters(h,d),p`${m} !== undefined ? ${h} : ${s}`})}function XM(e,t){if(ue(e,!0))return["canvasComponent"];if(z(e,!0))return["screen","webPageMetadata"];if(Be(e,!0))return["layoutTemplate"];if(Ye(t.get(e.parentid)))return["screen"];if(Qt(e,!0))return["vectorSet"];if(Ye(e,!0))return["prototype"];if($i(e,!0))return["snippets"];if(ko(e,!0))throw new Error("Unhandled scope node type");if(Rt(e))return["collection","draftCollection"];if(ap(e))return["css"];if(ed(e))return["componentPresets"];if($e(e)&&Qt(t.getScopeNodeFor(e)))return["vector"];if(Do(e))return["siteMetadata"];if(fr(e))return["vector"];if(Ct(t.get(e.parentid)))return["design"];throw new Error(`Unsupported component node: ${e.__class} ${e.id}`)}function ZM(e,t){if(!ud(e)||!t.isGroundNode(e))return!1;let o=t.get(e.parentid);return!!(o&&Ye(o))}function sEe(e){return $C(e.type)&&e.type==="snippets"?Dx:e.name}function Hj(e){if(Do(e))return Rm.localIdName;if($i(e,!0))return UM.localIdName;switch(e.id){case vi:return"componentPresets";default:return e.id}}function _j(e,t){return XM(e,t).map(r=>dr(r,Hj(e)))}function lEe(e,t,o){return e?_j(e,t).every(r=>!F(o.getModuleEntryByLocalId(r))):!1}function cEe(e,t){if(!jj(e,t)||Ct(e))return!1;if(!ko(e)){let o=t.getScopeNodeFor(e);if(Ct(o))return!1}return!0}function jj(e,t){if(Do(e))return!0;if(!t.has(e.id))return!1;if(un(e))return!0;if(Qe(e))return!1;if(Rt(e)||ap(e)||ed(e)||Qt(e))return!0;if(fr(e)){let o=t.get(e.parentid);return Qt(o)}if(Ct(e))return!1;if(t.isGroundNode(e)&&Fe(e)){let o=t.getScopeNodeFor(e);if(Ct(o))return!0}return!!(Ye(e)||ZM(e,t)||$i(e))}export{lR as a,LU as b,CO as c,Xl as d,vO as e,WU as f,Sn as g,qZ as h,mg as i,fg as j,YZ as k,BR as l,cR as m,CJ as n,Gl as o,SJ as p,LO as q,vJ as r,TJ as s,bJ as t,IJ as u,NJ as v,lQ as w,$R as x,Kr as y,cQ as z,dQ as A,pQ as B,uQ as C,mQ as D,mW as E,fQ as F,_R as G,hg as H,pa as I,PQ as J,VQ as K,hW as L,Kp as M,OQ as N,WQ as O,zQ as P,gg as Q,BQ as R,yg as S,qp as T,oK as U,rK as V,nK as W,TW as X,iK as Y,Ss as Z,XR as _,pK as $,RJ as aa,mR as ba,ZR as ca,fR as da,KR as ea,hR as fa,a1 as ga,s1 as ha,yR as ia,l1 as ja,CR as ka,QJ as la,Qh as ma,Xh as na,Hl as oa,_J as pa,jJ as qa,Zh as ra,Hp as sa,UJ as ta,gR as ua,Kh as va,FO as wa,_l as xa,o1 as ya,vR as za,B1 as Aa,eg as Ba,OO as Ca,$1 as Da,G1 as Ea,H1 as Fa,Ul as Ga,TR as Ha,da as Ia,Yh as Ja,_1 as Ka,j1 as La,U1 as Ma,J1 as Na,zO as Oa,X1 as Pa,Z1 as Qa,IR as Ra,NR as Sa,dX as Ta,PR as Ua,pX as Va,uX as Wa,mX as Xa,fX as Ya,hX as Za,gX as _a,vX as $a,NW as ab,xW as bb,YR as cb,tu as db,zK as eb,ie as fb,ou as gb,tw as hb,ow as ib,PW as jb,aw as kb,Sg as lb,xY as mb,ru as nb,jY as ob,nu as pb,UY as qb,JY as rb,XY as sb,ZY as tb,dw as ub,bX as vb,IX as wb,kR as xb,UO as yb,_p as zb,OW as Ab,g2 as Bb,y2 as Cb,C2 as Db,S2 as Eb,fw as Fb,gw as Gb,yw as Hb,ua as Ib,iu as Jb,Cw as Kb,Sw as Lb,jp as Mb,$X as Nb,GX as Ob,Up as Pb,au as Qb,ZW as Rb,xw as Sb,Pw as Tb,Vw as Ub,L5 as Vb,ez as Wb,p4 as Xb,Rw as Yb,ww as Zb,Lw as _b,u4 as $b,m4 as ac,f4 as bc,sz as cc,h4 as dc,vt as ec,g4 as fc,y4 as gc,kw as hc,ag as ic,sg as jc,Aw as kc,bs as lc,cu as mc,zn as nc,ql as oc,Bw as pc,$w as qc,Gw as rc,Hw as sc,_w as tc,Cz as uc,P6 as vc,V6 as wc,Pg as xc,v3 as yc,T3 as zc,Jw as Ac,Xw as Bc,du as Cc,Qw as Dc,u8 as Ec,m8 as Fc,eL as Gc,uu as Hc,mu as Ic,R8 as Jc,w8 as Kc,L8 as Lc,D8 as Mc,F8 as Nc,DR as Oc,cZ as Pc,Xp as Qc,nL as Rc,iL as Sc,aL as Tc,t7 as Uc,o7 as Vc,r7 as Wc,n7 as Xc,sL as Yc,tW as Zc,WZ as _c,zZ as $c,rr as ad,Yl as bd,p9 as cd,ec as dd,zz as ed,b9 as fd,I9 as gd,N9 as hd,x9 as id,P9 as jd,A9 as kd,pL as ld,_z as md,E9 as nd,xs as od,Ste as pd,vte as qd,Tte as rd,xL as sd,xD as td,FB as ud,Bn as vd,kpe as wd,ju as xd,_n as yd,Wfe as zd,pF as Ad,zfe as Bd,uF as Cd,mF as Dd,Zfe as Ed,Qfe as Fd,fF as Gd,V$ as Hd,k$ as Id,R$ as Jd,gF as Kd,yF as Ld,ahe as Md,D$ as Nd,CF as Od,uy as Pd,The as Qd,SF as Rd,vF as Sd,W$ as Td,z$ as Ud,my as Vd,Un as Wd,xF as Xd,G$ as Yd,H$ as Zd,_$ as _d,j$ as $d,U$ as ae,iye as be,Xn as ce,Ku as de,qu as ee,em as fe,DF as ge,FF as he,zF as ie,nm as je,ybe as ke,WA as le,BA as me,E0 as ne,$A as oe,eE as pe,xy as qe,wa as re,Axe as se,FH as te,ePe as ue,tPe as ve,UE as we,JE as xe,QE as ye,gPe as ze,yPe as Ae,CPe as Be,SPe as Ce,KE as De,eVe as Ee,EH as Fe,tVe as Ge,YE as He,eM as Ie,FVe as Je,AVe as Ke,oM as Le,nM as Me,iM as Ne,y_ as Oe,hM as Pe,v_ as Qe,Pc as Re,$we as Se,SLe as Te,vLe as Ue,TLe as Ve,bLe as We,ILe as Xe,Vc as Ye,k_ as Ze,gC as _e,kLe as $e,ELe as af,MLe as bf,OLe as cf,R_ as df,SM as ef,vM as ff,TM as gf,GLe as hf,HLe as if,_Le as jf,Fi as kf,xc as lf,Wwe as mf,YLe as nf,IM as of,tFe as pf,oFe as qf,rFe as rf,nFe as sf,iFe as tf,O_ as uf,aFe as vf,sFe as wf,lFe as xf,cFe as yf,W_ as zf,z_ as Af,dFe as Bf,H_ as Cf,__ as Df,wm as Ef,LM as Ff,kc as Gf,Y_ as Hf,ej as If,oj as Jf,nj as Kf,sj as Lf,pFe as Mf,uFe as Nf,mFe as Of,hFe as Pf,oAe as Qf,rAe as Rf,nAe as Sf,iAe as Tf,aAe as Uf,Rj as Vf,wj as Wf,Lj as Xf,Fj as Yf,uAe as Zf,UM as _f,EAe as $f,XM as ag,ZM as bg,sEe as cg,Hj as dg,_j as eg,lEe as fg,cEe as gg,jj as hg,OM as ig,Tj as jg,Pj as kg,KFe as lg};
//# sourceMappingURL=https://app.framerstatic.com/chunk-44NXH25V.mjs.map
